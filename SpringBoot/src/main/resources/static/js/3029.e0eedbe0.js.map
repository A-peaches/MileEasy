{"version":3,"file":"js/3029.e0eedbe0.js","mappings":"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","sources":["webpack://mile/./src/views/adminMileage/MileagePromotion.vue","webpack://mile/./src/views/adminMileage/MileagePromotion.vue?473b"],"sourcesContent":["<template>\r\n  <div class=\"cards page-back mx-auto\" style=\"color: #4b4a4a\">\r\n    <h2 class=\"bold-x-lg mt-5 mb-5 ml-5\" style=\"font-family: KB_C3\">\r\n      마일리지 프로모션\r\n    </h2>\r\n    <div\r\n      class=\"card shadow-sm mb-4 fade-in\"\r\n      style=\"background-color: #f5f5f5; border: #f5f5f5\"\r\n    >\r\n      <div class=\"card-body text-start card-ml\">\r\n        <h5 class=\"text-emphasis text-start\">\r\n          <i class=\"bi bi-info-circle-fill\"></i> 유의 사항\r\n        </h5>\r\n        <span class=\"ml-5\" style=\"font-size: 13pt\">\r\n          본 서비스는 직원들의 마일리지에 대한 관심을 높이고, 관련 혜택을\r\n          적극적으로 알리기 위해 제작되었습니다. 마일리지 홍보 이외의 목적으\r\n          <span class=\"ml-5\">로는 사용이 제한됩니다.</span>\r\n          <br />\r\n        </span>\r\n        <span class=\"ml-5\">\r\n          <strong class=\"text-red\"\r\n            >(일일 최대 발송 가능 횟수 : 1회 / 주중 최대 발송 가능 횟수 :\r\n            3회)</strong\r\n          >\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\" style=\"margin-top: 60px\">\r\n      <div class=\"left-item\">\r\n        <div class=\"phone-container\">\r\n          <img src=\"@/assets/img/iphone.png\" class=\"iphone\" />\r\n          <div class=\"phone-overlay\">\r\n            <div class=\"receiver-area\">{{ receiverDisplay || \"\" }}</div>\r\n            <div class=\"message-area\">\r\n              <div v-if=\"message\" class=\"message-bubble\">\r\n                {{ message || \"\" }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right-item\">\r\n        <div class=\"message-input-container\">\r\n          <p class=\"sub-title mb-3\" style=\"text-align: start\">\r\n            수신인 지정\r\n            <i class=\"bi bi-plus-lg\" @click=\"openModal\"></i>\r\n          </p>\r\n          <div></div>\r\n        </div>\r\n        <div class=\"flex\">\r\n          <input\r\n            v-model=\"receiverDisplay\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            style=\"width: 100%; height: 50px\"\r\n            placeholder=\"수신인을 추가해주세요.\"\r\n            @click=\"openModal\"\r\n            readonly\r\n          />\r\n        </div>\r\n\r\n        <div class=\"message-input-container mt-4\">\r\n          <div class=\"sub-title\">메시지 입력</div>\r\n          <button class=\"btn-yellow mb-4\" @click=\"generateAIContent\">\r\n            AI 내용 자동 생성\r\n          </button>\r\n        </div>\r\n\r\n        <textarea\r\n          v-model=\"message\"\r\n          class=\"form-control\"\r\n          style=\"height: 250px\"\r\n          placeholder=\"메시지를 입력하세요 (100자 이내)\"\r\n          maxlength=\"100\"\r\n        ></textarea>\r\n\r\n        <div class=\"sample-messages\">\r\n          <p class=\"sub-title my-3\" style=\"text-align: start\">샘플 메시지</p>\r\n          <div class=\"button-container\">\r\n            <button\r\n              v-for=\"(sample, index) in sampleMessages\"\r\n              :key=\"index\"\r\n              class=\"sample-button\"\r\n              @click=\"selectSampleMessage(sample)\"\r\n            >\r\n              {{ sample?.title }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"action-buttons mt-5\">\r\n          <button class=\"btn btn-primary\" @click=\"sendSms\">메시지 발송</button>\r\n          <button class=\"btn btn-secondary\" @click=\"reset\">작성 취소</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"showModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"closeModal\">&times;</span>\r\n        <h2>직원 검색</h2>\r\n        <hr style=\"margin-top: 5px; margin-bottom: 5px\" />\r\n        <div class=\"checkbox-group\">\r\n          <label\r\n            class=\"checkbox-container\"\r\n            v-for=\"option in filterOptions\"\r\n            :key=\"option.value\"\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              :value=\"option.value\"\r\n              :checked=\"selectedFilter === option.value\"\r\n              @change=\"handleFilterChange(option.value)\"\r\n            />\r\n            <span class=\"custom-checkbox\"></span>\r\n            <span class=\"checkbox-label\">{{ option.label }}</span>\r\n          </label>\r\n        </div>\r\n        <input\r\n          v-model=\"searchQuery\"\r\n          @input=\"searchEmployees\"\r\n          placeholder=\"직원 이름 또는 번호를 검색해주세요.\"\r\n        />\r\n        <div class=\"user-list\">\r\n          <ul>\r\n            <li\r\n              v-for=\"employee in searchResults\"\r\n              :key=\"employee.user_no\"\r\n              @click=\"addReceiver(employee)\"\r\n              :class=\"{ selected: isSelected(employee) }\"\r\n            >\r\n              {{ employee?.user_no }} - {{ employee?.user_name }}\r\n              <span v-if=\"isSelected(employee)\" class=\"checkmark\">✓</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <button @click=\"closeModal\" class=\"btn btn-primary mt-3\">완료</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api/axios\";\r\n\r\nexport default {\r\n  name: \"MileagePromotion\",\r\n  props: [\"mile_name\"],\r\n  data() {\r\n    return {\r\n      message: \"\",\r\n      receivers: [],\r\n      showModal: false,\r\n      searchQuery: \"\",\r\n      searchResults: [],\r\n      selectedFilter: null,\r\n      filterOptions: [\r\n        { label: \"전체\", value: \"all\" },\r\n        { label: \"영업점\", value: \"branch\" },\r\n        { label: \"본부\", value: \"headquarters\" },\r\n      ],\r\n      employees: [],\r\n      sampleMessages: [\r\n        {\r\n          title: \"신규 목표 안내\",\r\n          content: `${this.mile_name} 마일리지의 신규 목표가 생성 되었습니다🤗. 마왕 선정에 도움이 되는 목표 설정🎯 지금 함께 떠나볼까요?`,\r\n        },\r\n        {\r\n          title: \"M-Tip 방문 제안\",\r\n          content: `${this.mile_name} 마일리지, M-Tip 게시판에서 직원들과 🍯꿀팁을 공유해보세요! 당신도 마일리지 왕으로 거듭날수 있어요!`,\r\n        },\r\n        {\r\n          title: \"동기 부여\",\r\n          content: `현재 다른직원들의 ${this.mile_name} 마일리지 관심도가 낮아졌어요! 이때가 기회예요! 얼른 잡아버리세요 🧐`,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    selectSampleMessage(sample) {\r\n      this.message = sample.content;\r\n    },\r\n    async generateAIContent() {\r\n      console.log(\"AI 내용 생성\");\r\n      this.AIAlret()\r\n      try {\r\n        const response = await api.post('bot/sms', null, {\r\n          params: {\r\n            prompt:\r\n              `우리 회사 인사고과와 연결되는 마일리지 관리 사이트에서 ${this.mile_name} 마일리지에 관해서 홍보하고 방문을 독려하려고 홍보성 문자메시지를 보내려고해.` +\r\n              '그 홍보하는 문자 메시지 문구를 만들어주면 되는데, 마일리지는 이벤트성으로 종종 생성되는 공동목표에 참여해서 달성하면 뿌듯함을 얻기도하고, ' +\r\n              '마일리지가 전월에비해 크게 증가했거나, 마일리지부문에서 1등을하면 마왕(마일리지왕)이라는 배지를 획득하여 뿌듯함을 느낄수 있기도해. 이 사이트의 출석체크 또는 직원들과 마일리지 꿀팁을 공유하는 M-Tip게시판의 베스트 글로 선정되면 마왕 선정에 가점이 있어. 하지만 가장 중요한것은 인사고과에 반영된다는거야.  ' +\r\n              `내가 예시로 직접 만든 문자문구를 몇개 줄게! ${this.mile_name} 마일리지의 신규 목표가 생성 되었습니다. 마왕 선정에 도움이 되는 목표 설정 지금 함께 떠나볼까요?,${this.mile_name} 마일리지, M-Tip 게시판에서 직원들과 꿀팁을 공유해보세요! 당신도 마일리지 왕으로 거듭날수 있어요!,현재 다른직원들의 ${this.mile_name} 마일리지 관심도가 낮아졌어요! 이때가 기회예요! 얼른 잡아버리세요 🧐 `+\r\n              '꼭 이런 멘트가 들어가지않아도 마일리지에 관심이 돋거나 독려하는 문장으로도 충분해. 100자이내로 하나의 메시지만 생성 부탁할게. 바로 문자메시지를 발송할거니까  하나의 문자메시지내용 그대로를 줘.'\r\n          },\r\n        });\r\n        console.log(response.data);\r\n        this.message = response.data;\r\n      } catch (error) {\r\n        console.error('Error during API request:', error);\r\n      }\r\n    },\r\n    warningAlert(alret) {\r\n      this.$swal({\r\n        title: '경고',\r\n        text: alret,\r\n        icon: 'warning',\r\n        scrollbarPadding: false,\r\n      });\r\n    },\r\n    reset() {\r\n      this.message = \"\";\r\n      this.receivers = [];\r\n    },\r\n    openModal() {\r\n      this.showModal = true;\r\n      this.searchResults = this.employees;\r\n      this.selectedFilter = null; // 필터 초기화\r\n      this.searchQuery = \"\";\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.searchQuery = \"\";\r\n      this.searchResults = [];\r\n    },\r\n    searchEmployees() {\r\n      this.filterEmployees(); // 필터 적용 후 검색 수행\r\n    },\r\n    addReceiver(employee) {\r\n    const index = this.receivers.findIndex(\r\n      (r) => r.user_no === employee.user_no\r\n    );\r\n    if (index === -1) {\r\n      this.receivers.push(employee);\r\n    } else {\r\n      this.receivers.splice(index, 1);\r\n    }\r\n  },\r\n\r\n    isSelected(employee) {\r\n      return this.receivers.some((r) => r.user_no === employee.user_no);\r\n    },\r\n    handleFilterChange(value) {\r\n    if (this.selectedFilter === value) {\r\n      this.selectedFilter = null;\r\n      this.receivers = []; // 선택 해제 시 receivers 초기화\r\n    } else {\r\n      this.selectedFilter = value;\r\n      this.addEmployeesByFilter(value); // 필터 선택 시 직원 추가\r\n    }\r\n    this.filterEmployees(); // 검색 결과 업데이트\r\n  },\r\n  addEmployeesByFilter(filter) {\r\n    if (filter === \"all\") {\r\n      this.receivers = [...this.employees];\r\n    } else if (filter === \"branch\") {\r\n      this.receivers = this.employees.filter(\r\n        (emp) => emp.job_no == 1 || emp.job_no == 2\r\n      );\r\n    } else if (filter === \"headquarters\") {\r\n      this.receivers = this.employees.filter((emp) => emp.job_no == 3);\r\n    }\r\n  },\r\n\r\n    removeEmployeesByFilter(filter) {\r\n      if (filter === \"all\") {\r\n        this.receivers = [];\r\n      } else if (filter === \"branch\") {\r\n        this.receivers = this.receivers.filter(\r\n          (emp) => emp.job_no !== 1 && emp.job_no !== 2\r\n        );\r\n      } else if (filter === \"headquarters\") {\r\n        this.receivers = this.receivers.filter((emp) => emp.job_no !== 3);\r\n      }\r\n    },\r\n    filterEmployees() {\r\n    let filteredEmployees = this.employees;\r\n\r\n    // 필터 적용\r\n    if (this.selectedFilter === \"branch\") {\r\n      filteredEmployees = filteredEmployees.filter(\r\n        (emp) => emp.job_no == 1 || emp.job_no == 2\r\n      );\r\n    } else if (this.selectedFilter === \"headquarters\") {\r\n      filteredEmployees = filteredEmployees.filter((emp) => emp.job_no == 3);\r\n    }\r\n\r\n    // 검색어 적용\r\n    if (this.searchQuery) {\r\n      const lowercaseSearchTerm = this.searchQuery.toLowerCase();\r\n      filteredEmployees = filteredEmployees.filter((user) => {\r\n        return (\r\n          user.user_name.toLowerCase().includes(lowercaseSearchTerm) ||\r\n          user.user_no.toString().includes(this.searchQuery)\r\n        );\r\n      });\r\n    }\r\n\r\n    // searchResults 업데이트\r\n    this.searchResults = filteredEmployees;\r\n  },\r\n\r\n    applySearch() {\r\n      if (this.searchQuery) {\r\n        const lowercaseSearchTerm = this.searchQuery.toLowerCase();\r\n        this.searchResults = this.searchResults.filter((user) => {\r\n          return (\r\n            user.user_name.toLowerCase().includes(lowercaseSearchTerm) ||\r\n            user.user_no.toString().includes(this.searchQuery)\r\n          );\r\n        });\r\n      }\r\n    },\r\n\r\n    //모든 유저 갖고오기\r\n    async getAllUsers() {\r\n      try {\r\n        const response = await api.get(\"/user/getAllUsers\");\r\n        this.employees = response.data;\r\n        console.log(\"모든직원정보 :\", response.data);\r\n      } catch (error) {\r\n        console.error(\"Error getAllUsers\");\r\n      }\r\n    },\r\n    succesAlert() {\r\n      this.$swal({\r\n        title: \"성공\",\r\n        text: \"메시지 발송이 완료되었습니다.\",\r\n        icon: \"success\",\r\n        scrollbarPadding: false,\r\n      });\r\n    },\r\n    async sendSms() {\r\n\r\n      \r\n      if (this.message.trim().length === 0) {\r\n        this.warningAlert('메시지를 입력해주세요.');\r\n        return;\r\n      }\r\n\r\n      if (this.receivers.length === 0) {\r\n        this.warningAlert('수신자를 입력해주세요.');\r\n        return;\r\n      }\r\n\r\n\r\n      \r\n      try {\r\n        let receiversPhone = this.receivers.map((r) => r.user_tel);\r\n        const response = await api.post(\"/user/sendSms\", {\r\n          to: receiversPhone,\r\n          text: this.message,\r\n          mile : this.mile_name\r\n        });\r\n        console.log(response);\r\n        this.succesAlert();\r\n        this.reset();\r\n      } catch (error) {\r\n        console.error(\"Error sending SMS:\", error);\r\n        this.errorAlert(error.message || \"메시지 전송 중 오류가 발생했습니다.\");\r\n      }\r\n    },\r\n    AIAlret() {\r\n    let timerInterval;\r\n    let timeLeft = 10; \r\n    \r\n    this.$swal({\r\n      title: \"AI 문구 생성\",\r\n      html: \"<b>${timeLeft}</b>초 후에 완료됩니다....\",\r\n      timer: 10000,\r\n      timerProgressBar: true,\r\n      scrollbarPadding: false,\r\n      \r\n      didOpen: () => {\r\n        const popup = this.$swal.getPopup();\r\n        popup.style.height = '200px'; // 원하는 높이로 조정\r\n\r\n        this.$swal.showLoading();\r\n        const timer = this.$swal.getHtmlContainer().querySelector(\"b\");\r\n        timer.textContent = `${timeLeft}`; // 초기 시간 설정\r\n        timerInterval = setInterval(() => {\r\n          timeLeft -= 1;\r\n          timer.textContent = `${timeLeft}`;\r\n          if (timeLeft === 0) {\r\n            clearInterval(timerInterval);\r\n          }\r\n        }, 1000); // 1초마다 업데이트\r\n      },\r\n      willClose: () => {\r\n        clearInterval(timerInterval);\r\n      },\r\n    }).then((result) => {\r\n      if (result.dismiss === this.$swal.DismissReason.timer) {\r\n        console.log(\"I was closed by the timer\");\r\n      }\r\n    });\r\n   }\r\n  },\r\n\r\n  computed: {\r\n    receiverDisplay() {\r\n      const count = this.receivers.length;\r\n      if (count === 0) {\r\n        return \"\";\r\n      } else if (count <= 3) {\r\n        return this.receivers.map((r) => r.user_name).join(\", \");\r\n      } else {\r\n        const firstThree = this.receivers\r\n          .slice(0, 3)\r\n          .map((r) => r.user_name)\r\n          .join(\", \");\r\n        return `${firstThree} 외 ${count - 3}명`;\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllUsers();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page-back {\r\n  padding-left: 5%;\r\n  padding-right: 5%;\r\n  max-width: 1200px;\r\n}\r\n.text-emphasis {\r\n  font-size: 13pt;\r\n  font-family: \"KB_S5\", sans-serif;\r\n  font-weight: 600;\r\n  color: #4b4a4a;\r\n}\r\n.card {\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n.card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\n.iphone {\r\n  width: 90%;\r\n  max-width: 400px;\r\n  margin-right: 40px;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.left-item {\r\n  width: 45%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.right-item {\r\n  width: 55%;\r\n  padding: 5% 0;\r\n}\r\n\r\n.sub-title {\r\n  font-family: \"KB_C3\", sans-serif;\r\n  color: #4b4a4a;\r\n  font-size: 15pt;\r\n  font-weight: 600;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.button-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 10px;\r\n}\r\n\r\n.phone-container {\r\n  position: relative;\r\n  width: 90%;\r\n  max-width: 400px;\r\n}\r\n\r\n.phone-overlay {\r\n  position: absolute;\r\n  top: 12%;\r\n  left: 7%;\r\n  right: 7%;\r\n  bottom: 12%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.close {\r\n  font-size: 25px;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 15px;\r\n}\r\n\r\n.receiver-area {\r\n  padding: 10px;\r\n  text-align: start;\r\n  font-weight: bold;\r\n  position: absolute;\r\n  top: 10%;\r\n  left: 15%;\r\n  font-size: 10pt;\r\n}\r\n\r\n.message-area {\r\n  position: absolute;\r\n  position: absolute;\r\n  bottom: 40%;\r\n  right: 12%; /* 오른쪽 정렬을 위해 변경 */\r\n  width: 80%; /* 너비 설정 */\r\n  max-height: 70%;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  align-items: flex-end; /* 메시지를 오른쪽으로 정렬 */\r\n  padding-right: 10px; /* 오른쪽 여백 추가 */\r\n}\r\n\r\n.message-bubble {\r\n  background-color: #e1ffc7;\r\n  border-radius: 10px;\r\n  padding: 8px 12px;\r\n  margin-top: 10px; /* margin-bottom 대신 margin-top 사용 */\r\n  max-width: 100%;\r\n  word-wrap: break-word;\r\n  transition: all 0.3s ease;\r\n}\r\n/* 스크롤바 스타일링 (선택사항) */\r\n.message-area::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.message-area::-webkit-scrollbar-thumb {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  border-radius: 3px;\r\n}\r\n\r\n.sample-button {\r\n  flex: 1;\r\n  background-color: #f8f9fa;\r\n  color: #212529;\r\n  border: 1px solid #ced4da;\r\n  padding: 25px 10px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease, color 0.3s ease;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  margin-top: 30px;\r\n}\r\n\r\n.btn {\r\n  padding: 10px 20px;\r\n  font-size: 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s, transform 0.1s;\r\n}\r\n\r\n.btn:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #5fc9ad; /* 초록색 계열 */\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: rgb(5, 190, 113);\r\n}\r\n\r\n.user-list {\r\n  max-height: 150px;\r\n  overflow-y: auto;\r\n  border: 1px solid #ccc;\r\n  background-color: white;\r\n}\r\nul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\nul li {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n}\r\nul li:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #ff6655; /* 빨간색 계열 */\r\n  color: white;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: rgb(200, 91, 79);\r\n}\r\n\r\n.sample-button:hover {\r\n  background-color: #e9ecef;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n  text-align: start;\r\n  width: 100%;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n}\r\n\r\n.message-input-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  margin-top: 10px;\r\n}\r\n\r\n.btn-yellow {\r\n  white-space: nowrap;\r\n  background-color: #ffc107;\r\n  color: #000;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.btn-yellow:hover {\r\n  background-color: #ffca2c;\r\n}\r\n\r\n.sample-messages {\r\n  margin-top: 20px;\r\n}\r\n\r\n.btn-outline-secondary {\r\n  color: #6c757d;\r\n  border-color: #6c757d;\r\n  background-color: transparent;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-outline-secondary:hover {\r\n  color: #fff;\r\n  background-color: #6c757d;\r\n  border-color: #6c757d;\r\n}\r\n\r\n.bi-plus-lg {\r\n  cursor: pointer;\r\n  font-size: 17pt;\r\n}\r\n\r\n.modal {\r\n  position: fixed;\r\n  z-index: 1000;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.modal-content {\r\n  background-color: #fefefe;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  width: 80%;\r\n  max-width: 500px;\r\n}\r\n\r\n.user-list li.selected {\r\n  background-color: #e6f3ff;\r\n}\r\n\r\n.checkmark {\r\n  color: #4caf50;\r\n  margin-left: 5px;\r\n}\r\n\r\n.checkbox-group {\r\n  justify-content: start;\r\n  text-align: start;\r\n  margin-bottom: 15px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.checkbox-container {\r\n  align-items: start;\r\n  cursor: pointer;\r\n  position: relative;\r\n  top: -5px; /* 위치를 살짝 위로 올립니다 */\r\n}\r\n\r\n.checkbox-container input[type=\"checkbox\"] {\r\n  display: none; /* 기본 체크박스를 숨깁니다 */\r\n}\r\n\r\n.checkbox-container .custom-checkbox {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  border: 2px solid #ccc;\r\n  margin-left: 10px;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  position: relative;\r\n}\r\n\r\n.checkbox-container input[type=\"checkbox\"]:checked + .custom-checkbox {\r\n  background-color: #f6a319; /* 체크된 상태일 때 배경색 변경 (노란색) */\r\n  border: none; /* 체크된 상태일 때 테두리 제거 */\r\n}\r\n\r\n.checkbox-container input[type=\"checkbox\"]:checked + .custom-checkbox::after {\r\n  content: \"✓\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  color: white;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.checkbox-label {\r\n  margin-left: 10px; /* 체크박스와 텍스트 사이 간격 */\r\n  font-family: \"KB_S5\", sans-serif;\r\n  font-size: 16px;\r\n}\r\n\r\n/*스크롤바 */\r\n/* Webkit 브라우저용 스크롤바 스타일 */\r\n.user-list::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.user-list::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 4px;\r\n}\r\n\r\n.user-list::-webkit-scrollbar-thumb {\r\n  background: #888;\r\n  border-radius: 4px;\r\n}\r\n\r\n.user-list::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n\r\n/* 파이어폭스용 스크롤바 스타일 */\r\n.user-list {\r\n  scrollbar-width: thin;\r\n  scrollbar-color: #d4d4d4 #f1f1f1;\r\n}\r\n\r\n/* IE와 엣지용 스크롤바 스타일 */\r\n.user-list {\r\n  -ms-overflow-style: none;\r\n}\r\n</style>","import { render } from \"./MileagePromotion.vue?vue&type=template&id=644bbfca&scoped=true\"\nimport script from \"./MileagePromotion.vue?vue&type=script&lang=js\"\nexport * from \"./MileagePromotion.vue?vue&type=script&lang=js\"\n\nimport \"./MileagePromotion.vue?vue&type=style&index=0&id=644bbfca&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-644bbfca\"]])\n\nexport default __exports__"],"names":["class","style","_createStaticVNode","_createElementVNode","src","_imports_0","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","$options","receiverDisplay","_hoisted_10","$data","message","_hoisted_11","_createCommentVNode","_hoisted_12","_hoisted_13","_hoisted_14","_createTextVNode","onClick","_cache","args","openModal","_hoisted_15","_hoisted_16","$event","type","placeholder","readonly","_hoisted_17","_hoisted_18","generateAIContent","maxlength","_hoisted_19","_hoisted_20","_hoisted_21","_Fragment","_renderList","sampleMessages","sample","index","selectSampleMessage","title","_hoisted_22","_hoisted_23","sendSms","reset","showModal","_hoisted_24","_hoisted_25","closeModal","_hoisted_26","_hoisted_27","_hoisted_28","filterOptions","option","value","checked","selectedFilter","onChange","handleFilterChange","_hoisted_29","_hoisted_30","_hoisted_31","label","searchQuery","onInput","searchEmployees","_hoisted_32","searchResults","employee","user_no","addReceiver","_normalizeClass","selected","isSelected","user_name","_hoisted_34","_hoisted_33","name","props","data","receivers","employees","content","this","mile_name","methods","console","log","AIAlret","response","api","post","params","prompt","error","warningAlert","alret","$swal","text","icon","scrollbarPadding","filterEmployees","findIndex","r","push","splice","some","addEmployeesByFilter","filter","emp","job_no","removeEmployeesByFilter","filteredEmployees","lowercaseSearchTerm","toLowerCase","user","includes","toString","applySearch","getAllUsers","get","succesAlert","trim","length","receiversPhone","map","user_tel","to","mile","errorAlert","timerInterval","timeLeft","html","timer","timerProgressBar","didOpen","popup","getPopup","height","showLoading","getHtmlContainer","querySelector","textContent","setInterval","clearInterval","willClose","then","result","dismiss","DismissReason","computed","count","join","firstThree","slice","mounted","__exports__","render"],"sourceRoot":""}