{"version":3,"file":"js/9135.c09dc984.js","mappings":"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","sources":["webpack://mile/./src/views/user/mileage/MyMileageView.vue","webpack://mile/./src/views/user/mileage/MyMileageView.vue?b41c"],"sourcesContent":["<template>\r\n  <div class=\"cards page-back mx-auto\" style=\"color: #4b4a4a\">\r\n    <h2\r\n      class=\"bold-x-lg my-5 ml-5\"\r\n      ref=\"helpIcon\"\r\n      style=\"font-family: KB_C3\"\r\n    >\r\n      나의 마일리지\r\n      <i\r\n        class=\"bi bi-question-circle help-icon\"\r\n        @click=\"toggleHelpPopover\"\r\n        style=\"font-size: 20pt\"\r\n      ></i>\r\n    </h2>\r\n\r\n    <div v-if=\"showHelpPopover\" class=\"help-popover\" ref=\"helpPopover\">\r\n      <div style=\"font-size: 12pt\">\r\n        <span\r\n          >이것은 마일리지 카드입니다. 여기에서 귀하의 마일리지 포인트와 최대\r\n          마일리지, <br />\r\n          그리고 다른 사용자들과 비교한 귀하의 위치를 확인할 수 있습니다.</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <div class=\"row mx-2\" style=\"margin-top: 100px\" v-if=\"dataLoaded\">\r\n      <div\r\n        v-for=\"(card, index) in filteredMyMile\"\r\n        :key=\"index\"\r\n        class=\"col-6 mb-3\"\r\n      >\r\n        <div\r\n          class=\"cards mx-3 fade-up-item\"\r\n          style=\"background-color: #f9f9f9; height: 280px; position: relative\"\r\n        >\r\n          <div class=\"flex-between\">\r\n            <div class=\"flex mb-2\">\r\n              <div\r\n                class=\"text-start KB_C3 fw-bolder\"\r\n                style=\"font-size: 18pt; margin: 0\"\r\n              >\r\n                {{ card.mile_name }}\r\n              </div>\r\n              <div class=\"text-end\" style=\"top: -12px; position: relative\">\r\n                <router-link\r\n                  :to=\"{\r\n                    name: 'mileageDetail',\r\n                    params: { mile_no: card.mile_no },\r\n                  }\"\r\n                  class=\"KB_C3 brown\"\r\n                  style=\"text-decoration: none; font-size: 12pt\"\r\n                >\r\n                  <strong>바로가기 ></strong>\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"flex justify-content-between align-items-center\"\r\n            style=\"padding-bottom: 60px\"\r\n          >\r\n            <div style=\"width: 55%; font-size: 32pt; position: relative\">\r\n              <span class=\"KB_C2\">\r\n                <span class=\"KB_C2 highlight\">{{ card.user_point }}</span>\r\n                / {{ card.mile_max != 0 ? card.mile_max : \"-\" }}</span\r\n              >\r\n              <div class=\"text-start recent-update\">\r\n                ( 최근 업데이트 : {{ card.mile_date }} )\r\n              </div>\r\n            </div>\r\n            <div\r\n              class=\"flex progress-container\"\r\n              style=\"\r\n                width: 43%;\r\n                height: 105%;\r\n                position: relative;\r\n                padding-right: 5%;\r\n              \"\r\n            >\r\n            <div class=\"progress-bar mb-4\">\r\n  <div\r\n    class=\"progress\"\r\n    :style=\"{\r\n      height: calculateProgressHeight(card.all_point)+'%'\r\n    }\"\r\n  ></div>\r\n  <div class=\"marker top\">\r\n    <i class=\"bi bi-caret-right-fill\"></i>&nbsp;상위 20%\r\n  </div>\r\n  <div class=\"marker middle\">\r\n    <i class=\"bi bi-caret-right-fill\"></i>&nbsp;상위 60%\r\n  </div>\r\n  <div class=\"marker bottom\">\r\n    <i class=\"bi bi-caret-right-fill\"></i>&nbsp;상위 100%\r\n  </div>\r\n</div>\r\n              <div class=\"below-text mb-2 ml-\">\r\n                &lt; 총 평균 대비 상위 그래프 &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"my-5\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"MyMileageView\",\r\n\r\n  data() {\r\n    return {\r\n      showHelpPopover: false,\r\n      dataLoaded: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"mileScore\", [\"getMyMiles\"]),\r\n\r\n    calculateProgressHeight(allPoint) {\r\n  // all_point가 0이면 프로그레스 바를 표시하지 않음\r\n  if (allPoint === 0) return 0.1;\r\n  \r\n  // all_point가 낮을수록 (상위권일수록) 높이가 높아야 함\r\n  return Math.max(0, Math.min(100, 100 - allPoint));\r\n},\r\n    setTransitionDelay(el, index) {\r\n      el.style.setProperty(\"--index\", index);\r\n    },\r\n    applyFadeUpEffect() {\r\n      console.log(\"Applying fade-up effect\");\r\n      const items = this.$el.querySelectorAll(\".fade-up-item\");\r\n      console.log(`Found ${items.length} items to animate`);\r\n\r\n      items.forEach((item, index) => {\r\n        item.style.setProperty(\"--index\", index);\r\n        item.style.setProperty(\"z-index\", items.length - index);\r\n\r\n        // 모든 항목에 대해 약간의 기본 지연 시간을 설정\r\n        const baseDelay = 50;\r\n        const delay = baseDelay + 50 * index;\r\n\r\n        setTimeout(() => {\r\n          item.classList.add(\"fade-up-active\");\r\n        }, delay);\r\n      });\r\n    },\r\n    toggleHelpPopover(event) {\r\n      event.stopPropagation(); // 이벤트 전파 중지\r\n      console.log(\"toggleHelpPopover 클릭\");\r\n      this.showHelpPopover = !this.showHelpPopover;\r\n      console.log(\"showHelpPopover:\", this.showHelpPopover); // 추가\r\n      if (this.showHelpPopover) {\r\n        document.addEventListener(\"click\", this.handleClickOutside);\r\n      } else {\r\n        document.removeEventListener(\"click\", this.handleClickOutside);\r\n      }\r\n    },\r\n    handleClickOutside(event) {\r\n      console.log(\"handleClickOutside 실행\");\r\n      if (\r\n        this.$refs.helpPopover &&\r\n        !this.$refs.helpPopover.contains(event.target) &&\r\n        !this.$refs.helpIcon.contains(event.target)\r\n      ) {\r\n        console.log(\"팝오버 닫기\");\r\n        this.showHelpPopover = false;\r\n        document.removeEventListener(\"click\", this.handleClickOutside);\r\n      }\r\n    },\r\n  },\r\n  mounted() {},\r\n  computed: {\r\n    ...mapGetters(\"login\", [\"getLoginInfo\"]),\r\n    ...mapGetters(\"mileScore\", [\"getMyMile\"]),\r\n\r\n    filteredMyMile() {\r\n  const jobNo = this.getLoginInfo ? this.getLoginInfo.job_no : null;\r\n  if (!jobNo) {\r\n    return [];\r\n  }\r\n  let filteredData = jobNo === \"기획\" \r\n    ? this.getMyMile.filter((item) => item.mile_is_branch === false)\r\n    : this.getMyMile;\r\n  \r\n  // 고유 식별자를 사용한 중복 제거\r\n  const uniqueData = Array.from(new Map(filteredData.map(item => [item.mile_no, item])).values());\r\n  return uniqueData;\r\n}\r\n  },\r\n  watch: {\r\n    getLoginInfo: {\r\n      immediate: true,\r\n      handler(newLoginInfo) {\r\n        if (newLoginInfo && newLoginInfo.user_no) {\r\n          this.getMyMiles(newLoginInfo.user_no).then(() => {\r\n            this.dataLoaded = true;\r\n            this.$nextTick(() => {\r\n              this.applyFadeUpEffect();\r\n            });\r\n          });\r\n        } else {\r\n          // 로그인 정보가 없을 때 데이터 초기화\r\n          this.dataLoaded = false;\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.help-icon {\r\n  cursor: pointer;\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.help-popover {\r\n  position: absolute;\r\n  left: 980px; /* 조정 가능 */\r\n  top: 335px; /* 조정 가능 */\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  z-index: 10000;\r\n  width: 600px;\r\n  margin-left: 10px; /* 아이콘과의 간격 */\r\n  display: block; /* 추가 */\r\n  background-color: white; /* 임시로 눈에 띄는 색상 사용 */\r\n  border: 2px solid #e4e4e4;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-right: -15px;\r\n  margin-left: -15px;\r\n}\r\n\r\n.col-6 {\r\n  flex: 0 0 50%;\r\n  max-width: 50%;\r\n  padding-right: 15px;\r\n  padding-left: 15px;\r\n}\r\n\r\n.card {\r\n  border: 1px solid #ddd;\r\n  padding: 15px;\r\n  margin-bottom: 15px;\r\n  border-radius: 10px; /* 모서리 둥글게 */\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* 살짝의 그림자 추가 */\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.recent-update {\r\n  font-size: 10pt;\r\n  position: absolute;\r\n  margin-top: 60px;\r\n  color: gray;\r\n}\r\n\r\n.progress-bar {\r\n  width: 60px;\r\n  height: 95%;\r\n  background-color: #e0e0e0;\r\n  position: relative;\r\n  border-radius: 5px;\r\n  margin: 0 auto;\r\n  overflow: visible;\r\n}\r\n\r\n.progress {\r\n  width: 100%;\r\n  background-color: #ffca05;\r\n  position: absolute;\r\n  border-radius: 5px;\r\n  bottom: 0;\r\n  transition: height 0.5s;\r\n}\r\n\r\n.marker {\r\n  position: absolute;\r\n  left: 70px;\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.top {\r\n  top: 20%;\r\n}\r\n\r\n.middle {\r\n  top: 60%;\r\n}\r\n\r\n.bottom {\r\n  bottom: 0;\r\n}\r\n\r\n.below-text {\r\n  position: absolute;\r\n  bottom: -20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n  color: gray; /* 텍스트 색상 변경 */\r\n}\r\n\r\n.progress-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.highlight {\r\n  background-color: #fff6d4;\r\n  border-radius: 30px; /* 둥근 모서리 */\r\n  padding: 4px 8spx; /* 내부 여백을 추가하여 크기 조절 */\r\n  display: inline-block; /* 인라인 블록 요소로 설정하여 크기 조절 */\r\n}\r\n\r\n.fade-up-item {\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n  transition: all 0.5s ease-out;\r\n  transition-delay: calc(var(--index) * 100ms);\r\n  position: relative; /* z-index가 작동하도록 */\r\n}\r\n.fade-up-active {\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n</style>\r\n","import { render } from \"./MyMileageView.vue?vue&type=template&id=31e08d04&scoped=true\"\nimport script from \"./MyMileageView.vue?vue&type=script&lang=js\"\nexport * from \"./MyMileageView.vue?vue&type=script&lang=js\"\n\nimport \"./MyMileageView.vue?vue&type=style&index=0&id=31e08d04&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31e08d04\"]])\n\nexport default __exports__"],"names":["class","style","ref","key","_createElementVNode","_createTextVNode","_hoisted_4","_createStaticVNode","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","args","$options","toggleHelpPopover","$data","showHelpPopover","_hoisted_3","_hoisted_5","_createCommentVNode","dataLoaded","_hoisted_6","_Fragment","_renderList","filteredMyMile","card","index","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","mile_name","_hoisted_11","_createVNode","_component_router_link","to","mile_no","default","_withCtx","_hoisted_12","_","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","user_point","mile_max","_hoisted_17","mile_date","_hoisted_18","_hoisted_19","_normalizeStyle","calculateProgressHeight","all_point","_hoisted_20","_hoisted_23","_hoisted_24","name","data","methods","mapActions","allPoint","Math","max","min","setTransitionDelay","el","setProperty","applyFadeUpEffect","console","log","items","this","$el","querySelectorAll","length","forEach","item","baseDelay","delay","setTimeout","classList","add","event","stopPropagation","document","addEventListener","handleClickOutside","removeEventListener","$refs","helpPopover","contains","target","helpIcon","mounted","computed","mapGetters","jobNo","getLoginInfo","job_no","filteredData","getMyMile","filter","mile_is_branch","uniqueData","Array","from","Map","map","values","watch","immediate","handler","newLoginInfo","user_no","getMyMiles","then","$nextTick","__exports__","render"],"sourceRoot":""}