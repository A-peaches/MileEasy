{"version":3,"file":"js/1794.4c4eb1a3.js","mappings":"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","sources":["webpack://mile/./src/views/adminMileage/commentMileage/CommentMieageeAdminView.vue","webpack://mile/./src/views/adminMileage/commentMileage/CommentMieageeAdminView.vue?4093"],"sourcesContent":["<!--üö®ÎßàÏùºÎ¶¨ÏßÄ Í¥ÄÎ¶¨Ïûê :  ÎßàÏùºÎ¶¨ÏßÄ Î©òÌä∏ÌôîÎ©¥-->\r\n<template>\r\n  <div class=\"cards page-back mx-auto\" :style=\"{height:computedHeight}\">\r\n    <h2 class=\"bold-x-lg my-5\" style=\"font-family: KB_C3\">ÎßàÏùºÎ¶¨ÏßÄ Î©òÌä∏</h2>\r\n    <div style=\"padding:0 5%;\">\r\n      <div class=\"p-4 mt-5\">\r\n        <h3 class=\"lg p-3\" style=\"text-align: left; font-family: KB_C2\">ÎßàÏùºÎ¶¨ÏßÄ Ìï≠Î™©</h3>\r\n        <div class=\"p-2\">\r\n          <div class=\"input-gray p-3\" style=\"text-align:left;\">\r\n            <span class=\"lg2\" style=\"width: 100%; text-align: left;\">{{mile_name}}&nbsp;ÎßàÏùºÎ¶¨ÏßÄ</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"p-4\">\r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n          <h3 class=\"lg p-3\" style=\"text-align: left; font-family: KB_C2\">Ï∂îÏ≤ú Î©òÌä∏</h3>\r\n          <button @click=\"addComment\">\r\n            <span class=\"lg2 mr-5 brown\" style=\"text-align:right;\"><i class=\"bi bi-plus-lg\"></i>&nbsp;Ï∂îÍ∞ÄÌïòÍ∏∞</span>\r\n          </button>\r\n        </div>\r\n        <div v-for=\"(recommand, index) in mileRecommands\" :key=\"index\" class=\"p-2 d-flex justify-content-between align-items-center\">\r\n          <div class=\"input-gray p-3\" style=\"width: 95%; text-align:left;\">\r\n            <input v-model=\"recommand.mile_mention\" class=\"lg2\" placeholder=\"Ï∂îÏ≤ú Î©òÌä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" style=\"text-align: left; width: 100%;\"/>\r\n          </div>\r\n          <button @click=\"deleteComment(index)\">\r\n            <span class=\"lg brown\"><i class=\"bi bi-dash-lg\"></i></span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style=\"padding-top: 10%\">\r\n      <button @click=\"addCommentAction\" class=\"btn-green\" style=\"width:8vw; height: 3vw; font-size:1.2vw; font-family: KB_C2;\">Îì±Î°ù</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\nexport default {\r\n  name: 'CommentMieageeAdminView',\r\n  data(){\r\n    return {\r\n      mile_no: '',\r\n      mile_name: '',\r\n      baseHeight: 80,\r\n      increment: 10,\r\n      mileRecommands: []\r\n    }\r\n  },\r\n  computed :{\r\n    ...mapGetters('mile', ['getMileInfo']),\r\n    ...mapGetters('login', ['getLoginInfo']),\r\n    ...mapGetters('mileRecommand', ['getMileRecommandInfo']),\r\n    loginInfo(){\r\n      return this.getLoginInfo;\r\n    },\r\n    mileInfo() {\r\n      return this.getMileInfo;\r\n    },\r\n    computedHeight(){\r\n      return `${this.baseHeight + this.mileRecommands.length * this.increment}vh`;\r\n    },\r\n    mileRecommandInfo(){\r\n      return this.getMileRecommandInfo;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('mile', ['fetchMileInfo']),\r\n    ...mapActions('mileRecommand', ['getMileRecommand','updateRecommands', 'addRecommands', 'deleteRecommands']),\r\n    addComment(){\r\n      const newRecommand = {\r\n        mile_mention: '', \r\n        mile_no: this.mileRecommands.length > 0 ? this.mileRecommands[0].mile_no : null, \r\n        mile_link: this.mileRecommands.length > 0 ? this.mileRecommands[0].mile_link : null, \r\n        mile_recommand_no: null\r\n      };\r\n      this.mileRecommands.push(newRecommand);\r\n    },\r\n    async deleteComment(index){\r\n      const confirmDeletion = await this.showAlertConfirm(\"Ï∂îÏ≤úÎ©òÌä∏Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\", \"warning\");\r\n      if(confirmDeletion){\r\n        const recommand = this.mileRecommands[index];\r\n        if(recommand.mile_recommand_no){\r\n          // DBÏóê ÏûàÎäî Î©òÌä∏Î•º ÏÇ≠Ï†úÌï† Í≤ΩÏö∞ \r\n          const response = await this.deleteRecommands(recommand);\r\n          if(response && response.data.success){\r\n            this.mileRecommands.splice(index, 1); // Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò Ìï≠Î™©ÏùÑ Î∞∞Ïó¥ÏóêÏÑú ÏÇ≠Ï†ú \r\n            console.log('ÏÇ≠Ï†ú ÏôÑÎ£å');\r\n          }else{\r\n            console.log('ÏÇ≠Ï†ú Ïã§Ìå®');\r\n          }\r\n        }else{\r\n          // DBÏóê ÏóÜÎäî Î©òÌä∏Î•º ÏÇ≠Ï†úÌï† Í≤ΩÏö∞\r\n          this.mileRecommands.splice(index, 1); // Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò Ìï≠Î™©ÏùÑ Î∞∞Ïó¥ÏóêÏÑú ÏÇ≠Ï†ú \r\n        }\r\n      }else{\r\n        console.log('ÏÇ≠Ï†ú Ï∑®ÏÜå');\r\n      }\r\n    },\r\n    async addCommentAction(){\r\n      if(this.mileRecommands!=null){\r\n        for(const recommand of this.mileRecommands){\r\n          if(recommand.mile_recommand_no){\r\n            // recommandÍ∞Ä Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏ \r\n            await this.updateRecommands(recommand);\r\n          }else{\r\n            // recommandÍ∞Ä Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏúºÎ©¥ ÏÉàÎ°ú Ï∂îÍ∞Ä \r\n            await this.addRecommands(recommand);\r\n          }\r\n        }\r\n        this.showAlert('Ï∂îÏ≤ú Î©òÌä∏Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§', 'success', '#');\r\n      }else{\r\n        this.showAlert('Ï∂îÏ≤ú Î©òÌä∏ Îì±Î°ùÏù¥ Ïã§Ìå®ÌñàÏäµÎãàÎã§', 'error', '#')\r\n      }\r\n    },\r\n    showAlert(t, i, r) {\r\n      this.$swal({\r\n        title: t,\r\n        icon: i,\r\n        scrollbarPadding: false\r\n      }).then((result) => {\r\n        if(result.isConfirmed){\r\n          if(r == '#'){\r\n            location.reload(); // ÌòÑÏû¨ ÌéòÏù¥ÏßÄ ÏÉàÎ°úÍ≥†Ïπ®\r\n          }else{\r\n            this.$router.push(r);\r\n          }\r\n        }\r\n      })\r\n    },\r\n    showAlertConfirm(t, i) {\r\n      return this.$swal({\r\n        title: t,\r\n        icon: i,\r\n        showCancelButton: true,\r\n        confirmButtonText: 'ÌôïÏù∏',\r\n        cancelButtonText: 'Ï∑®ÏÜå',\r\n        scrollbarPadding: false\r\n      }).then((result) => {\r\n        return result.isConfirmed;\r\n      });\r\n    },\r\n  },\r\n  async created(){\r\n    const user_no = this.loginInfo ? this.loginInfo.user_no : null;\r\n    if(user_no){\r\n      await this.fetchMileInfo(user_no);\r\n      const mileInfo = this.getMileInfo;\r\n      if(mileInfo){\r\n        this.mile_name = mileInfo.mile_no;\r\n      }else{\r\n        console.error('ÎßàÏùºÎ¶¨ÏßÄ Ïù¥Î¶ÑÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.');\r\n      }\r\n    }else{\r\n      console.error('user_noÏù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§.');\r\n    }\r\n    const mile_no = this.loginInfo ? this.loginInfo.mile_no : null;\r\n    this.mile_no = mile_no;\r\n    if(mile_no){\r\n      await this.getMileRecommand(mile_no);\r\n      const mileRecommandInfo = this.getMileRecommandInfo;\r\n      if(mileRecommandInfo){\r\n        this.mileRecommands = mileRecommandInfo;\r\n      }else {\r\n        console.error('Ï∂îÏ≤úÎ©òÌä∏Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.');\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./CommentMieageeAdminView.vue?vue&type=template&id=eccfa956\"\nimport script from \"./CommentMieageeAdminView.vue?vue&type=script&lang=js\"\nexport * from \"./CommentMieageeAdminView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","_createTextVNode","_hoisted_11","_hoisted_16","_createElementBlock","_normalizeStyle","height","$options","computedHeight","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","$data","mile_name","_hoisted_8","_hoisted_9","_hoisted_10","onClick","_cache","args","addComment","_hoisted_12","_Fragment","_renderList","mileRecommands","recommand","index","key","_hoisted_13","$event","mile_mention","placeholder","_hoisted_14","deleteComment","_hoisted_17","_hoisted_15","_hoisted_18","addCommentAction","name","data","mile_no","baseHeight","increment","computed","mapGetters","loginInfo","this","getLoginInfo","mileInfo","getMileInfo","length","mileRecommandInfo","getMileRecommandInfo","methods","mapActions","newRecommand","mile_link","mile_recommand_no","push","confirmDeletion","showAlertConfirm","response","deleteRecommands","success","splice","console","log","updateRecommands","addRecommands","showAlert","t","i","r","$swal","title","icon","scrollbarPadding","then","result","isConfirmed","location","reload","$router","showCancelButton","confirmButtonText","cancelButtonText","created","user_no","fetchMileInfo","error","getMileRecommand","__exports__","render"],"sourceRoot":""}