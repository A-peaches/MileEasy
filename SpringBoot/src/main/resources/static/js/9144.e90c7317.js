"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[9144],{9144:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var i=n(641),o=n(3751),r=n(33);const l={class:"cards page-back mx-auto"},a={class:"d-flex p-4"},s=(0,i.Lk)("p",{class:"lg2"},[(0,i.Lk)("i",{class:"bi bi-chevron-left lg2 border border-secondary p-2 rounded-2"}),(0,i.eW)("  이전 ")],-1),c=[s],u={class:"p-4 mt-5"},f={class:"d-flex justify-content-between"},p=(0,i.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}},"마일리지 항목",-1),d={class:"d-flex justify-content-end align-items-center"},h=(0,i.Lk)("label",{class:"btn custom-radio-btn",for:"공통",style:{width:"5vw","font-size":"15pt","font-family":"'KB_C3'"}},"공통",-1),m=(0,i.Lk)("label",{class:"btn custom-radio-btn",for:"개인",style:{width:"5vw","font-size":"15pt","font-family":"'KB_C3'"}},"개인",-1),y=(0,i.Lk)("label",{class:"btn custom-radio-btn",for:"기업",style:{width:"5vw","font-size":"15pt","font-family":"'KB_C3'"}},"기업",-1),g={class:"p-4"},b={class:"input-gray p-4"},v={class:"p-4"},_=(0,i.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}},"상세 내용",-1),w={class:"p-4"},k={class:"input-gray p-4"},L={class:"p-4"},x=(0,i.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}},"첨부 파일",-1),M={class:"p-4"},O={class:"d-flex input-gray p-4"},C={key:0,class:"md",style:{"text-align":"left"}},j={class:"my-5"};function A(e,t,n,s,A,I){return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",a,[(0,i.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>I.goBack&&I.goBack(...e))},c)]),(0,i.Lk)("div",u,[(0,i.Lk)("div",f,[p,(0,i.Lk)("div",d,[(0,i.bo)((0,i.Lk)("input",{type:"radio",class:"btn-check",name:"job_name",id:"공통",value:"공통","onUpdate:modelValue":t[1]||(t[1]=e=>A.selectedJob=e),autocomplete:"off",checked:""},null,512),[[o.XL,A.selectedJob]]),h,(0,i.bo)((0,i.Lk)("input",{type:"radio",class:"btn-check",name:"job_name",id:"개인",value:"개인","onUpdate:modelValue":t[2]||(t[2]=e=>A.selectedJob=e),autocomplete:"off"},null,512),[[o.XL,A.selectedJob]]),m,(0,i.bo)((0,i.Lk)("input",{type:"radio",class:"btn-check",name:"job_name",id:"기업",value:"기업","onUpdate:modelValue":t[3]||(t[3]=e=>A.selectedJob=e),autocomplete:"off"},null,512),[[o.XL,A.selectedJob]]),y])]),(0,i.Lk)("div",g,[(0,i.Lk)("div",b,[(0,i.bo)((0,i.Lk)("input",{type:"text",class:"lg2","onUpdate:modelValue":t[4]||(t[4]=e=>A.mile_title=e),style:{width:"100%","text-align":"left"}},null,512),[[o.Jo,A.mile_title]])])])]),(0,i.Lk)("div",v,[_,(0,i.Lk)("div",w,[(0,i.Lk)("div",k,[(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>A.mile_content=e),class:"lg2",style:{"text-align":"left",width:"100%",height:"30vh"}},null,512),[[o.Jo,A.mile_content]])])])]),(0,i.Lk)("div",L,[x,(0,i.Lk)("div",M,[(0,i.Lk)("div",O,[(0,i.Lk)("input",{type:"file",onChange:t[6]||(t[6]=(...e)=>I.handlerFileUpload&&I.handlerFileUpload(...e)),class:"md",style:{width:"80%","text-align":"right"}},null,32),A.before_mile_route?((0,i.uX)(),(0,i.CE)("span",C,"기존 파일: "+(0,r.v_)(A.before_mile_route),1)):(0,i.Q3)("",!0)])])]),(0,i.Lk)("div",j,[(0,i.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>I.updateAction&&I.updateAction(...e)),class:"btn-green",style:{width:"8vw",height:"3vw","font-size":"1.2vw","font-family":"KB_C2"}},"수정")])])}n(4114);var I=n(6278),P={name:"IntroduceMileageModifyAdminView",data(){return{mile_title:"",mile_content:"",file:null,before_mile_route:"",mile_introduce_no:null,mile_no:"",selectedJob:""}},computed:{...(0,I.L8)("mile",["getMileDetail"]),...(0,I.L8)("login",["getLoginInfo"]),mileDetail(){return this.getMileDetail},loginInfo(){return this.getLoginInfo}},methods:{...(0,I.i0)("mile",["getMileModify","updateMile"]),goBack(){this.$router.go(-1)},handlerFileUpload(e){this.file=e.target.files[0],this.mile_route=this.file?this.file.name:""},async updateAction(){const e=new FormData;if(e.append("mile_introduce_no",this.mile_introduce_no),e.append("mile_title",this.mile_title),e.append("job_name",this.selectedJob),e.append("mile_content",this.mile_content),this.file)e.append("file",this.file);else{const t=await fetch(this.before_mile_route),n=await t.blob(),i=this.before_mile_route.split("/").pop(),o=new File([n],i,{type:n.type});e.append("file",o)}const t=await this.updateMile(e);t&&t.data.success?this.showAlert("마일리지가 수정되었습니다","success","/IntroduceMileageAdminView"):this.showAlert("마일리지 수정에 실패했습니다","error","#")},showAlert(e,t,n){this.$swal({title:e,icon:t,scrollbarPadding:!1}).then((e=>{e.isConfirmed&&"#"!==n&&this.$router.push(n)}))}},async created(){if(this.mile_no=this.loginInfo?this.loginInfo.mile_no:null,this.mile_introduce_no=this.$route.query.mile_introduce_no,this.mile_introduce_no&&this.mile_no){await this.getMileModify({mile_introduce_no:this.mile_introduce_no,mile_no:this.mile_no});const e=this.getMileDetail;e?(this.mile_title=e.mile_title,this.selectedJob=e.job_name,this.mile_content=e.mile_content,this.before_mile_route=e.mile_route):console.error("해당 마일리지 정보를 가져올 수 없습니다.")}else console.error("mile_introduce_no이 유효하지 않습니다.")}},J=n(6262);const B=(0,J.A)(P,[["render",A]]);var E=B},9617:function(e,t,n){var i=n(5397),o=n(5610),r=n(6198),l=function(e){return function(t,n,l){var a=i(t),s=r(a);if(0===s)return!e&&-1;var c,u=o(l,s);if(e&&n!==n){while(s>u)if(c=a[u++],c!==c)return!0}else for(;s>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:l(!0),indexOf:l(!1)}},4527:function(e,t,n){var i=n(3724),o=n(4376),r=TypeError,l=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!l(e,"length").writable)throw new r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7740:function(e,t,n){var i=n(9297),o=n(5031),r=n(7347),l=n(4913);e.exports=function(e,t,n){for(var a=o(t),s=l.f,c=r.f,u=0;u<a.length;u++){var f=a[u];i(e,f)||n&&i(n,f)||s(e,f,c(t,f))}}},6837:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(e,t,n){var i=n(4475),o=n(7347).f,r=n(6699),l=n(6840),a=n(9433),s=n(7740),c=n(2796);e.exports=function(e,t){var n,u,f,p,d,h,m=e.target,y=e.global,g=e.stat;if(u=y?i:g?i[m]||a(m,{}):i[m]&&i[m].prototype,u)for(f in t){if(d=t[f],e.dontCallGetSet?(h=o(u,f),p=h&&h.value):p=u[f],n=c(y?f:m+(g?".":"#")+f,e.forced),!n&&void 0!==p){if(typeof d==typeof p)continue;s(d,p)}(e.sham||p&&p.sham)&&r(d,"sham",!0),l(u,f,d,e)}}},7055:function(e,t,n){var i=n(9504),o=n(9039),r=n(4576),l=Object,a=i("".split);e.exports=o((function(){return!l("z").propertyIsEnumerable(0)}))?function(e){return"String"===r(e)?a(e,""):l(e)}:l},4376:function(e,t,n){var i=n(4576);e.exports=Array.isArray||function(e){return"Array"===i(e)}},2796:function(e,t,n){var i=n(9039),o=n(4901),r=/#|\.prototype\./,l=function(e,t){var n=s[a(e)];return n===u||n!==c&&(o(t)?i(t):!!t)},a=l.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=l.data={},c=l.NATIVE="N",u=l.POLYFILL="P";e.exports=l},6198:function(e,t,n){var i=n(8014);e.exports=function(e){return i(e.length)}},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},7347:function(e,t,n){var i=n(3724),o=n(9565),r=n(8773),l=n(6980),a=n(5397),s=n(6969),c=n(9297),u=n(5917),f=Object.getOwnPropertyDescriptor;t.f=i?f:function(e,t){if(e=a(e),t=s(t),u)try{return f(e,t)}catch(n){}if(c(e,t))return l(!o(r.f,e,t),e[t])}},8480:function(e,t,n){var i=n(1828),o=n(8727),r=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},1828:function(e,t,n){var i=n(9504),o=n(9297),r=n(5397),l=n(9617).indexOf,a=n(421),s=i([].push);e.exports=function(e,t){var n,i=r(e),c=0,u=[];for(n in i)!o(a,n)&&o(i,n)&&s(u,n);while(t.length>c)o(i,n=t[c++])&&(~l(u,n)||s(u,n));return u}},8773:function(e,t){var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},5031:function(e,t,n){var i=n(7751),o=n(9504),r=n(8480),l=n(3717),a=n(8551),s=o([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=l.f;return n?s(t,n(e)):t}},5610:function(e,t,n){var i=n(1291),o=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):r(n,t)}},5397:function(e,t,n){var i=n(7055),o=n(7750);e.exports=function(e){return i(o(e))}},1291:function(e,t,n){var i=n(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},8014:function(e,t,n){var i=n(1291),o=Math.min;e.exports=function(e){var t=i(e);return t>0?o(t,9007199254740991):0}},4114:function(e,t,n){var i=n(6518),o=n(8981),r=n(6198),l=n(4527),a=n(6837),s=n(9039),c=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},f=c||!u();i({target:"Array",proto:!0,arity:1,forced:f},{push:function(e){var t=o(this),n=r(t),i=arguments.length;a(n+i);for(var s=0;s<i;s++)t[n]=arguments[s],n++;return l(t,n),n}})}}]);
//# sourceMappingURL=9144.e90c7317.js.map