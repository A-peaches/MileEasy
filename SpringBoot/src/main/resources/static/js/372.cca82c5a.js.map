{"version":3,"file":"js/372.cca82c5a.js","mappings":"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","sources":["webpack://mile/./src/views/adminMileage/intruduceMileage/IntroduceMileageModifyAdminView.vue","webpack://mile/./src/views/adminMileage/intruduceMileage/IntroduceMileageModifyAdminView.vue?eb61"],"sourcesContent":["<!--üö®ÎßàÏùºÎ¶¨ÏßÄ Í¥ÄÎ¶¨Ïûê :  ÎßàÏùºÎ¶¨ÏßÄ ÏàòÏ†ïÌôîÎ©¥-->\r\n<template>\r\n  <div class=\"cards page-back mx-auto\">\r\n    <div class=\"d-flex p-4\">\r\n      <button type=\"button\" @click=\"goBack\">\r\n        <p class=\"lg2\">\r\n          <i class=\"bi bi-chevron-left lg2 border border-secondary p-2 rounded-2\"></i>&nbsp;&nbsp;Ïù¥Ï†Ñ\r\n        </p>\r\n      </button>\r\n    </div>\r\n    <div class=\"p-4 mt-5\">\r\n      <div class=\"d-flex justify-content-between\">\r\n        <h3 class=\"lg p-3\" style=\"text-align: left; font-family: KB_C2\">ÎßàÏùºÎ¶¨ÏßÄ Ìï≠Î™©</h3>\r\n        <div class=\"d-flex justify-content-end align-items-center\">\r\n          <input type=\"radio\" class=\"btn-check\" name=\"job_name\" id=\"Í≥µÌÜµ\" value=\"Í≥µÌÜµ\" v-model=\"selectedJob\" autocomplete=\"off\" checked>\r\n          <label class=\"btn custom-radio-btn\" for=\"Í≥µÌÜµ\" style=\"width:5vw; font-size: 15pt; font-family: 'KB_C3';\">Í≥µÌÜµ</label>\r\n          <input type=\"radio\" class=\"btn-check\" name=\"job_name\" id=\"Í∞úÏù∏\" value=\"Í∞úÏù∏\" v-model=\"selectedJob\" autocomplete=\"off\">\r\n          <label class=\"btn custom-radio-btn\" for=\"Í∞úÏù∏\" style=\"width:5vw; font-size: 15pt; font-family: 'KB_C3';\">Í∞úÏù∏</label>\r\n          <input type=\"radio\" class=\"btn-check\" name=\"job_name\" id=\"Í∏∞ÏóÖ\" value=\"Í∏∞ÏóÖ\" v-model=\"selectedJob\" autocomplete=\"off\">\r\n          <label class=\"btn custom-radio-btn\" for=\"Í∏∞ÏóÖ\" style=\"width:5vw; font-size: 15pt; font-family: 'KB_C3';\">Í∏∞ÏóÖ</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"p-4\">\r\n        <div class=\"input-gray p-4\">\r\n          <input type=\"text\" class=\"lg2\" v-model=\"mile_title\" style=\"width: 100%; text-align: left;\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"p-4\">\r\n      <h3 class=\"lg p-3\" style=\"text-align: left; font-family: KB_C2\">ÏÉÅÏÑ∏ ÎÇ¥Ïö©</h3>\r\n      <div class=\"p-4\">\r\n        <div class=\"input-gray p-4\">\r\n          <textarea v-model=\"mile_content\" class=\"lg2\" style=\"text-align: left; width: 100%; height: 30vh\"></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"p-4\">\r\n      <h3 class=\"lg p-3\" style=\"text-align: left; font-family: KB_C2\">Ï≤®Î∂Ä ÌååÏùº</h3>\r\n      <div class=\"p-4\">\r\n        <div class=\"d-flex input-gray p-4\">\r\n          <input type=\"file\" @change=\"handlerFileUpload\" class=\"md\" style=\"width: 80%; text-align: right;\"/>\r\n          <span v-if=\"before_mile_route\" class=\"md\" style=\"text-align:left;\">\r\n            <button @click=\"deleteFile(this.mile_introduce_no)\"><i class=\"bi bi-x-square\"></i></button>\r\n            Í∏∞Ï°¥ ÌååÏùº: {{ before_mile_route}}\r\n          </span>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class=\"my-5\">\r\n      <button @click=\"updateAction\" class=\"btn-green\" style=\"width:8vw; height: 3vw; font-size:1.2vw; font-family: KB_C2;\">ÏàòÏ†ï</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'IntroduceMileageModifyAdminView',\r\n  data(){\r\n    return {\r\n      mile_title: '',\r\n      mile_content: '',\r\n      file: null,\r\n      before_mile_route: '',\r\n      mile_introduce_no: null,\r\n      mile_no: '',\r\n      selectedJob: ''\r\n    }\r\n  },\r\n  computed:{\r\n    ...mapGetters('mile', ['getMileDetail']),\r\n    ...mapGetters('login', ['getLoginInfo', 'getIsChecked']),\r\n    mileDetail(){\r\n      return this.getMileDetail;\r\n    },\r\n    loginInfo(){\r\n      return this.getLoginInfo;\r\n    },\r\n    isChecked() {\r\n      return this.getIsChecked;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('mile', ['getMileModify', 'updateMile']),\r\n    deleteFile(mile_introduce_no) {\r\n      console.log(mile_introduce_no);\r\n      this.before_mile_route = 'ÏóÜÏùå';\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    handlerFileUpload(event){\r\n      this.file = event.target.files[0];\r\n      this.mile_route = this.file ? this.file.name : ''; //ÏÑ†ÌÉùÎêú ÌååÏùºÏùò Ïù¥Î¶ÑÏùÑ Ï†ÄÏû• \r\n    },\r\n    async updateAction(){\r\n      const mileInfo = new FormData();\r\n      mileInfo.append('mile_introduce_no', this.mile_introduce_no);\r\n      mileInfo.append('mile_title', this.mile_title);\r\n      mileInfo.append('job_name', this.selectedJob);\r\n      mileInfo.append('mile_content', this.mile_content);\r\n\r\n      if(this.file){\r\n        mileInfo.append('file', this.file);\r\n      } else {\r\n          if(this.before_mile_route === 'ÏóÜÏùå'){\r\n            this.before_mile_route = '';\r\n          }else{\r\n            const response = await fetch(this.before_mile_route);\r\n            const blob = await response.blob();\r\n            const fileName = this.before_mile_route.split('/').pop();\r\n            const file = new File([blob], fileName, {type: blob.type});\r\n            mileInfo.append('file', file);\r\n          }\r\n      }\r\n      try{\r\n        const response = await this.updateMile(mileInfo);\r\n        if(response && response.data.success){\r\n          this.showAlert('ÎßàÏùºÎ¶¨ÏßÄÍ∞Ä ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§', 'success', '/IntroduceMileageAdminView');\r\n        }else{\r\n          this.showAlert('ÎßàÏùºÎ¶¨ÏßÄ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§', 'error', '#');\r\n        }\r\n      }catch(error){\r\n        console.error('mileage introduce modify fail');\r\n      }\r\n    },\r\n    showAlert(t, i, r) {\r\n      this.$swal({\r\n        title: t,\r\n        icon: i,\r\n        scrollbarPadding: false\r\n      }).then((result) => {\r\n        if(result.isConfirmed && r !== '#'){\r\n          this.$router.push(r);\r\n        }\r\n      })\r\n    },\r\n    checkLoginInfo() {\r\n      if (!this.getLoginInfo || (this.getLoginInfo.user_is_manager == 1 && this.getIsChecked == false)) {\r\n          window.location.href=\"/noAccess\"\r\n        } \r\n    },\r\n  },\r\n  async created(){\r\n    // ÎßàÏùºÎ¶¨ÏßÄ Îã¥ÎãπÏûê Î°úÍ∑∏Ïù∏ Ïó¨Î∂Ä ÌôïÏù∏\r\n    this.checkLoginInfo();\r\n    this.mile_no = this.loginInfo ? this.loginInfo.mile_no : null;\r\n    this.mile_introduce_no = this.$route.query.mile_introduce_no;\r\n    if(this.mile_introduce_no && this.mile_no){\r\n      await this.getMileModify({\r\n        mile_introduce_no: this.mile_introduce_no,\r\n        mile_no: this.mile_no\r\n      });\r\n      const mileDetail = this.getMileDetail;\r\n      if(mileDetail){\r\n        this.mile_title = mileDetail.mile_title;\r\n        this.selectedJob = mileDetail.job_name;\r\n        this.mile_content = mileDetail.mile_content;\r\n        this.before_mile_route = mileDetail.mile_route; // Í∏∞Ï°¥ ÌååÏùºÎ™ÖÏùÑ Í∞ÄÏ†∏ÏôÄÏÑú ÌëúÏãú\r\n      }else{\r\n        console.error('Ìï¥Îãπ ÎßàÏùºÎ¶¨ÏßÄ Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.');\r\n      }\r\n    }else{\r\n      console.error('mile_introduce_noÏù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§.');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scope>\r\n\r\n/* Í∏∞Î≥∏ Î≤ÑÌäº Ïä§ÌÉÄÏùº */\r\n.custom-radio-btn {\r\n  border: 1px solid transparent;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n/* ÏÑ†ÌÉùÎêú Î≤ÑÌäº Ïä§ÌÉÄÏùº */\r\n.btn-check:checked + .custom-radio-btn {\r\n  /* border-color: #19c99b; */\r\n  background-color: #19c99b;\r\n  color:#fff;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-check:hover + .custom-radio-btn:hover {\r\n  background-color: #19c99b;\r\n  color:#fff;\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import { render } from \"./IntroduceMileageModifyAdminView.vue?vue&type=template&id=96f5f694\"\nimport script from \"./IntroduceMileageModifyAdminView.vue?vue&type=script&lang=js\"\nexport * from \"./IntroduceMileageModifyAdminView.vue?vue&type=script&lang=js\"\n\nimport \"./IntroduceMileageModifyAdminView.vue?vue&type=style&index=0&id=96f5f694&scope=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createTextVNode","_hoisted_3","style","for","key","_hoisted_23","_createElementBlock","_hoisted_1","_hoisted_2","type","onClick","_cache","args","$options","goBack","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","name","id","value","$event","$data","selectedJob","autocomplete","checked","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","mile_title","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","mile_content","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","onChange","handlerFileUpload","before_mile_route","_hoisted_22","deleteFile","this","mile_introduce_no","_hoisted_24","_toDisplayString","_createCommentVNode","_hoisted_25","updateAction","data","file","mile_no","computed","mapGetters","mileDetail","getMileDetail","loginInfo","getLoginInfo","isChecked","getIsChecked","methods","mapActions","console","log","$router","go","event","target","files","mile_route","mileInfo","FormData","append","response","fetch","blob","fileName","split","pop","File","updateMile","success","showAlert","error","t","i","r","$swal","title","icon","scrollbarPadding","then","result","isConfirmed","push","checkLoginInfo","user_is_manager","window","location","href","created","$route","query","getMileModify","job_name","__exports__","render"],"sourceRoot":""}