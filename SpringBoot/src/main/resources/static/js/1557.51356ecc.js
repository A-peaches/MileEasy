"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[1557],{1557:function(a,t,e){e.r(t),e.d(t,{default:function(){return V}});var s=e(641),i=e(33);const n=a=>((0,s.Qi)("data-v-1cc78952"),a=a(),(0,s.jt)(),a),o={class:"cards page-back mx-auto",style:{color:"#4b4a4a","padding-bottom":"90px"}},r={class:"button-container"},d=n((()=>(0,s.Lk)("span",{class:"arrow"},"❮",-1))),l=n((()=>(0,s.Lk)("h2",{style:{"margin-bottom":"60px"}},"배지 취득 현황",-1))),g={class:"d-flex mx-auto w-100 justify-content-center my-5"},c={class:"align-center justify-content-center",style:{width:"35%",height:"100%",display:"flex"}},m=["src"],u={style:{width:"63%"}},h=n((()=>(0,s.Lk)("span",{class:"badge-title"},"마왕 배지",-1))),k=n((()=>(0,s.Lk)("p",{class:"mt-4"},[(0,s.eW)(" 전월 기준 마일리지 취득 점수가 "),(0,s.Lk)("br"),(0,s.eW)(" 높은 상위 3명이 채택됩니다. ")],-1))),b={key:0},p={class:"brown mt-4"},L={key:1},_=n((()=>(0,s.Lk)("p",{class:"brown mt-4"},"기준 미달성 ",-1))),v=[_],w={class:"align-center justify-content-center",style:{width:"35%",height:"100%",display:"flex"}},y=["src"],f={style:{width:"63%"}},I=n((()=>(0,s.Lk)("span",{class:"badge-title"},"Jump UP 배지",-1))),D=n((()=>(0,s.Lk)("p",{class:"mt-4"},[(0,s.eW)(" 최근 2개월간 마일리지 증가 폭이 "),(0,s.Lk)("br"),(0,s.eW)(" 큰 상위 3명이 채택됩니다. ")],-1))),x={key:0},C={class:"brown mt-4"},E={key:1},j=n((()=>(0,s.Lk)("p",{class:"brown mt-4"},"기준 미달성 ",-1))),B=[j],A={class:"w-75 mx-auto",style:{"margin-top":"90px"}},X=n((()=>(0,s.Lk)("h3",{class:"sub-title"}," 취득 이력",-1))),J=n((()=>(0,s.Lk)("hr",null,null,-1))),K={class:"row text-start KB_C3 align-items-center"},W={class:"col-md-4 mb-1 brown"},$={class:"col-md-4 mb-1"},P={class:"col-md-4 mb-1"};function T(a,t,e,n,_,j){return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",r,[(0,s.Lk)("button",{class:"back-button",onClick:t[0]||(t[0]=(...a)=>j.goBack&&j.goBack(...a))},[d,(0,s.eW)(" 이전 ")])]),l,(0,s.Lk)("div",g,[(0,s.Lk)("div",{class:(0,i.C4)(["cards d-flex cards-color",{"cards-active":_.badgeData[0]?.current_month&&_.badgeData[0]?.mile_is_king}]),style:{width:"35%","margin-right":"50px"}},[(0,s.Lk)("div",c,[(0,s.Lk)("img",{src:j.kingImage,style:{width:"100%",margin:"0 auto"},class:(0,i.C4)({"darken-image":!_.badgeData[0]?.current_month||!_.badgeData[0]?.mile_is_king}),onError:t[1]||(t[1]=(...a)=>j.handleImageError&&j.handleImageError(...a))},null,42,m)]),(0,s.Lk)("div",u,[h,k,_.badgeData[0]?.mile_is_king?((0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("p",p,"취득일 : "+(0,i.v_)(_.badgeData[0]?.start_date),1)])):((0,s.uX)(),(0,s.CE)("div",L,v))])],2),(0,s.Lk)("div",{class:(0,i.C4)(["cards d-flex cards-color",{"cards-active":_.badgeData[0]?.current_month&&_.badgeData[0]?.mile_is_jump}]),style:{width:"35%"}},[(0,s.Lk)("div",w,[(0,s.Lk)("img",{src:j.jumpImage,style:{width:"100%",margin:"0 auto"},class:(0,i.C4)({"darken-image":!_.badgeData[0]?.current_month||!_.badgeData[0]?.mile_is_jump}),onError:t[2]||(t[2]=(...a)=>j.handleImageError&&j.handleImageError(...a))},null,42,y)]),(0,s.Lk)("div",f,[I,D,_.badgeData[0]?.mile_is_jump?((0,s.uX)(),(0,s.CE)("div",x,[(0,s.Lk)("p",C,"취득일 : "+(0,i.v_)(_.badgeData[0]?.start_date),1)])):((0,s.uX)(),(0,s.CE)("div",E,B))])],2)]),(0,s.Lk)("div",A,[X,J,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(_.badgeData,((a,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t},[(0,s.Lk)("div",K,[(0,s.Lk)("div",W,(0,i.v_)(a.start_date)+" ~ "+(0,i.v_)(a.end_date),1),(0,s.Lk)("div",$,(0,i.v_)(a.mile_is_king?"마왕 배지":"Jump-Up 배지"),1),(0,s.Lk)("div",P,(0,i.v_)(a.current_month?"유효":"기간경과"),1)])])))),128))])])}var U=e(6278),F=e(7682),M={name:"BadgeStatusView",data(){return{msg:"",badgeData:[],loginInfoLoaded:!1}},computed:{...(0,U.L8)("login",["getLoginInfo"]),...(0,U.L8)("badge",["getKingBadge","getJumpBadge"]),kingImage(){return this.getKingBadge},jumpImage(){return this.getJumpBadge},loginInfo(){return this.getLoginInfo}},methods:{...(0,U.i0)("badge",["badgeKingImage","badgeJumpImage"]),handleImageError(){console.error("이미지 로드 실패")},async kingData(){try{const a=await F.A.get("/mileage/kingData");console.log("마왕 top3:",a.data),this.kingTop3=a.data.slice(0,5)}catch(a){console.error("마왕 top3:",a),this.kingTop3=[]}},async jumpData(){try{const a=await F.A.get("/mileage/jumpData");console.log("점프업 top3:",a.data),this.baseDate=a.data.length?a.data[0].base_date:"",this.jumpTop3=a.data.slice(0,5)}catch(a){console.error("점프업 top3:",a),this.jumpTop3=[]}},goBack(){this.$router.back(-1)},warningAlert(){this.$swal({title:"경고",text:this.msg,icon:"warning",scrollbarPadding:!1})},errorAlert(){this.$swal({title:"에러",text:this.msg,icon:"error",scrollbarPadding:!1})},successAlert(){this.$swal({title:"성공",text:this.msg,icon:"success",scrollbarPadding:!1})},async loadBadgeData(){if(this.getLoginInfo&&this.getLoginInfo.user_no)try{const a=await F.A.get(`/myMile/loadBadgeData/${this.getLoginInfo.user_no}`);this.badgeData=a.data,console.log(this.badgeData)}catch(a){console.error("배지 데이터 로드 실패:",a)}},watch:{getLoginInfo:{immediate:!0,handler(a){a&&a.user_no&&(this.loginInfoLoaded=!0,this.loadBadgeData())}}}},mounted(){this.badgeKingImage(),this.badgeJumpImage(),this.getLoginInfo&&this.getLoginInfo.user_no&&this.loadBadgeData()}},Q=e(6262);const S=(0,Q.A)(M,[["render",T],["__scopeId","data-v-1cc78952"]]);var V=S}}]);
//# sourceMappingURL=1557.51356ecc.js.map