"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[1814],{1814:function(e,t,l){l.r(t),l.d(t,{default:function(){return Ge}});var n=l(641),a=l(33),i=l(3751);const o=e=>((0,n.Qi)("data-v-aad68c5c"),e=e(),(0,n.jt)(),e),r={class:"button-container"},s=o((()=>(0,n.Lk)("span",{class:"arrow"},"❮",-1))),u=o((()=>(0,n.Lk)("h2",{class:"bold-x-lg my-5",style:{"font-family":"KB_C3"}},"마일리지 요청",-1))),c={style:{padding:"0 5%"}},d={key:0,style:{"text-align":"left","margin-left":"25px",display:"flex"}},m={class:"checkbox-container"},p=o((()=>(0,n.Lk)("span",{class:"custom-checkbox"},null,-1))),f=o((()=>(0,n.Lk)("span",{class:"checkbox-label"},"추가",-1))),g={class:"checkbox-container"},v=o((()=>(0,n.Lk)("span",{class:"custom-checkbox"},null,-1))),h=o((()=>(0,n.Lk)("span",{class:"checkbox-label"},"수정",-1))),k={class:"checkbox-container"},b=o((()=>(0,n.Lk)("span",{class:"custom-checkbox"},null,-1))),L=o((()=>(0,n.Lk)("span",{class:"checkbox-label"},"삭제",-1))),x={key:1,class:"p-4"},y={key:2,class:"p-4"};function _(e,t,l,o,_,w){const M=(0,n.g2)("WriteAdd"),R=(0,n.g2)("WriteModify"),C=(0,n.g2)("WriteDelete");return(0,n.uX)(),(0,n.CE)("div",{class:"cards page-back mx-auto",style:(0,a.Tr)({height:e.computedHeight})},[(0,n.Lk)("div",r,[(0,n.Lk)("button",{class:"back-button",onClick:t[0]||(t[0]=(...e)=>w.goBack&&w.goBack(...e))},[s,(0,n.eW)(" 이전 ")])]),u,(0,n.Lk)("div",c,[w.hasMileageNumber?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("label",m,[(0,n.bo)((0,n.Lk)("input",{type:"radio",name:"action",value:"add","onUpdate:modelValue":t[1]||(t[1]=e=>_.selectedAction=e)},null,512),[[i.XL,_.selectedAction]]),p,f]),(0,n.Lk)("label",g,[(0,n.bo)((0,n.Lk)("input",{type:"radio",name:"action",value:"modify","onUpdate:modelValue":t[2]||(t[2]=e=>_.selectedAction=e)},null,512),[[i.XL,_.selectedAction]]),v,h]),(0,n.Lk)("label",k,[(0,n.bo)((0,n.Lk)("input",{type:"radio",name:"action",value:"delete","onUpdate:modelValue":t[3]||(t[3]=e=>_.selectedAction=e)},null,512),[[i.XL,_.selectedAction]]),b,L])])):(0,n.Q3)("",!0),w.hasMileageNumber?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",x,[(0,n.bF)(M,{style:{width:"70%","margin-left":"3%"}})])),w.hasMileageNumber?((0,n.uX)(),(0,n.CE)("div",y,["add"===_.selectedAction?((0,n.uX)(),(0,n.Wv)(M,{key:0,style:{width:"70%","margin-left":"3%"}})):(0,n.Q3)("",!0),"modify"===_.selectedAction?((0,n.uX)(),(0,n.Wv)(R,{key:1,style:{width:"70%","margin-left":"3%"}})):(0,n.Q3)("",!0),"delete"===_.selectedAction?((0,n.uX)(),(0,n.Wv)(C,{key:2,style:{width:"70%","margin-left":"3%"}})):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])],4)}var w=l(6278);const M=e=>((0,n.Qi)("data-v-2708f7b9"),e=e(),(0,n.jt)(),e),R=M((()=>(0,n.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}}," 마일리지 추가 ",-1))),C={class:"p-2",style:{"text-align":"left","background-color":"#f6f6f6",padding:"10px 140px 60px 140px !important"}},E={class:"mt-5",style:{"text-align":"left"}},N={key:0,class:"error-text"},A={class:"form-check form-check-inline mt-1"},O=M((()=>(0,n.Lk)("label",{class:"form-check-label",for:"inlineRadio1"},"공통",-1))),W={class:"form-check form-check-inline"},K=M((()=>(0,n.Lk)("label",{class:"form-check-label",for:"inlineRadio2"},"영업점",-1))),U={class:"mt-3",style:{"text-align":"left"}},X={key:0,class:"error-text"},P=M((()=>(0,n.Lk)("br",null,null,-1))),V={class:"mt-3",style:{"text-align":"left"}},q={key:0,class:"error-text"},I={class:"mt-3",style:{"text-align":"left"}},S={key:0,class:"error-text"},Q={class:"table table-bordered input-base",style:{width:"800px","border-radius":"10px","background-color":"white"}},F=M((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,"번호"),(0,n.Lk)("td",null,"사번"),(0,n.Lk)("td",null,"이름"),(0,n.Lk)("td",null,"부서"),(0,n.Lk)("td",null,"직급"),(0,n.Lk)("td",null,"삭제")],-1))),j=["onClick"],B=["onClick"],T=M((()=>(0,n.Lk)("div",{class:"mt-3",style:{"text-align":"left"}},"기타사항",-1))),J={style:{"text-align":"right"}};function $(e,t,l,o,r,s){const u=(0,n.g2)("SearchModal");return(0,n.uX)(),(0,n.CE)(n.FK,null,[R,(0,n.Lk)("div",C,[(0,n.Lk)("div",E,[(0,n.eW)(" 마일리지 공통여부 "),o.isCommonMileageValid?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",N," 필수 선택 항목입니다. "))]),(0,n.Lk)("div",A,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"0","onUpdate:modelValue":t[0]||(t[0]=e=>o.commonMileage=e)},null,512),[[i.XL,o.commonMileage]]),O]),(0,n.Lk)("div",W,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"1","onUpdate:modelValue":t[1]||(t[1]=e=>o.commonMileage=e)},null,512),[[i.XL,o.commonMileage]]),K]),(0,n.Lk)("div",U,[(0,n.eW)(" 마일리지 이름 "),o.isMileageNameValid?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",X," 필수 입력 항목입니다. "))]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.mileageName=e),type:"text",class:"input-base input-white",style:{width:"800px","text-align":"left"},placeholder:"추가 마일리지 이름을 입력하세요."},null,512),[[i.Jo,o.mileageName]]),P,(0,n.Lk)("div",V,[(0,n.eW)(" 마일리지 연간 최고 한도 "),o.isAnnualLimitValid?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",q," 필수 입력 항목입니다. "))]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.annualLimit=e),type:"text",class:"input-base input-white",style:{width:"800px","text-align":"left"},placeholder:"마일리지 연간 최고 한도를 입력하세요."},null,512),[[i.Jo,o.annualLimit]]),(0,n.Lk)("div",I,[(0,n.eW)(" 담당자 설정 "),(0,n.Lk)("i",{class:"bi bi-plus-lg",onClick:t[4]||(t[4]=(...e)=>o.addRow&&o.addRow(...e))}),o.isRowsValid?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",S," 최소 한 명의 담당자를 설정해야 합니다. "))]),(0,n.Lk)("table",Q,[F,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.rows,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t,onClick:t=>o.openModal(e),style:{cursor:"pointer"}},[(0,n.Lk)("td",null,(0,a.v_)(t+1),1),(0,n.Lk)("td",null,(0,a.v_)(e.id),1),(0,n.Lk)("td",null,(0,a.v_)(e.name),1),(0,n.Lk)("td",null,(0,a.v_)(e.department),1),(0,n.Lk)("td",null,(0,a.v_)(e.position),1),(0,n.Lk)("td",null,[o.rows.length>1?((0,n.uX)(),(0,n.CE)("i",{key:0,class:"bi bi-dash-lg remove-icon",onClick:(0,i.D$)((e=>o.removeRow(t)),["stop"])},null,8,B)):(0,n.Q3)("",!0)])],8,j)))),128))]),T,(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.additionalNotes=e),class:"input-base input-white",style:{width:"800px",height:"200px","text-align":"left"},placeholder:"기타 요청사항을 입력하세요."},null,512),[[i.Jo,o.additionalNotes]]),o.isModalOpen?((0,n.uX)(),(0,n.Wv)(u,{key:0,isOpen:o.isModalOpen,mileName:o.selectedRow?.name,mileNo:o.selectedRow?.id,onUserSelected:o.updateRow,onClose:o.closeModal},null,8,["isOpen","mileName","mileNo","onUserSelected","onClose"])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",J,[(0,n.Lk)("button",{class:"btn-yellow mt-5 KB_S4",onClick:t[6]||(t[6]=(...e)=>o.submitForm&&o.submitForm(...e))},"요청하기")])],64)}l(4114);var D=l(953),z=l(8465),G=l.n(z);const H=e=>((0,n.Qi)("data-v-61f00794"),e=e(),(0,n.jt)(),e),Y={key:0,class:"modals"},Z={class:"modals-content",style:{width:"700px",height:"auto"}},ee=H((()=>(0,n.Lk)("span",{class:"KB_S4",style:{"font-size":"19pt"}},"직원 검색",-1))),te=H((()=>(0,n.Lk)("br",null,null,-1))),le=H((()=>(0,n.Lk)("br",null,null,-1))),ne={style:{"text-align":"left"}},ae=H((()=>(0,n.Lk)("span",{style:{"text-align":"left","margin-left":"15px","font-size":"13pt"}}," 담당자 설정 ",-1))),ie={style:{"text-align":"left","margin-left":"5px"}},oe={class:"user-list"},re=["onClick"];function se(e,t,l,o,r,s){return l.isOpen?((0,n.uX)(),(0,n.CE)("div",Y,[(0,n.Lk)("div",Z,[(0,n.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),ee,te,le,(0,n.Lk)("div",ne,[ae,(0,n.Lk)("div",ie,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.searchTerm=e),onInput:t[2]||(t[2]=(...e)=>s.searchUser&&s.searchUser(...e)),type:"text",placeholder:"이름이나 사번을 입력하세요",style:{width:"100%",padding:"8px","margin-bottom":"10px"}},null,544),[[i.Jo,r.searchTerm]]),(0,n.Lk)("div",oe,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.filteredUserList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.user_no,onClick:t=>s.selectUser(e)},(0,a.v_)(e.user_name)+" ("+(0,a.v_)(e.user_no)+") "+(0,a.v_)(e.dp_no)+" - "+(0,a.v_)(e.position_no),9,re)))),128))])])])])])])):(0,n.Q3)("",!0)}var ue=l(7682),ce={props:{mileName:String,mileNo:Number,isOpen:Boolean},data(){return{searchTerm:"",userList:[],filteredUserList:[]}},methods:{async searchUser(){try{const e=await ue.A.post("/admin/searchUser",null,{params:{}});this.userList=e.data,this.filterUserList()}catch(e){console.error("유저 리스트를 가져오는 중 오류 발생:",e),this.userList=[],this.filteredUserList=[]}},filterUserList(){if(this.searchTerm){const e=this.searchTerm.toLowerCase();this.filteredUserList=this.userList.filter((t=>t.user_name.toLowerCase().includes(e)||t.user_no.toLowerCase().includes(e)))}else this.filteredUserList=this.userList},selectUser(e){this.$emit("user-selected",e),this.$emit("close")},newAdminList(){console.log("등록하기 버튼 클릭됨")}},watch:{searchTerm(){this.filterUserList()}}},de=l(6262);const me=(0,de.A)(ce,[["render",se],["__scopeId","data-v-61f00794"]]);var pe=me,fe={name:"MileageRequestWriteAdd",components:{SearchModal:pe},setup(){const e=(0,w.Pj)(),t=(0,D.KR)(1),l=(0,D.KR)(""),a=(0,D.KR)(""),i=(0,D.KR)(""),o=(0,D.KR)(""),r=(0,D.KR)([{id:"",name:"",department:"",position:""}]),s=(0,D.KR)(!1),u=(0,D.KR)(null),c=(0,D.KR)(null),d=(0,n.EW)((()=>e.getters["login/getLoginInfo"])),m=(0,n.EW)((()=>""!==l.value.trim())),p=(0,n.EW)((()=>""!==a.value.trim())),f=(0,n.EW)((()=>""!==i.value)),g=(0,n.EW)((()=>x())),v=()=>{r.value.push({id:"",name:"",department:"",position:""})},h=e=>{r.value.length>1&&r.value.splice(e,1)},k=e=>{u.value=e,c.value=r.value.indexOf(e),s.value=!0},b=()=>{s.value=!1,u.value=null,c.value=null},L=e=>{null!==c.value?r.value[c.value]={id:e.user_no||"",name:e.user_name||"",department:e.dp_no||"부서 정보 없음",position:e.position_no||"직급 정보 없음"}:console.error("선택된 행이 없습니다.")},x=()=>r.value.some((e=>""!==e.id.trim()&&""!==e.name.trim())),y=async()=>{let e=!1;if(f.value||(G().fire({icon:"error",title:"입력 오류",text:"마일리지 공통여부는 필수 선택 항목입니다.",scrollbarPadding:!1}),e=!0),m.value||(G().fire({icon:"error",title:"입력 오류",text:"마일리지 이름은 필수 입력 항목입니다.",scrollbarPadding:!1}),e=!0),p.value||(G().fire({icon:"error",title:"입력 오류",text:"마일리지 연간 최고 한도는 필수 입력 항목입니다.",scrollbarPadding:!1}),e=!0),g.value||(G().fire({icon:"error",title:"입력 오류",text:"최소 한 명의 담당자를 설정해 주세요.",scrollbarPadding:!1}),e=!0),e)return;const n={request_is_branch:"1"===i.value,request_mile_name:l.value,request_mil_max:parseInt(a.value,10),request_admin:JSON.stringify(r.value.map((e=>e.id))),request_etc:o.value,request_no:t.value,mile_no:d.value.mile_no||0,user_no:d.value.user_no};try{const e=await ue.A.post("/user/requestAdd",n);G().fire({icon:"success",title:"성공",text:"요청이 성공적으로 제출되었습니다.",scrollbarPadding:!1}),console.log(e.data),document.location="/mileageRequesList"}catch(s){console.error("Error submitting form:",s),G().fire({icon:"error",title:"서버 오류",text:"요청을 제출하는 동안 오류가 발생했습니다. 나중에 다시 시도해 주세요.",scrollbarPadding:!1})}};return{request:t,mileageName:l,annualLimit:a,commonMileage:i,additionalNotes:o,rows:r,isModalOpen:s,selectedRow:u,selectedRowIndex:c,addRow:v,removeRow:h,openModal:k,closeModal:b,updateRow:L,submitForm:y,isMileageNameValid:m,isAnnualLimitValid:p,isCommonMileageValid:f,isRowsValid:g,validateRows:x,loginInfo:d}}};const ge=(0,de.A)(fe,[["render",$],["__scopeId","data-v-2708f7b9"]]);var ve=ge;const he=e=>((0,n.Qi)("data-v-43648bab"),e=e(),(0,n.jt)(),e),ke=he((()=>(0,n.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}}," 마일리지 수정 ",-1))),be={class:"p-2",style:{"text-align":"left","background-color":"#f6f6f6",padding:"10px 140px 60px 140px !important"}},Le=he((()=>(0,n.Lk)("div",{class:"mt-5",style:{"text-align":"left"}},"마일리지 이름",-1))),xe=["placeholder"],ye=he((()=>(0,n.Lk)("br",null,null,-1))),_e=he((()=>(0,n.Lk)("div",{class:"mt-3",style:{"text-align":"left"}},"마일리지 연간 최고 한도",-1))),we=["placeholder"],Me={class:"mt-3",style:{"text-align":"left"}},Re={key:0,class:"error-text"},Ce={class:"table table-bordered input-base",style:{width:"800px","border-radius":"10px","background-color":"white"}},Ee=he((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,"번호"),(0,n.Lk)("td",null,"사번"),(0,n.Lk)("td",null,"이름"),(0,n.Lk)("td",null,"부서"),(0,n.Lk)("td",null,"직급"),(0,n.Lk)("td",null,"삭제")],-1))),Ne=["onClick"],Ae=["onClick"],Oe=he((()=>(0,n.Lk)("div",{class:"mt-3",style:{"text-align":"left"}},"기타사항",-1))),We={style:{"text-align":"right"}};function Ke(e,t,l,o,r,s){const u=(0,n.g2)("SearchModal");return(0,n.uX)(),(0,n.CE)(n.FK,null,[ke,(0,n.Lk)("div",be,[Le,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.mileageName=e),type:"text",class:"input-base input-white",style:{width:"800px","text-align":"left"},placeholder:o.getMileageNamePlaceholder},null,8,xe),[[i.Jo,o.mileageName]]),ye,_e,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.mileMax=e),type:"text",class:"input-base input-white",style:{width:"800px","text-align":"left"},placeholder:o.getMileMaxPlaceholder},null,8,we),[[i.Jo,o.mileMax]]),(0,n.Lk)("div",Me,[(0,n.eW)(" 담당자 설정 "),(0,n.Lk)("i",{class:"bi bi-plus-lg",onClick:t[2]||(t[2]=(...e)=>o.addRow&&o.addRow(...e))}),o.isRowsValid?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",Re,"최소 한 명의 담당자를 설정해야 합니다."))]),(0,n.Lk)("table",Ce,[Ee,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.rows,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t,onClick:t=>o.openModal(e),style:{cursor:"pointer"}},[(0,n.Lk)("td",null,(0,a.v_)(t+1),1),(0,n.Lk)("td",null,(0,a.v_)(e.id),1),(0,n.Lk)("td",null,(0,a.v_)(e.name),1),(0,n.Lk)("td",null,(0,a.v_)(e.department),1),(0,n.Lk)("td",null,(0,a.v_)(e.position),1),(0,n.Lk)("td",null,[o.rows.length>1?((0,n.uX)(),(0,n.CE)("i",{key:0,class:"bi bi-dash-lg remove-icon",onClick:(0,i.D$)((e=>o.removeRow(t)),["stop"])},null,8,Ae)):(0,n.Q3)("",!0)])],8,Ne)))),128))]),Oe,(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.additionalNotes=e),class:"input-base input-white",style:{width:"800px",height:"200px","text-align":"left"},placeholder:"기타 요청사항을 입력하세요."},null,512),[[i.Jo,o.additionalNotes]]),o.isModalOpen?((0,n.uX)(),(0,n.Wv)(u,{key:0,isOpen:o.isModalOpen,mileName:o.selectedRow?.name,mileNo:o.selectedRow?.id,onUserSelected:o.updateRow,onClose:o.closeModal},null,8,["isOpen","mileName","mileNo","onUserSelected","onClose"])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",We,[(0,n.Lk)("button",{class:"btn-yellow mt-5 KB_S4",onClick:t[4]||(t[4]=(...e)=>o.submitForm&&o.submitForm(...e))},"요청하기")])],64)}var Ue={name:"MileageRequestWriteAdd",components:{SearchModal:pe},setup(){const e=(0,w.Pj)(),t=(0,n.EW)((()=>e.getters["login/getLoginInfo"])),l=(0,n.EW)((()=>e.getters["mileage/getArrayMileage"])),a=(0,D.KR)(2),i=(0,D.KR)(""),o=(0,D.KR)(""),r=(0,D.KR)(""),s=(0,D.KR)(""),u=(0,D.KR)([{id:"",name:"",department:"",position:""}]),c=(0,D.KR)(!1),d=(0,D.KR)(null),m=(0,D.KR)(null),p=(0,n.EW)((()=>""!==i.value.trim())),f=(0,n.EW)((()=>""!==o.value.trim())),g=(0,n.EW)((()=>""!==r.value)),v=(0,n.EW)((()=>M())),h=(0,n.EW)((()=>{const e=t.value.mile_no,n=l.value.find((t=>t.mile_no.toString()===e.toString()));return n?`현재 마일리지 이름: ${n.mile_name}`:"추가 마일리지 이름을 입력하세요."})),k=(0,n.EW)((()=>{const e=t.value.mile_no,n=l.value.find((t=>t.mile_no.toString()===e.toString()));return console.log("mileNo:",e),console.log("mileageLabel:",l.value),console.log("mileage:",n),n?`현재 연간 최고 한도: ${n.mile_max||"0"}`:"마일리지 연간 최고 한도를 입력하세요."})),b=()=>{u.value.push({id:"",name:"",department:"",position:""})},L=e=>{u.value.length>1&&u.value.splice(e,1)},x=e=>{d.value=e,m.value=u.value.indexOf(e),c.value=!0},y=()=>{c.value=!1,d.value=null,m.value=null},_=e=>{null!==m.value?u.value[m.value]={id:e.user_no||"",name:e.user_name||"",department:e.dp_no||"부서 정보 없음",position:e.position_no||"직급 정보 없음"}:console.error("선택된 행이 없습니다.")},M=()=>u.value.some((e=>""!==e.id.trim()&&""!==e.name.trim())),R=async()=>{let e=!1;if(v.value||(G().fire({icon:"error",title:"입력 오류",text:"최소 한 명의 담당자를 설정해 주세요.",scrollbarPadding:!1}),e=!0),e)return;const l={request_is_branch:"1"===r.value,request_mile_name:i.value,request_mil_max:parseInt(o.value,10),request_admin:JSON.stringify(u.value.map((e=>e.id))),request_etc:s.value,request_no:a.value,user_no:t.value.user_no,mile_no:t.value.mile_no};try{const e=await ue.A.post("/user/requestAdd",l);G().fire({icon:"success",title:"성공",text:"요청이 성공적으로 제출되었습니다.",scrollbarPadding:!1}),console.log(e.data),document.location="/mileageRequesList"}catch(n){console.error("Error submitting form:",n),G().fire({icon:"error",title:"서버 오류",text:"요청을 제출하는 동안 오류가 발생했습니다. 나중에 다시 시도해 주세요.",scrollbarPadding:!1})}};(0,n.sV)((()=>{C()}));const C=async()=>{try{const e=await ue.A.post("/admin/getMileageAdminList",null,{params:{mile_no:t.value.mile_no}});console.log("담당자 리스트:",e.data),e.data.length>0&&(u.value=e.data.map((e=>({id:e.user_no,name:e.user_name,department:e.dp_no||"부서 정보 없음",position:e.position_no||"직급 정보 없음"}))))}catch(e){console.error("Error fetching admin list:",e)}};return{mileageName:i,mileMax:o,commonMileage:r,additionalNotes:s,rows:u,isModalOpen:c,selectedRow:d,selectedRowIndex:m,addRow:b,removeRow:L,openModal:x,closeModal:y,updateRow:_,submitForm:R,isMileageNameValid:p,isMileMaxValid:f,isCommonMileageValid:g,isRowsValid:v,validateRows:M,loginInfo:t,mileageLabel:l,getMileageNamePlaceholder:h,getMileMaxPlaceholder:k,getMileageAdminList:C}}};const Xe=(0,de.A)(Ue,[["render",Ke],["__scopeId","data-v-43648bab"]]);var Pe=Xe;const Ve=e=>((0,n.Qi)("data-v-5cdcf297"),e=e(),(0,n.jt)(),e),qe=Ve((()=>(0,n.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}}," 마일리지 수정 ",-1))),Ie={class:"p-2",style:{"text-align":"left","background-color":"#f6f6f6",padding:"10px 140px 60px 140px !important"}},Se=Ve((()=>(0,n.Lk)("div",{class:"mt-5",style:{"text-align":"left"}},"마일리지 이름",-1))),Qe=Ve((()=>(0,n.Lk)("br",null,null,-1))),Fe=Ve((()=>(0,n.Lk)("div",{class:"mt-3",style:{"text-align":"left"}},"기타사항",-1))),je={style:{"text-align":"right"}};function Be(e,t,l,a,o,r){return(0,n.uX)(),(0,n.CE)(n.FK,null,[qe,(0,n.Lk)("div",Ie,[Se,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.mileageName=e),type:"text",class:"input-base input-white",style:{width:"800px","text-align":"left"},readonly:""},null,512),[[i.Jo,a.mileageName]]),Qe,Fe,(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.additionalNotes=e),class:"input-base input-white",style:{width:"800px",height:"200px","text-align":"left"},placeholder:"기타 요청사항을 입력하세요."},null,512),[[i.Jo,a.additionalNotes]])]),(0,n.Lk)("div",je,[(0,n.Lk)("button",{class:"btn-yellow mt-5 KB_S4",onClick:t[2]||(t[2]=(...e)=>a.submitForm&&a.submitForm(...e))},"요청하기")])],64)}var Te={name:"MileageRequestWriteDelete",setup(){const e=(0,w.Pj)(),t=(0,n.EW)((()=>e.getters["login/getLoginInfo"])),l=(0,n.EW)((()=>e.getters["mileage/getArrayMileage"])),a=(0,D.KR)(3),i=(0,D.KR)(""),o=(0,D.KR)(""),r=(0,n.EW)((()=>{const e=t.value.mile_no,n=l.value.find((t=>t.mile_no.toString()===e.toString()));return n?`${n.mile_name}`:"추가 마일리지 이름을 입력하세요."})),s=async()=>{const e={request_mile_name:i.value,request_mil_max:0,request_admin:" ",request_etc:o.value,request_no:a.value,user_no:t.value.user_no,mile_no:t.value.mile_no};try{const t=await ue.A.post("/user/requestAdd",e);G().fire({icon:"success",title:"성공",text:"요청이 성공적으로 제출되었습니다.",scrollbarPadding:!1}),console.log(t.data),document.location="/mileageRequesList"}catch(l){console.error("Error submitting form:",l),G().fire({icon:"error",title:"서버 오류",text:"요청을 제출하는 동안 오류가 발생했습니다. 나중에 다시 시도해 주세요.",scrollbarPadding:!1})}};return(0,n.sV)((()=>{i.value=r.value})),{mileageName:i,additionalNotes:o,getMileageNamePlaceholder:r,submitForm:s}}};const Je=(0,de.A)(Te,[["render",Be],["__scopeId","data-v-5cdcf297"]]);var $e=Je,De={name:"MileageRequestWrite",components:{WriteAdd:ve,WriteModify:Pe,WriteDelete:$e},data(){return{selectedAction:"add"}},computed:{...(0,w.L8)("login",["getLoginInfo"]),loginInfo(){return this.getLoginInfo},hasMileageNumber(){return this.loginInfo&&this.loginInfo.mile_no}},methods:{handleCheckboxChange(){},goBack(){this.$router.go(-1)}},mounted(){}};const ze=(0,de.A)(De,[["render",_],["__scopeId","data-v-aad68c5c"]]);var Ge=ze},9617:function(e,t,l){var n=l(5397),a=l(5610),i=l(6198),o=function(e){return function(t,l,o){var r=n(t),s=i(r);if(0===s)return!e&&-1;var u,c=a(o,s);if(e&&l!==l){while(s>c)if(u=r[c++],u!==u)return!0}else for(;s>c;c++)if((e||c in r)&&r[c]===l)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},4527:function(e,t,l){var n=l(3724),a=l(4376),i=TypeError,o=Object.getOwnPropertyDescriptor,r=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=r?function(e,t){if(a(e)&&!o(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7740:function(e,t,l){var n=l(9297),a=l(5031),i=l(7347),o=l(4913);e.exports=function(e,t,l){for(var r=a(t),s=o.f,u=i.f,c=0;c<r.length;c++){var d=r[c];n(e,d)||l&&n(l,d)||s(e,d,u(t,d))}}},6837:function(e){var t=TypeError,l=9007199254740991;e.exports=function(e){if(e>l)throw t("Maximum allowed index exceeded");return e}},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(e,t,l){var n=l(4475),a=l(7347).f,i=l(6699),o=l(6840),r=l(9433),s=l(7740),u=l(2796);e.exports=function(e,t){var l,c,d,m,p,f,g=e.target,v=e.global,h=e.stat;if(c=v?n:h?n[g]||r(g,{}):n[g]&&n[g].prototype,c)for(d in t){if(p=t[d],e.dontCallGetSet?(f=a(c,d),m=f&&f.value):m=c[d],l=u(v?d:g+(h?".":"#")+d,e.forced),!l&&void 0!==m){if(typeof p==typeof m)continue;s(p,m)}(e.sham||m&&m.sham)&&i(p,"sham",!0),o(c,d,p,e)}}},7055:function(e,t,l){var n=l(9504),a=l(9039),i=l(4576),o=Object,r=n("".split);e.exports=a((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?r(e,""):o(e)}:o},4376:function(e,t,l){var n=l(4576);e.exports=Array.isArray||function(e){return"Array"===n(e)}},2796:function(e,t,l){var n=l(9039),a=l(4901),i=/#|\.prototype\./,o=function(e,t){var l=s[r(e)];return l===c||l!==u&&(a(t)?n(t):!!t)},r=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},6198:function(e,t,l){var n=l(8014);e.exports=function(e){return n(e.length)}},741:function(e){var t=Math.ceil,l=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?l:t)(n)}},7347:function(e,t,l){var n=l(3724),a=l(9565),i=l(8773),o=l(6980),r=l(5397),s=l(6969),u=l(9297),c=l(5917),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=r(e),t=s(t),c)try{return d(e,t)}catch(l){}if(u(e,t))return o(!a(i.f,e,t),e[t])}},8480:function(e,t,l){var n=l(1828),a=l(8727),i=a.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},1828:function(e,t,l){var n=l(9504),a=l(9297),i=l(5397),o=l(9617).indexOf,r=l(421),s=n([].push);e.exports=function(e,t){var l,n=i(e),u=0,c=[];for(l in n)!a(r,l)&&a(n,l)&&s(c,l);while(t.length>u)a(n,l=t[u++])&&(~o(c,l)||s(c,l));return c}},8773:function(e,t){var l={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!l.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:l},5031:function(e,t,l){var n=l(7751),a=l(9504),i=l(8480),o=l(3717),r=l(8551),s=a([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(r(e)),l=o.f;return l?s(t,l(e)):t}},5610:function(e,t,l){var n=l(1291),a=Math.max,i=Math.min;e.exports=function(e,t){var l=n(e);return l<0?a(l+t,0):i(l,t)}},5397:function(e,t,l){var n=l(7055),a=l(7750);e.exports=function(e){return n(a(e))}},1291:function(e,t,l){var n=l(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},8014:function(e,t,l){var n=l(1291),a=Math.min;e.exports=function(e){var t=n(e);return t>0?a(t,9007199254740991):0}},4114:function(e,t,l){var n=l(6518),a=l(8981),i=l(6198),o=l(4527),r=l(6837),s=l(9039),u=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!c();n({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=a(this),l=i(t),n=arguments.length;r(l+n);for(var s=0;s<n;s++)t[l]=arguments[s],l++;return o(t,l),l}})}}]);
//# sourceMappingURL=1814.998e7f05.js.map