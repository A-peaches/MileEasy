{"version":3,"file":"js/5159.9359bebb.js","mappings":"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","sources":["webpack://mile/./src/views/adminMileage/commentMileage/CommentMieageeAdminView.vue","webpack://mile/./src/views/adminMileage/commentMileage/CommentMieageeAdminView.vue?4093"],"sourcesContent":["<!--üö®ÎßàÏùºÎ¶¨ÏßÄ Í¥ÄÎ¶¨Ïûê :  ÎßàÏùºÎ¶¨ÏßÄ Î©òÌä∏ÌôîÎ©¥-->\r\n<template>\r\n  <div class=\"cards page-back mx-auto\" >\r\n    <h2 class=\"bold-x-lg my-5\" style=\"font-family: KB_C3\">ÎßàÏùºÎ¶¨ÏßÄ Î©òÌä∏</h2>\r\n    <div style=\"padding:0 5%;\">\r\n      <div class=\"p-4 mt-5\">\r\n        <h3 class=\"lg p-3\" style=\"text-align: left; font-family: KB_C2\">ÎßàÏùºÎ¶¨ÏßÄ Ìï≠Î™©</h3>\r\n        <div class=\"p-2\">\r\n          <div class=\"input-gray p-3\" style=\"text-align:left;\">\r\n            <span class=\"lg2\" style=\"width: 100%; text-align: left;\">{{mile_name}}&nbsp;ÎßàÏùºÎ¶¨ÏßÄ</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"p-4\">\r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n          <h3 class=\"lg p-3\" style=\"text-align: left; font-family: KB_C2\">Ï∂îÏ≤ú Î©òÌä∏</h3>\r\n          <button @click=\"addComment\">\r\n            <span class=\"lg2 mr-5 brown\" style=\"text-align:right;\"><i class=\"bi bi-plus-lg\"></i>&nbsp;Ï∂îÍ∞ÄÌïòÍ∏∞</span>\r\n          </button>\r\n        </div>\r\n        <div v-for=\"(recommand, index) in mileRecommands\" :key=\"index\" class=\"p-2 d-flex justify-content-between align-items-center\">\r\n          <div class=\"input-gray p-3\" style=\"width: 95%; text-align:left;\">\r\n            <input v-model=\"recommand.mile_mention\" class=\"lg2\" placeholder=\"Ï∂îÏ≤ú Î©òÌä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî\" style=\"text-align: left; width: 100%;\"/>\r\n          </div>\r\n          <button @click=\"deleteComment(index)\">\r\n            <span class=\"lg brown\"><i class=\"bi bi-dash-lg\"></i></span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style=\"padding-top: 10%\">\r\n      <button @click=\"addCommentAction\" class=\"btn-green\" style=\"width:8vw; height: 3vw; font-size:1.2vw; font-family: KB_C2;\">Îì±Î°ù</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\nexport default {\r\n  name: 'CommentMieageeAdminView',\r\n  data(){\r\n    return {\r\n      mile_no: '',\r\n      mile_name: '',\r\n      baseHeight: 80,\r\n      increment: 10,\r\n      mileRecommands: []\r\n    }\r\n  },\r\n  computed :{\r\n    ...mapGetters('mile', ['getMileInfo']),\r\n    ...mapGetters('login', ['getLoginInfo', 'getIsChecked']),\r\n    ...mapGetters('mileRecommand', ['getMileRecommandInfo']),\r\n    loginInfo(){\r\n      return this.getLoginInfo;\r\n    },\r\n    mileInfo() {\r\n      return this.getMileInfo;\r\n    },\r\n    computedHeight(){\r\n      return `${this.baseHeight + this.mileRecommands.length * this.increment}vh`;\r\n    },\r\n    mileRecommandInfo(){\r\n      return this.getMileRecommandInfo;\r\n    },\r\n    isChecked() {\r\n      return this.getIsChecked;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('mile', ['fetchMileInfo']),\r\n    ...mapActions('mileRecommand', ['getMileRecommand','updateRecommands', 'addRecommands', 'deleteRecommands']),\r\n    addComment(){\r\n      const newRecommand = {\r\n        mile_mention: '', \r\n        mile_no: this.mileRecommands.length > 0 ? this.mileRecommands[0].mile_no : null, \r\n        mile_link: this.mileRecommands.length > 0 ? this.mileRecommands[0].mile_link : null, \r\n        mile_recommand_no: null\r\n      };\r\n      this.mileRecommands.push(newRecommand);\r\n    },\r\n    async deleteComment(index){\r\n      const confirmDeletion = await this.showAlertConfirm(\"Ï∂îÏ≤úÎ©òÌä∏Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\", \"warning\");\r\n      if(confirmDeletion){\r\n        const recommand = this.mileRecommands[index];\r\n        if(recommand.mile_recommand_no){\r\n          // DBÏóê ÏûàÎäî Î©òÌä∏Î•º ÏÇ≠Ï†úÌï† Í≤ΩÏö∞ \r\n          const response = await this.deleteRecommands(recommand);\r\n          if(response && response.data.success){\r\n            this.mileRecommands.splice(index, 1); // Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò Ìï≠Î™©ÏùÑ Î∞∞Ïó¥ÏóêÏÑú ÏÇ≠Ï†ú \r\n            console.log('ÏÇ≠Ï†ú ÏôÑÎ£å');\r\n          }else{\r\n            console.log('ÏÇ≠Ï†ú Ïã§Ìå®');\r\n          }\r\n        }else{\r\n          // DBÏóê ÏóÜÎäî Î©òÌä∏Î•º ÏÇ≠Ï†úÌï† Í≤ΩÏö∞\r\n          this.mileRecommands.splice(index, 1); // Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò Ìï≠Î™©ÏùÑ Î∞∞Ïó¥ÏóêÏÑú ÏÇ≠Ï†ú \r\n        }\r\n      }else{\r\n        console.log('ÏÇ≠Ï†ú Ï∑®ÏÜå');\r\n      }\r\n    },\r\n    async addCommentAction(){\r\n      if(this.mileRecommands!=null){\r\n        for(const recommand of this.mileRecommands){\r\n          if(recommand.mile_recommand_no){\r\n            // recommandÍ∞Ä Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏ \r\n            await this.updateRecommands(recommand);\r\n          }else{\r\n            // recommandÍ∞Ä Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏúºÎ©¥ ÏÉàÎ°ú Ï∂îÍ∞Ä \r\n            await this.addRecommands(recommand);\r\n          }\r\n        }\r\n        this.showAlert('Ï∂îÏ≤ú Î©òÌä∏Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§', 'success', '#');\r\n      }else{\r\n        this.showAlert('Ï∂îÏ≤ú Î©òÌä∏ Îì±Î°ùÏù¥ Ïã§Ìå®ÌñàÏäµÎãàÎã§', 'error', '#')\r\n      }\r\n    },\r\n    showAlert(t, i, r) {\r\n      this.$swal({\r\n        title: t,\r\n        icon: i,\r\n        scrollbarPadding: false\r\n      }).then((result) => {\r\n        if(result.isConfirmed){\r\n          if(r == '#'){\r\n            location.reload(); // ÌòÑÏû¨ ÌéòÏù¥ÏßÄ ÏÉàÎ°úÍ≥†Ïπ®\r\n          }else{\r\n            this.$router.push(r);\r\n          }\r\n        }\r\n      })\r\n    },\r\n    showAlertConfirm(t, i) {\r\n      return this.$swal({\r\n        title: t,\r\n        icon: i,\r\n        scrollbarPadding: false\r\n      }).then((result) => {\r\n        return result.isConfirmed;\r\n      });\r\n    },\r\n    checkLoginInfo() {\r\n      if (!this.getLoginInfo || (this.getLoginInfo.user_is_manager == 1 && this.getIsChecked == false)) {\r\n          window.location.href=\"/noAccess\"\r\n        } \r\n    },\r\n  },\r\n  async created(){\r\n    // ÎßàÏùºÎ¶¨ÏßÄ Îã¥ÎãπÏûê Î°úÍ∑∏Ïù∏ Ïó¨Î∂Ä ÌôïÏù∏\r\n    this.checkLoginInfo();\r\n    const user_no = this.loginInfo ? this.loginInfo.user_no : null;\r\n    if(user_no){\r\n      await this.fetchMileInfo(user_no);\r\n      const mileInfo = this.getMileInfo;\r\n      if(mileInfo){\r\n        this.mile_name = mileInfo.mile_no;\r\n      }else{\r\n        console.error('ÎßàÏùºÎ¶¨ÏßÄ Ïù¥Î¶ÑÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.');\r\n      }\r\n    }else{\r\n      console.error('user_noÏù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§.');\r\n    }\r\n    const mile_no = this.loginInfo ? this.loginInfo.mile_no : null;\r\n    this.mile_no = mile_no;\r\n    if(mile_no){\r\n      await this.getMileRecommand(mile_no);\r\n      const mileRecommandInfo = this.getMileRecommandInfo;\r\n      if(mileRecommandInfo){\r\n        this.mileRecommands = mileRecommandInfo;\r\n      }else {\r\n        console.error('Ï∂îÏ≤úÎ©òÌä∏Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.');\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./CommentMieageeAdminView.vue?vue&type=template&id=d6d508d8\"\nimport script from \"./CommentMieageeAdminView.vue?vue&type=script&lang=js\"\nexport * from \"./CommentMieageeAdminView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createTextVNode","_hoisted_12","_hoisted_17","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$data","mile_name","_hoisted_9","_hoisted_10","_hoisted_11","onClick","_cache","args","$options","addComment","_hoisted_13","_Fragment","_renderList","mileRecommands","recommand","index","key","_hoisted_14","$event","mile_mention","placeholder","_hoisted_15","deleteComment","_hoisted_18","_hoisted_16","_hoisted_19","addCommentAction","name","data","mile_no","baseHeight","increment","computed","mapGetters","loginInfo","this","getLoginInfo","mileInfo","getMileInfo","computedHeight","length","mileRecommandInfo","getMileRecommandInfo","isChecked","getIsChecked","methods","mapActions","newRecommand","mile_link","mile_recommand_no","push","confirmDeletion","showAlertConfirm","response","deleteRecommands","success","splice","console","log","updateRecommands","addRecommands","showAlert","t","i","r","$swal","title","icon","scrollbarPadding","then","result","isConfirmed","location","reload","$router","checkLoginInfo","user_is_manager","window","href","created","user_no","fetchMileInfo","error","getMileRecommand","__exports__","render"],"sourceRoot":""}