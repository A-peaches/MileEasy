"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[5099],{5099:function(e,t,a){a.r(t),a.d(t,{default:function(){return ce}});var n=a(641),l=a(33),i=a(3751);const s=e=>((0,n.Qi)("data-v-f0fae1aa"),e=e(),(0,n.jt)(),e),o=s((()=>(0,n.Lk)("h2",{class:"bold-x-lg my-5",style:{"font-family":"KB_C3"}},"마왕 관리",-1))),d={style:{padding:"0 5%"}},r={class:"p-4 mt-5"},c=s((()=>(0,n.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}}," 배지 디자인 변경 ",-1))),g={class:"p-2",style:{display:"flex","justify-content":"center","background-color":"#f6f6f6"}},p={style:{width:"30%","text-align":"center",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"10px"}},u=["src"],m=s((()=>(0,n.Lk)("div",{style:{width:"10%"}},null,-1))),f={style:{width:"30%","text-align":"center",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"10px"}},h=["src"],k={class:"p-4"},y={class:"d-flex justify-content-between align-items-center"},x={class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}},v={style:{"font-size":"10pt"}},b={class:"p-2",style:{"justify-content":"space-between","align-items":"flex-start","background-color":"#f6f6f6"}},L={style:{display:"flex"}},C={class:"king",style:{width:"48%"}},w=s((()=>(0,n.Lk)("div",{class:"KB_C1 title",style:{"font-size":"20pt","margin-top":"30px"}}," 마왕 TOP 5 ",-1))),_=s((()=>(0,n.Lk)("br",null,null,-1))),K={class:"text-center mx-auto",style:{width:"80%"}},M={class:"KB_S1 text-center"},j={style:{flex:"1","text-align":"left"}},I={style:{flex:"2","text-align":"center"}},B={style:{flex:"1","text-align":"right"}},F={class:"jump",style:{width:"48%"}},T=s((()=>(0,n.Lk)("div",{class:"KB_C1 title",style:{"font-size":"20pt","margin-top":"30px"}}," Jump UP TOP 5 ",-1))),E=s((()=>(0,n.Lk)("br",null,null,-1))),D={class:"text-center mx-auto",style:{width:"80%"}},O={class:"KB_S1 text-center"},J={style:{flex:"1","text-align":"left"}},X={style:{flex:"2","text-align":"center"}},A={style:{flex:"1","text-align":"right"}},S=s((()=>(0,n.Lk)("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"10px"}},[(0,n.Lk)("button",{class:"btn-yellow KB_S4",onclick:"location.href='/KingPickView'"}," 채택하기 ")],-1)));function P(e,t,a,s,P,$){const Q=(0,n.g2)("Modal"),U=(0,n.g2)("Modal2");return(0,n.uX)(),(0,n.CE)("div",{class:"cards page-back mx-auto",style:(0,l.Tr)({height:e.computedHeight})},[o,(0,n.Lk)("div",d,[(0,n.Lk)("div",r,[c,(0,n.Lk)("div",g,[(0,n.Lk)("div",p,[(0,n.Lk)("img",{src:$.kingImage,style:{width:"170px",height:"180px",margin:"0 auto"},onError:t[0]||(t[0]=(...e)=>$.handleImageError&&$.handleImageError(...e))},null,40,u),(0,n.Lk)("div",{class:"centered-button btn-yellow KB_S4 my-3",onClick:t[1]||(t[1]=(0,i.D$)(((...e)=>$.openModalKing&&$.openModalKing(...e)),["stop"]))}," 변경 ")]),m,(0,n.Lk)("div",f,[(0,n.Lk)("img",{src:$.jumpImage,style:{width:"170px",height:"180px",margin:"0 auto"},onError:t[2]||(t[2]=(...e)=>$.handleImageError&&$.handleImageError(...e))},null,40,h),(0,n.Lk)("div",{class:"centered-button btn-yellow KB_S4 my-3",onClick:t[3]||(t[3]=(0,i.D$)(((...e)=>$.openModalJump&&$.openModalJump(...e)),["stop"]))}," 변경 ")]),P.isModalOpen?((0,n.uX)(),(0,n.Wv)(Q,{key:0,onClose:$.closeModalKing},null,8,["onClose"])):(0,n.Q3)("",!0),P.isModal2Open?((0,n.uX)(),(0,n.Wv)(U,{key:1,onClose:$.closeModalJump},null,8,["onClose"])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",k,[(0,n.Lk)("div",y,[(0,n.Lk)("h3",x,[(0,n.eW)(" TOP 상위 리스트 "),(0,n.Lk)("span",v," (최근 업데이트 : "+(0,l.v_)(P.baseDate)+") ",1)])]),(0,n.Lk)("div",b,[(0,n.Lk)("div",L,[(0,n.Lk)("div",C,[w,_,(0,n.Lk)("div",K,[(0,n.Lk)("div",M,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.kingTop3,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,l.C4)({top1:0===t}),style:{display:"flex","justify-content":"space-between","align-items":"center","text-align":"center","margin-bottom":"20px",padding:"10px","background-color":"#ffffff","border-radius":"8px","box-shadow":"0px 0px 10px rgba(0, 0, 0, 0.1)"}},[(0,n.Lk)("div",j,(0,l.v_)(e.ranking)+"등 ",1),(0,n.Lk)("div",I,(0,l.v_)(e.user_name),1),(0,n.Lk)("div",B,(0,l.v_)(e.total_score),1)],2)))),128))])])]),(0,n.Lk)("div",F,[T,E,(0,n.Lk)("div",D,[(0,n.Lk)("div",O,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.jumpTop3,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,l.C4)({top1:0===t}),style:{display:"flex","justify-content":"space-between","align-items":"center","text-align":"center","margin-bottom":"20px",padding:"10px","background-color":"#ffffff","border-radius":"8px","box-shadow":"0px 0px 10px rgba(0, 0, 0, 0.1)"}},[(0,n.Lk)("div",J,(0,l.v_)(e.ranking)+"등 ",1),(0,n.Lk)("div",X,(0,l.v_)(e.user_name),1),(0,n.Lk)("div",A,(0,l.v_)(e.score_increase),1)],2)))),128))])])])]),S])])])],4)}var $=a(6278);const Q=e=>((0,n.Qi)("data-v-bf76a396"),e=e(),(0,n.jt)(),e),U={class:"modals"},z={class:"modals-content"},W=Q((()=>(0,n.Lk)("p",{class:"lg2 KB_S4 mb-3",style:{"margin-bottom":"0px"}}," 마왕 배지 디자인 변경 ",-1)));function H(e,t,a,l,i,s){return(0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("div",z,[(0,n.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),W,(0,n.Lk)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>s.onFileChange&&s.onFileChange(...e))},null,32),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>s.uploadFile&&s.uploadFile(...e))},"파일 업로드")])])}var V=a(7682),q=a(8465),G=a.n(q),N={data(){return{isModalOpen:!1,file:null}},methods:{onFileChange(e){this.file=e.target.files[0]},async uploadFile(){if(!this.file)return void G().fire("파일 오류","파일을 먼저 선택해주세요.","warning");let e=new FormData;e.append("file",this.file),e.append("name","king.jpg");try{await V.A.post("/admin/badgeUpload",e,{headers:{"Content-Type":"multipart/form-data"}}),G().fire("성공","파일 업로드가 완료되었습니다.","success"),this.$emit("close")}catch(t){G().fire("실패","파일 업로드가 실패하였습니다.","error")}}}},R=a(6262);const Y=(0,R.A)(N,[["render",H],["__scopeId","data-v-bf76a396"]]);var Z=Y;const ee=e=>((0,n.Qi)("data-v-665c0606"),e=e(),(0,n.jt)(),e),te={class:"modals"},ae={class:"modals-content"},ne=ee((()=>(0,n.Lk)("p",{class:"lg2 KB_S4 mb-3",style:{"margin-bottom":"0px"}}," Jump UP 배지 디자인 변경 ",-1)));function le(e,t,a,l,i,s){return(0,n.uX)(),(0,n.CE)("div",te,[(0,n.Lk)("div",ae,[(0,n.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),ne,(0,n.Lk)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>s.onFileChange&&s.onFileChange(...e))},null,32),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>s.uploadFile&&s.uploadFile(...e))},"파일 업로드")])])}var ie={data(){return{isModal2Open:!1,file:null}},methods:{onFileChange(e){this.file=e.target.files[0]},async uploadFile(){if(!this.file)return void G().fire("파일 오류","파일을 먼저 선택해주세요.","warning");let e=new FormData;e.append("file",this.file),e.append("name","jump.jpg");try{await V.A.post("/admin/badgeUpload",e,{headers:{"Content-Type":"multipart/form-data"}}),G().fire("성공","파일 업로드가 완료되었습니다.","success"),this.$emit("close")}catch(t){G().fire("실패","파일 업로드가 실패하였습니다.","error")}}}};const se=(0,R.A)(ie,[["render",le],["__scopeId","data-v-665c0606"]]);var oe=se,de={name:"KingMain",components:{Modal:Z,Modal2:oe},data(){return{filesToUpload:[],isModalOpen:!1,isModal2Open:!1,uploading:!1,kingTop3:[],jumpTop3:[],baseDate:""}},computed:{...(0,$.L8)("login",["getLoginInfo"]),...(0,$.L8)("badge",["getKingBadge"]),...(0,$.L8)("badge",["getJumpBadge"]),kingImage(){return this.getKingBadge},jumpImage(){return this.getJumpBadge},loginInfo(){return this.getLoginInfo}},methods:{openModalKing(){this.isModalOpen=!0},closeModalKing(){this.isModalOpen=!1},openModalJump(){this.isModal2Open=!0},closeModalJump(){this.isModal2Open=!1},...(0,$.i0)("badge",["badgeKingImage"]),...(0,$.i0)("badge",["badgeJumpImage"]),...(0,$.i0)("badge",["watchBadgeChanges"]),handleImageError(){console.error("이미지 로드 실패")},async kingData(){try{const e=await V.A.get("/mileage/kingData");console.log("마왕 top3:",e.data),this.kingTop3=e.data.slice(0,5)}catch(e){console.error("마왕 top3:",e),this.kingTop3=[]}},async jumpData(){try{const e=await V.A.get("/mileage/jumpData");console.log("점프업 top3:",e.data),this.baseDate=e.data.length?e.data[0].base_date:"",this.jumpTop3=e.data.slice(0,5)}catch(e){console.error("점프업 top3:",e),this.jumpTop3=[]}},...(0,$.i0)("badge",["badgeKingImage"]),...(0,$.i0)("badge",["badgeJumpImage"]),...(0,$.i0)("badge",["watchBadgeChanges"])},mounted(){this.badgeKingImage(),this.badgeJumpImage(),this.watchBadgeChanges(),this.kingData(),this.jumpData()}};const re=(0,R.A)(de,[["render",P],["__scopeId","data-v-f0fae1aa"]]);var ce=re}}]);
//# sourceMappingURL=5099.16049c0c.js.map