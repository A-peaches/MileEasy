"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[7333],{7333:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var i=n(20641),a=n(90033),l=n(53751);const s=e=>((0,i.Qi)("data-v-556df830"),e=e(),(0,i.jt)(),e),o=s((()=>(0,i.Lk)("h2",{class:"bold-x-lg my-5",style:{"font-family":"KB_C3"}},"마왕 관리",-1))),d={style:{padding:"0 5%"}},c={class:"p-4 mt-5"},g=s((()=>(0,i.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}}," 배지 디자인 변경 ",-1))),r={class:"p-2",style:{display:"flex","justify-content":"center","background-color":"#f6f6f6"}},p={style:{width:"30%","text-align":"center",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"10px"}},u=["src"],f=s((()=>(0,i.Lk)("div",{style:{width:"10%"}},null,-1))),m={style:{width:"30%","text-align":"center",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"10px"}},h=["src"],k={class:"p-4"},x={class:"d-flex justify-content-between align-items-center"},y={class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}},L={style:{"font-size":"10pt"}},b={class:"p-2",style:{"justify-content":"space-between","align-items":"flex-start","background-color":"#f6f6f6"}},v={style:{display:"flex"}},C={class:"king",style:{width:"48%"}},I=s((()=>(0,i.Lk)("div",{class:"KB_C1 title",style:{"font-size":"20pt","margin-top":"30px"}}," 마왕 TOP 5 ",-1))),w=s((()=>(0,i.Lk)("br",null,null,-1))),_={class:"text-center mx-auto",style:{width:"80%"}},K={class:"KB_S1 text-center"},M={style:{flex:"1","text-align":"left"}},j={style:{flex:"2","text-align":"center"}},B={style:{flex:"1","text-align":"right"}},F={class:"jump",style:{width:"48%"}},T=s((()=>(0,i.Lk)("div",{class:"KB_C1 title",style:{"font-size":"20pt","margin-top":"30px"}}," Jump UP TOP 5 ",-1))),E=s((()=>(0,i.Lk)("br",null,null,-1))),D={class:"text-center mx-auto",style:{width:"80%"}},O={class:"KB_S1 text-center"},J={style:{flex:"1","text-align":"left"}},P={style:{flex:"2","text-align":"center"}},A={style:{flex:"1","text-align":"right"}},X=s((()=>(0,i.Lk)("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"10px","margin-right":"90px","margin-bottom":"20px"}},[(0,i.Lk)("button",{class:"btn-yellow KB_S4",onclick:"location.href='/KingPickView'"}," 채택하기 ")],-1)));function S(e,t,n,s,S,$){const Q=(0,i.g2)("Modal"),U=(0,i.g2)("Modal2");return(0,i.uX)(),(0,i.CE)("div",{class:"cards page-back mx-auto",style:(0,a.Tr)({height:e.computedHeight})},[o,(0,i.Lk)("div",d,[(0,i.Lk)("div",c,[g,(0,i.Lk)("div",r,[(0,i.Lk)("div",p,[(0,i.Lk)("img",{src:$.kingImage,style:{width:"170px",height:"180px",margin:"0 auto"},onError:t[0]||(t[0]=(...e)=>$.handleImageError&&$.handleImageError(...e))},null,40,u),(0,i.Lk)("div",{class:"centered-button btn-yellow KB_S4 my-3",onClick:t[1]||(t[1]=(0,l.D$)(((...e)=>$.openModalKing&&$.openModalKing(...e)),["stop"]))}," 변경 ")]),f,(0,i.Lk)("div",m,[(0,i.Lk)("img",{src:$.jumpImage,style:{width:"170px",height:"180px",margin:"0 auto"},onError:t[2]||(t[2]=(...e)=>$.handleImageError&&$.handleImageError(...e))},null,40,h),(0,i.Lk)("div",{class:"centered-button btn-yellow KB_S4 my-3",onClick:t[3]||(t[3]=(0,l.D$)(((...e)=>$.openModalJump&&$.openModalJump(...e)),["stop"]))}," 변경 ")]),S.isModalOpen?((0,i.uX)(),(0,i.Wv)(Q,{key:0,onClose:$.closeModalKing},null,8,["onClose"])):(0,i.Q3)("",!0),S.isModal2Open?((0,i.uX)(),(0,i.Wv)(U,{key:1,onClose:$.closeModalJump},null,8,["onClose"])):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",k,[(0,i.Lk)("div",x,[(0,i.Lk)("h3",y,[(0,i.eW)(" TOP 상위 리스트 "),(0,i.Lk)("span",L," (최근 업데이트 : "+(0,a.v_)(S.baseDate)+") ",1)])]),(0,i.Lk)("div",b,[(0,i.Lk)("div",v,[(0,i.Lk)("div",C,[I,w,(0,i.Lk)("div",_,[(0,i.Lk)("div",K,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(S.kingTop3,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,a.C4)({top1:0===t}),style:{display:"flex","justify-content":"space-between","align-items":"center","text-align":"center","margin-bottom":"20px",padding:"10px","background-color":"#ffffff","border-radius":"8px","box-shadow":"0px 0px 10px rgba(0, 0, 0, 0.1)"}},[(0,i.Lk)("div",M,(0,a.v_)(e.ranking)+"등 ",1),(0,i.Lk)("div",j,(0,a.v_)(e.user_name),1),(0,i.Lk)("div",B,(0,a.v_)(e.total_score),1)],2)))),128))])])]),(0,i.Lk)("div",F,[T,E,(0,i.Lk)("div",D,[(0,i.Lk)("div",O,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(S.jumpTop3,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,a.C4)({top1:0===t}),style:{display:"flex","justify-content":"space-between","align-items":"center","text-align":"center","margin-bottom":"20px",padding:"10px","background-color":"#ffffff","border-radius":"8px","box-shadow":"0px 0px 10px rgba(0, 0, 0, 0.1)"}},[(0,i.Lk)("div",J,(0,a.v_)(e.ranking)+"등 ",1),(0,i.Lk)("div",P,(0,a.v_)(e.user_name),1),(0,i.Lk)("div",A,(0,a.v_)(e.score_increase),1)],2)))),128))])])])]),X])])])],4)}var $=n(66278);const Q=e=>((0,i.Qi)("data-v-911621f6"),e=e(),(0,i.jt)(),e),U={class:"modals"},z={class:"modals-content"},W=Q((()=>(0,i.Lk)("p",{class:"lg2 KB_S4 mb-3",style:{"margin-bottom":"0px"}}," 마왕 배지 디자인 변경 ",-1))),H=Q((()=>(0,i.Lk)("br",null,null,-1)));function V(e,t,n,a,l,s){return(0,i.uX)(),(0,i.CE)("div",U,[(0,i.Lk)("div",z,[(0,i.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),W,H,(0,i.Lk)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>s.onFileChange&&s.onFileChange(...e))},null,32),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>s.uploadFile&&s.uploadFile(...e))},"파일 업로드")])])}var q=n(37682),G=n(78465),N=n.n(G),R={data(){return{isModalOpen:!1,file:null}},methods:{checkLoginInfo(){this.getLoginInfo&&!1!==this.getIsChecked&&!1!==this.getLoginInfo.user_is_admin||(window.location.href="/noAccess")},onFileChange(e){this.file=e.target.files[0]},async uploadFile(){if(!this.file)return void N().fire({title:"파일 오류",text:"파일을 먼저 선택해주세요.",icon:"warning",scrollbarPadding:!1});let e=new FormData;e.append("file",this.file),e.append("name","king.jpg");try{await q.A.post("/admin/badgeUpload",e,{headers:{"Content-Type":"multipart/form-data"}}),N().fire({title:"성공",text:"파일 업로드가 완료되었습니다.",icon:"success",scrollbarPadding:!1}),this.$emit("close")}catch(t){N().fire({title:"실패",text:"파일 업로드가 실패하였습니다.",icon:"error",scrollbarPadding:!1})}}},created(){this.checkLoginInfo()},computed:{...(0,$.L8)("login",["getLoginInfo","getIsChecked"])}},Y=n(66262);const Z=(0,Y.A)(R,[["render",V],["__scopeId","data-v-911621f6"]]);var ee=Z;const te=e=>((0,i.Qi)("data-v-91062728"),e=e(),(0,i.jt)(),e),ne={class:"modals"},ie={class:"modals-content"},ae=te((()=>(0,i.Lk)("p",{class:"lg2 KB_S4 mb-3",style:{"margin-bottom":"0px"}}," Jump UP 배지 디자인 변경 ",-1))),le=te((()=>(0,i.Lk)("br",null,null,-1)));function se(e,t,n,a,l,s){return(0,i.uX)(),(0,i.CE)("div",ne,[(0,i.Lk)("div",ie,[(0,i.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),ae,le,(0,i.Lk)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>s.onFileChange&&s.onFileChange(...e))},null,32),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>s.uploadFile&&s.uploadFile(...e))},"파일 업로드")])])}var oe={data(){return{isModal2Open:!1,file:null}},methods:{checkLoginInfo(){this.getLoginInfo&&!1!==this.getIsChecked&&!1!==this.getLoginInfo.user_is_admin||(window.location.href="/noAccess")},onFileChange(e){this.file=e.target.files[0]},async uploadFile(){if(!this.file)return void N().fire({title:"파일 오류",text:"파일을 먼저 선택해주세요.",icon:"warning",scrollbarPadding:!1});let e=new FormData;e.append("file",this.file),e.append("name","jump.jpg");try{await q.A.post("/admin/badgeUpload",e,{headers:{"Content-Type":"multipart/form-data"}}),N().fire({title:"성공",text:"파일 업로드가 완료되었습니다.",icon:"success",scrollbarPadding:!1}),this.$emit("close")}catch(t){N().fire({title:"실패",text:"파일 업로드가 실패하였습니다.",icon:"error",scrollbarPadding:!1})}}},created(){this.checkLoginInfo()},computed:{...(0,$.L8)("login",["getLoginInfo","getIsChecked"])}};const de=(0,Y.A)(oe,[["render",se],["__scopeId","data-v-91062728"]]);var ce=de,ge={name:"KingMain",components:{Modal:ee,Modal2:ce},data(){return{filesToUpload:[],isModalOpen:!1,isModal2Open:!1,uploading:!1,kingTop3:[],jumpTop3:[],baseDate:""}},computed:{...(0,$.L8)("login",["getLoginInfo","getIsChecked"]),...(0,$.L8)("badge",["getKingBadge"]),...(0,$.L8)("badge",["getJumpBadge"]),kingImage(){return this.getKingBadge},jumpImage(){return this.getJumpBadge},loginInfo(){return this.getLoginInfo}},methods:{openModalKing(){this.isModalOpen=!0},closeModalKing(){this.isModalOpen=!1},openModalJump(){this.isModal2Open=!0},closeModalJump(){this.isModal2Open=!1},...(0,$.i0)("badge",["badgeKingImage"]),...(0,$.i0)("badge",["badgeJumpImage"]),...(0,$.i0)("badge",["watchBadgeChanges"]),handleImageError(){console.error("이미지 로드 실패")},checkLoginInfo(){this.getLoginInfo&&!1!==this.getIsChecked&&!1!==this.getLoginInfo.user_is_admin||(window.location.href="/noAccess")},async kingData(){try{const e=await q.A.get("/mileage/kingData");this.kingTop3=e.data.slice(0,5)}catch(e){this.kingTop3=[]}},async jumpData(){try{const e=await q.A.get("/mileage/jumpData");this.baseDate=e.data.length?e.data[0].base_date:"",this.jumpTop3=e.data.slice(0,5)}catch(e){this.jumpTop3=[]}},...(0,$.i0)("badge",["badgeKingImage"]),...(0,$.i0)("badge",["badgeJumpImage"]),...(0,$.i0)("badge",["watchBadgeChanges"])},mounted(){this.badgeKingImage(),this.badgeJumpImage(),this.watchBadgeChanges(),this.kingData(),this.jumpData()},created(){this.checkLoginInfo()}};const re=(0,Y.A)(ge,[["render",S],["__scopeId","data-v-556df830"]]);var pe=re}}]);
//# sourceMappingURL=7333.c8d9fff2.js.map