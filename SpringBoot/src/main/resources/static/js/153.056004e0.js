"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[153],{153:function(t,e,n){n.r(e),n.d(e,{default:function(){return F}});var o=n(641),r=n(33),i=n(3751);const a=t=>((0,o.Qi)("data-v-2aada378"),t=t(),(0,o.jt)(),t),c={class:"app-container"},s={key:0,class:"content cards"},l={class:"header"},u={class:"button-container"},d=a((()=>(0,o.Lk)("span",{class:"arrow"},"❮",-1))),f={key:0},h={class:"actions"},p={class:"content"},v={key:0,class:"new-label"},y={class:"title"},g={class:"meta"},m={class:"author"},b={class:"date"},w={class:"main-content"},k={class:"body"},L={class:"file cards"},_={style:{display:"flex","align-items":"center"}},x=a((()=>(0,o.Lk)("h2",{style:{"margin-right":"10px"}},"첨부파일",-1))),C={key:0,style:{color:"#4b4a4a","font-family":"'KB_S5',sans-serif","margin-left":"2%","white-space":"nowrap"}},E={key:0,style:{"margin-top":"10px"}},O={class:"icon-container"},I=a((()=>(0,o.Lk)("div",{class:"views-icon"},[(0,o.Lk)("i",{class:"bi bi-eye"})],-1))),N={class:"views-text"},D={key:1},A=a((()=>(0,o.Lk)("p",null,"Loading...",-1))),B=[A];function M(t,e,n,a,A,M){return(0,o.uX)(),(0,o.CE)("div",c,[M.notice?((0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",l,[(0,o.Lk)("div",u,[(0,o.Lk)("button",{class:"back-button",onClick:e[0]||(e[0]=(...t)=>M.goBack&&M.goBack(...t))},[d,(0,o.eW)(" 이전 ")])]),M.isLoggedIn&&M.loginInfo.user_is_admin&&!M.loginInfo.user_is_manager&&M.isChecked?((0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("div",h,[(0,o.Lk)("button",{class:"edit-button",onClick:e[1]||(e[1]=(...t)=>M.goToModifyView&&M.goToModifyView(...t))},"수정"),(0,o.Lk)("button",{class:"delete-button",onClick:e[2]||(e[2]=(...t)=>M.deleteNotice&&M.deleteNotice(...t))},"삭제")])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",p,[M.isNew(M.notice.notice_board_date)?((0,o.uX)(),(0,o.CE)("span",v,"NEW")):(0,o.Q3)("",!0),(0,o.Lk)("h1",y,(0,r.v_)(M.notice.notice_board_title),1),(0,o.Lk)("div",g,[(0,o.Lk)("span",m,(0,r.v_)(M.notice.user_name),1),(0,o.Lk)("span",b,(0,r.v_)(M.formatDate(M.notice.notice_board_date)),1)]),(0,o.Lk)("div",w,[(0,o.Lk)("div",k,[(0,o.Lk)("pre",null,[(0,o.Lk)("p",null,(0,r.v_)(M.notice.notice_board_content),1)])]),(0,o.Lk)("div",L,[(0,o.Lk)("div",_,[x,M.notice.notice_board_file?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("span",C,"파일이 존재하지 않습니다."))]),M.notice.notice_board_file?((0,o.uX)(),(0,o.CE)("div",E,[(0,o.Lk)("a",{onClick:e[3]||(e[3]=(0,i.D$)(((...t)=>M.downloadFile&&M.downloadFile(...t)),["prevent"])),href:"#",class:"file-download-link"},(0,r.v_)(M.getDisplayFileName(M.notice.notice_board_file)),1)])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",O,[I,(0,o.Lk)("div",N,(0,r.v_)(M.notice.notice_board_hit),1)])])])):((0,o.uX)(),(0,o.CE)("div",D,B))])}n(4114),n(4603),n(7566),n(8721);var P=n(7682),T=n(6278),j=n(8465),S=n.n(j),V={props:["id"],methods:{...(0,T.i0)("notice",["fetchNoticeDetail","incrementViews"]),async deleteNotice(){S().fire({title:"정말로 삭제하시겠습니까?",text:"다시 되돌릴 수 없습니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#4b4a4a",cancelButtonColor:"#bd2c3a",confirmButtonText:"확인",cancelButtonText:"취소",reverseButtons:!1}).then((async t=>{if(t.isConfirmed)try{await P.A.delete(`/notice/delete/${this.notice.notice_board_no}`),S().fire("게시글 삭제 완료","게시글이 삭제 되었습니다.","success").then((()=>{this.$router.push("/noticeListView")}))}catch(e){console.error("게시글 삭제 중 오류가 발생했습니다.",e),S().fire("게시글 삭제 중 오류가 발생했습니다.","","error")}}))},showAlert(t,e){this.$swal({title:t,icon:e,confirmButtonText:"확인",confirmButtonColor:"#4b4a4a",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,stopKeydownPropagation:!1,scrollbarPadding:!1,backdrop:!0,didOpen:()=>{document.body.classList.add("no-scroll"),document.documentElement.style.overflow="hidden"},willClose:()=>{document.body.classList.remove("no-scroll"),document.documentElement.style.overflow=""}})},getDisplayFileName(t){const e=37;return!t||t.length<=e?t:"_"===t.charAt(e-1)?t.substring(e):t},goBack(){this.$router.go(-1)},goToModifyView(){console.log("id ;",this.notice.notice_board_no),this.$router.push({name:"noticeModifyAdminView",params:{id:this.notice.notice_board_no}})},isNew(t){const e=new Date,n=new Date(t),o=Math.abs(e-n),r=Math.ceil(o/864e5);return r<=7},formatDate(t){const e={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(t).toLocaleDateString("ko-KR",e)},async downloadFile(){try{console.log("글쓰기 상세보기 fileName :",this.notice.notice_board_file);const t=encodeURIComponent(this.notice.notice_board_file),e=await(0,P.A)({url:`/notice/download/${t}`,method:"GET",responseType:"blob"}),n=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=n,o.setAttribute("download",this.notice.notice_board_file),document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(t){console.error("파일 다운로드 중 오류 발생:",t),this.showAlert("파일 다운로드 중 오류가 발생했습니다.","error")}}},computed:{...(0,T.L8)("login",["getLoginInfo","getIsChecked"]),...(0,T.L8)("notice",["getNotice"]),notice(){return this.getNotice},loginInfo(){return this.getLoginInfo},isChecked(){return this.getIsChecked},isLoggedIn(){return!!this.loginInfo}},watch:{id:{immediate:!0,handler(t){this.fetchNoticeDetail(t)}}},mounted(){this.fetchNoticeDetail(this.id)}},X=n(6262);const $=(0,X.A)(V,[["render",M],["__scopeId","data-v-2aada378"]]);var F=$},9617:function(t,e,n){var o=n(5397),r=n(5610),i=n(6198),a=function(t){return function(e,n,a){var c=o(e),s=i(c);if(0===s)return!t&&-1;var l,u=r(a,s);if(t&&n!==n){while(s>u)if(l=c[u++],l!==l)return!0}else for(;s>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4527:function(t,e,n){var o=n(3724),r=n(4376),i=TypeError,a=Object.getOwnPropertyDescriptor,c=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=c?function(t,e){if(r(t)&&!a(t,"length").writable)throw new i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7740:function(t,e,n){var o=n(9297),r=n(5031),i=n(7347),a=n(4913);t.exports=function(t,e,n){for(var c=r(e),s=a.f,l=i.f,u=0;u<c.length;u++){var d=c[u];o(t,d)||n&&o(n,d)||s(t,d,l(e,d))}}},6837:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(t,e,n){var o=n(4475),r=n(7347).f,i=n(6699),a=n(6840),c=n(9433),s=n(7740),l=n(2796);t.exports=function(t,e){var n,u,d,f,h,p,v=t.target,y=t.global,g=t.stat;if(u=y?o:g?o[v]||c(v,{}):o[v]&&o[v].prototype,u)for(d in e){if(h=e[d],t.dontCallGetSet?(p=r(u,d),f=p&&p.value):f=u[d],n=l(y?d:v+(g?".":"#")+d,t.forced),!n&&void 0!==f){if(typeof h==typeof f)continue;s(h,f)}(t.sham||f&&f.sham)&&i(h,"sham",!0),a(u,d,h,t)}}},7055:function(t,e,n){var o=n(9504),r=n(9039),i=n(4576),a=Object,c=o("".split);t.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?c(t,""):a(t)}:a},4376:function(t,e,n){var o=n(4576);t.exports=Array.isArray||function(t){return"Array"===o(t)}},2796:function(t,e,n){var o=n(9039),r=n(4901),i=/#|\.prototype\./,a=function(t,e){var n=s[c(t)];return n===u||n!==l&&(r(e)?o(e):!!e)},c=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},6198:function(t,e,n){var o=n(8014);t.exports=function(t){return o(t.length)}},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var o=+t;return(o>0?n:e)(o)}},7347:function(t,e,n){var o=n(3724),r=n(9565),i=n(8773),a=n(6980),c=n(5397),s=n(6969),l=n(9297),u=n(5917),d=Object.getOwnPropertyDescriptor;e.f=o?d:function(t,e){if(t=c(t),e=s(e),u)try{return d(t,e)}catch(n){}if(l(t,e))return a(!r(i.f,t,e),t[e])}},8480:function(t,e,n){var o=n(1828),r=n(8727),i=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},3717:function(t,e){e.f=Object.getOwnPropertySymbols},1828:function(t,e,n){var o=n(9504),r=n(9297),i=n(5397),a=n(9617).indexOf,c=n(421),s=o([].push);t.exports=function(t,e){var n,o=i(t),l=0,u=[];for(n in o)!r(c,n)&&r(o,n)&&s(u,n);while(e.length>l)r(o,n=e[l++])&&(~a(u,n)||s(u,n));return u}},8773:function(t,e){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},5031:function(t,e,n){var o=n(7751),r=n(9504),i=n(8480),a=n(3717),c=n(8551),s=r([].concat);t.exports=o("Reflect","ownKeys")||function(t){var e=i.f(c(t)),n=a.f;return n?s(e,n(t)):e}},5610:function(t,e,n){var o=n(1291),r=Math.max,i=Math.min;t.exports=function(t,e){var n=o(t);return n<0?r(n+e,0):i(n,e)}},5397:function(t,e,n){var o=n(7055),r=n(7750);t.exports=function(t){return o(r(t))}},1291:function(t,e,n){var o=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:o(e)}},8014:function(t,e,n){var o=n(1291),r=Math.min;t.exports=function(t){var e=o(t);return e>0?r(e,9007199254740991):0}},4114:function(t,e,n){var o=n(6518),r=n(8981),i=n(6198),a=n(4527),c=n(6837),s=n(9039),l=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=l||!u();o({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=r(this),n=i(e),o=arguments.length;c(n+o);for(var s=0;s<o;s++)e[n]=arguments[s],n++;return a(e,n),n}})}}]);
//# sourceMappingURL=153.056004e0.js.map