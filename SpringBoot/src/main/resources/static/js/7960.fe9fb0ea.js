"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[7960],{7960:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var a=n(641),i=n(33),l=n(3751);const o=e=>((0,a.Qi)("data-v-2c3ca2c8"),e=e(),(0,a.jt)(),e),s=o((()=>(0,a.Lk)("h2",{class:"bold-x-lg my-5",style:{"font-family":"KB_C3"}},"마왕 관리",-1))),d={style:{padding:"0 5%"}},c={class:"p-4 mt-5"},g=o((()=>(0,a.Lk)("h3",{class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}}," 배지 디자인 변경 ",-1))),r={class:"p-2",style:{display:"flex","justify-content":"center","background-color":"#f6f6f6"}},p={style:{width:"30%","text-align":"center",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"10px"}},u=["src"],m=o((()=>(0,a.Lk)("div",{style:{width:"10%"}},null,-1))),f={style:{width:"30%","text-align":"center",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"10px"}},h=["src"],k={class:"p-4"},y={class:"d-flex justify-content-between align-items-center"},L={class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}},x={style:{"font-size":"10pt"}},b={class:"p-2",style:{"justify-content":"space-between","align-items":"flex-start","background-color":"#f6f6f6"}},v={style:{display:"flex"}},C={class:"king",style:{width:"48%"}},I=o((()=>(0,a.Lk)("div",{class:"KB_C1 title",style:{"font-size":"20pt","margin-top":"30px"}}," 마왕 TOP 5 ",-1))),w=o((()=>(0,a.Lk)("br",null,null,-1))),_={class:"text-center mx-auto",style:{width:"80%"}},K={class:"KB_S1 text-center"},M={style:{flex:"1","text-align":"left"}},j={style:{flex:"2","text-align":"center"}},B={style:{flex:"1","text-align":"right"}},F={class:"jump",style:{width:"48%"}},T=o((()=>(0,a.Lk)("div",{class:"KB_C1 title",style:{"font-size":"20pt","margin-top":"30px"}}," Jump UP TOP 5 ",-1))),E=o((()=>(0,a.Lk)("br",null,null,-1))),D={class:"text-center mx-auto",style:{width:"80%"}},O={class:"KB_S1 text-center"},J={style:{flex:"1","text-align":"left"}},A={style:{flex:"2","text-align":"center"}},X={style:{flex:"1","text-align":"right"}},S=o((()=>(0,a.Lk)("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"10px","margin-right":"90px","margin-bottom":"20px"}},[(0,a.Lk)("button",{class:"btn-yellow KB_S4",onclick:"location.href='/KingPickView'"}," 채택하기 ")],-1)));function P(e,t,n,o,P,$){const Q=(0,a.g2)("Modal"),U=(0,a.g2)("Modal2");return(0,a.uX)(),(0,a.CE)("div",{class:"cards page-back mx-auto",style:(0,i.Tr)({height:e.computedHeight})},[s,(0,a.Lk)("div",d,[(0,a.Lk)("div",c,[g,(0,a.Lk)("div",r,[(0,a.Lk)("div",p,[(0,a.Lk)("img",{src:$.kingImage,style:{width:"170px",height:"180px",margin:"0 auto"},onError:t[0]||(t[0]=(...e)=>$.handleImageError&&$.handleImageError(...e))},null,40,u),(0,a.Lk)("div",{class:"centered-button btn-yellow KB_S4 my-3",onClick:t[1]||(t[1]=(0,l.D$)(((...e)=>$.openModalKing&&$.openModalKing(...e)),["stop"]))}," 변경 ")]),m,(0,a.Lk)("div",f,[(0,a.Lk)("img",{src:$.jumpImage,style:{width:"170px",height:"180px",margin:"0 auto"},onError:t[2]||(t[2]=(...e)=>$.handleImageError&&$.handleImageError(...e))},null,40,h),(0,a.Lk)("div",{class:"centered-button btn-yellow KB_S4 my-3",onClick:t[3]||(t[3]=(0,l.D$)(((...e)=>$.openModalJump&&$.openModalJump(...e)),["stop"]))}," 변경 ")]),P.isModalOpen?((0,a.uX)(),(0,a.Wv)(Q,{key:0,onClose:$.closeModalKing},null,8,["onClose"])):(0,a.Q3)("",!0),P.isModal2Open?((0,a.uX)(),(0,a.Wv)(U,{key:1,onClose:$.closeModalJump},null,8,["onClose"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",k,[(0,a.Lk)("div",y,[(0,a.Lk)("h3",L,[(0,a.eW)(" TOP 상위 리스트 "),(0,a.Lk)("span",x," (최근 업데이트 : "+(0,i.v_)(P.baseDate)+") ",1)])]),(0,a.Lk)("div",b,[(0,a.Lk)("div",v,[(0,a.Lk)("div",C,[I,w,(0,a.Lk)("div",_,[(0,a.Lk)("div",K,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(P.kingTop3,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,i.C4)({top1:0===t}),style:{display:"flex","justify-content":"space-between","align-items":"center","text-align":"center","margin-bottom":"20px",padding:"10px","background-color":"#ffffff","border-radius":"8px","box-shadow":"0px 0px 10px rgba(0, 0, 0, 0.1)"}},[(0,a.Lk)("div",M,(0,i.v_)(e.ranking)+"등 ",1),(0,a.Lk)("div",j,(0,i.v_)(e.user_name),1),(0,a.Lk)("div",B,(0,i.v_)(e.total_score),1)],2)))),128))])])]),(0,a.Lk)("div",F,[T,E,(0,a.Lk)("div",D,[(0,a.Lk)("div",O,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(P.jumpTop3,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,i.C4)({top1:0===t}),style:{display:"flex","justify-content":"space-between","align-items":"center","text-align":"center","margin-bottom":"20px",padding:"10px","background-color":"#ffffff","border-radius":"8px","box-shadow":"0px 0px 10px rgba(0, 0, 0, 0.1)"}},[(0,a.Lk)("div",J,(0,i.v_)(e.ranking)+"등 ",1),(0,a.Lk)("div",A,(0,i.v_)(e.user_name),1),(0,a.Lk)("div",X,(0,i.v_)(e.score_increase),1)],2)))),128))])])])]),S])])])],4)}var $=n(6278);const Q=e=>((0,a.Qi)("data-v-1b2c94c9"),e=e(),(0,a.jt)(),e),U={class:"modals"},z={class:"modals-content"},W=Q((()=>(0,a.Lk)("p",{class:"lg2 KB_S4 mb-3",style:{"margin-bottom":"0px"}}," 마왕 배지 디자인 변경 ",-1))),H=Q((()=>(0,a.Lk)("br",null,null,-1)));function V(e,t,n,i,l,o){return(0,a.uX)(),(0,a.CE)("div",U,[(0,a.Lk)("div",z,[(0,a.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),W,H,(0,a.Lk)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>o.onFileChange&&o.onFileChange(...e))},null,32),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.uploadFile&&o.uploadFile(...e))},"파일 업로드")])])}var q=n(7682),G=n(8465),N=n.n(G),R={data(){return{isModalOpen:!1,file:null}},methods:{checkLoginInfo(){this.getLoginInfo&&!1!==this.getIsChecked&&!1!==this.getLoginInfo.user_is_admin||(window.location.href="/noAccess")},onFileChange(e){this.file=e.target.files[0]},async uploadFile(){if(!this.file)return void N().fire("파일 오류","파일을 먼저 선택해주세요.","warning");let e=new FormData;e.append("file",this.file),e.append("name","king.jpg");try{await q.A.post("/admin/badgeUpload",e,{headers:{"Content-Type":"multipart/form-data"}}),N().fire("성공","파일 업로드가 완료되었습니다.","success"),this.$emit("close")}catch(t){N().fire("실패","파일 업로드가 실패하였습니다.","error")}}},created(){this.checkLoginInfo()},computed:{...(0,$.L8)("login",["getLoginInfo","getIsChecked"])}},Y=n(6262);const Z=(0,Y.A)(R,[["render",V],["__scopeId","data-v-1b2c94c9"]]);var ee=Z;const te=e=>((0,a.Qi)("data-v-41d571ec"),e=e(),(0,a.jt)(),e),ne={class:"modals"},ae={class:"modals-content"},ie=te((()=>(0,a.Lk)("p",{class:"lg2 KB_S4 mb-3",style:{"margin-bottom":"0px"}}," Jump UP 배지 디자인 변경 ",-1))),le=te((()=>(0,a.Lk)("br",null,null,-1)));function oe(e,t,n,i,l,o){return(0,a.uX)(),(0,a.CE)("div",ne,[(0,a.Lk)("div",ae,[(0,a.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),ie,le,(0,a.Lk)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>o.onFileChange&&o.onFileChange(...e))},null,32),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.uploadFile&&o.uploadFile(...e))},"파일 업로드")])])}var se={data(){return{isModal2Open:!1,file:null}},methods:{onFileChange(e){this.file=e.target.files[0]},async uploadFile(){if(!this.file)return void N().fire("파일 오류","파일을 먼저 선택해주세요.","warning");let e=new FormData;e.append("file",this.file),e.append("name","jump.jpg");try{await q.A.post("/admin/badgeUpload",e,{headers:{"Content-Type":"multipart/form-data"}}),N().fire("성공","파일 업로드가 완료되었습니다.","success"),this.$emit("close")}catch(t){N().fire("실패","파일 업로드가 실패하였습니다.","error")}}},checkLoginInfo(){this.getLoginInfo&&!1!==this.getIsChecked&&!1!==this.getLoginInfo.user_is_admin||(window.location.href="/noAccess")},created(){this.checkLoginInfo()},computed:{...(0,$.L8)("login",["getLoginInfo","getIsChecked"])}};const de=(0,Y.A)(se,[["render",oe],["__scopeId","data-v-41d571ec"]]);var ce=de,ge={name:"KingMain",components:{Modal:ee,Modal2:ce},data(){return{filesToUpload:[],isModalOpen:!1,isModal2Open:!1,uploading:!1,kingTop3:[],jumpTop3:[],baseDate:""}},computed:{...(0,$.L8)("login",["getLoginInfo","getIsChecked"]),...(0,$.L8)("badge",["getKingBadge"]),...(0,$.L8)("badge",["getJumpBadge"]),kingImage(){return this.getKingBadge},jumpImage(){return this.getJumpBadge},loginInfo(){return this.getLoginInfo}},methods:{openModalKing(){this.isModalOpen=!0},closeModalKing(){this.isModalOpen=!1},openModalJump(){this.isModal2Open=!0},closeModalJump(){this.isModal2Open=!1},...(0,$.i0)("badge",["badgeKingImage"]),...(0,$.i0)("badge",["badgeJumpImage"]),...(0,$.i0)("badge",["watchBadgeChanges"]),handleImageError(){console.error("이미지 로드 실패")},checkLoginInfo(){this.getLoginInfo&&!1!==this.getIsChecked&&!1!==this.getLoginInfo.user_is_admin||(window.location.href="/noAccess")},async kingData(){try{const e=await q.A.get("/mileage/kingData");console.log("마왕 top3:",e.data),this.kingTop3=e.data.slice(0,5)}catch(e){console.error("마왕 top3:",e),this.kingTop3=[]}},async jumpData(){try{const e=await q.A.get("/mileage/jumpData");console.log("점프업 top3:",e.data),this.baseDate=e.data.length?e.data[0].base_date:"",this.jumpTop3=e.data.slice(0,5)}catch(e){console.error("점프업 top3:",e),this.jumpTop3=[]}},...(0,$.i0)("badge",["badgeKingImage"]),...(0,$.i0)("badge",["badgeJumpImage"]),...(0,$.i0)("badge",["watchBadgeChanges"])},mounted(){this.badgeKingImage(),this.badgeJumpImage(),this.watchBadgeChanges(),this.kingData(),this.jumpData()},created(){this.checkLoginInfo()}};const re=(0,Y.A)(ge,[["render",P],["__scopeId","data-v-2c3ca2c8"]]);var pe=re}}]);
//# sourceMappingURL=7960.fe9fb0ea.js.map