"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[6689],{6689:function(e,s,t){t.r(s),t.d(s,{default:function(){return W}});var l=t(641),a=t(33),i=t(3751),r=t(2499);const o=e=>((0,l.Qi)("data-v-cf0bde56"),e=e(),(0,l.jt)(),e),c={class:"cards page-back mx-auto",style:{color:"#4b4a4a"}},n=(0,l.Fv)('<h2 class="bold-x-lg mt-5 mb-5 ml-5" style="font-family:KB_C3;" data-v-cf0bde56> MileEasy í”„ë¡œëª¨ì…˜ </h2><div class="card shadow-sm mb-4 fade-in" style="background-color:#f5f5f5;border:#f5f5f5;" data-v-cf0bde56><div class="card-body text-start card-ml" data-v-cf0bde56><h5 class="text-emphasis text-start" data-v-cf0bde56><i class="bi bi-info-circle-fill" data-v-cf0bde56></i> ìœ ì˜ ì‚¬í•­ </h5><span class="ml-5" style="font-size:13pt;" data-v-cf0bde56> ë³¸ ì„œë¹„ìŠ¤ëŠ” ì§ì›ë“¤ì˜ MileEasy ì‚¬ì´íŠ¸ ëŒ€í•œ ê´€ì‹¬ì„ ë†’ì´ê³ , ê´€ë ¨ í˜œíƒì„ ì ê·¹ì ìœ¼ë¡œ ì•Œë¦¬ê¸° ìœ„í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. MileEasy í™ë³´ ì´ì™¸ì˜ <span class="ml-5" data-v-cf0bde56>ëª©ì ìœ¼ë¡œëŠ” ì‚¬ìš©ì´ ì œí•œë©ë‹ˆë‹¤.</span><br data-v-cf0bde56></span><span class="ml-5" data-v-cf0bde56><strong class="text-red" data-v-cf0bde56>(ì¼ì¼ ìµœëŒ€ ë°œì†¡ ê°€ëŠ¥ íšŸìˆ˜ : 1íšŒ / ì£¼ì¤‘ ìµœëŒ€ ë°œì†¡ ê°€ëŠ¥ íšŸìˆ˜ : 3íšŒ)</strong></span></div></div>',2),h={class:"row",style:{"margin-top":"60px"}},d={class:"left-item"},u={class:"phone-container"},m=o((()=>(0,l.Lk)("img",{src:r,class:"iphone"},null,-1))),p={class:"phone-overlay"},v={class:"receiver-area"},b={class:"message-area"},g={key:0,class:"message-bubble"},y={class:"right-item"},k={class:"message-input-container"},f={class:"sub-title mb-3",style:{"text-align":"start"}},L=o((()=>(0,l.Lk)("div",null,null,-1))),C={class:"flex"},_={class:"message-input-container mt-4"},M=o((()=>(0,l.Lk)("div",{class:"sub-title"},"ë©”ì‹œì§€ ì…ë ¥",-1))),I={class:"sample-messages"},x=o((()=>(0,l.Lk)("p",{class:"sub-title my-3",style:{"text-align":"start"}},"ìƒ˜í”Œ ë©”ì‹œì§€",-1))),w={class:"button-container"},A=["onClick"],E={class:"action-buttons mt-5"},F={key:0,class:"modal"},Q={class:"modal-content"},S=o((()=>(0,l.Lk)("h2",null,"ì§ì› ê²€ìƒ‰",-1))),j=o((()=>(0,l.Lk)("hr",{style:{"margin-top":"5px","margin-bottom":"5px"}},null,-1))),$={class:"checkbox-group"},B=["value","checked","onChange"],R=o((()=>(0,l.Lk)("span",{class:"custom-checkbox"},null,-1))),X={class:"checkbox-label"},U={class:"user-list"},q=["onClick"],P={key:0,class:"checkmark"};function T(e,s,t,r,o,T){return(0,l.uX)(),(0,l.CE)("div",c,[n,(0,l.Lk)("div",h,[(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[m,(0,l.Lk)("div",p,[(0,l.Lk)("div",v,(0,a.v_)(T.receiverDisplay||""),1),(0,l.Lk)("div",b,[o.message?((0,l.uX)(),(0,l.CE)("div",g,(0,a.v_)(o.message||""),1)):(0,l.Q3)("",!0)])])])]),(0,l.Lk)("div",y,[(0,l.Lk)("div",k,[(0,l.Lk)("p",f,[(0,l.eW)(" ìˆ˜ì‹ ì¸ ì§€ì • "),(0,l.Lk)("i",{class:"bi bi-plus-lg",onClick:s[0]||(s[0]=(...e)=>T.openModal&&T.openModal(...e))})]),L]),(0,l.Lk)("div",C,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>T.receiverDisplay=e),type:"text",class:"form-control",style:{width:"100%",height:"50px"},placeholder:"ìˆ˜ì‹ ì¸ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.",onClick:s[2]||(s[2]=(...e)=>T.openModal&&T.openModal(...e)),readonly:""},null,512),[[i.Jo,T.receiverDisplay]])]),(0,l.Lk)("div",_,[M,(0,l.Lk)("button",{class:"btn-yellow mb-4",onClick:s[3]||(s[3]=(...e)=>T.generateAIContent&&T.generateAIContent(...e))}," AI ë‚´ìš© ìë™ ìƒì„± ")]),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":s[4]||(s[4]=e=>o.message=e),class:"form-control",style:{height:"250px"},placeholder:"ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš” (100ì ì´ë‚´)",maxlength:"100"},null,512),[[i.Jo,o.message]]),(0,l.Lk)("div",I,[x,(0,l.Lk)("div",w,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.sampleMessages,((e,s)=>((0,l.uX)(),(0,l.CE)("button",{key:s,class:"sample-button",onClick:s=>T.selectSampleMessage(e)},(0,a.v_)(e?.title),9,A)))),128))])]),(0,l.Lk)("div",E,[(0,l.Lk)("button",{class:"btn btn-primary",onClick:s[5]||(s[5]=(...e)=>T.sendSms&&T.sendSms(...e))},"ë©”ì‹œì§€ ë°œì†¡"),(0,l.Lk)("button",{class:"btn btn-secondary",onClick:s[6]||(s[6]=(...e)=>T.reset&&T.reset(...e))},"ì‘ì„± ì·¨ì†Œ")])])]),o.showModal?((0,l.uX)(),(0,l.CE)("div",F,[(0,l.Lk)("div",Q,[(0,l.Lk)("span",{class:"close",onClick:s[7]||(s[7]=(...e)=>T.closeModal&&T.closeModal(...e))},"Ã—"),S,j,(0,l.Lk)("div",$,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filterOptions,(e=>((0,l.uX)(),(0,l.CE)("label",{class:"checkbox-container",key:e.value},[(0,l.Lk)("input",{type:"checkbox",value:e.value,checked:o.selectedFilter===e.value,onChange:s=>T.handleFilterChange(e.value)},null,40,B),R,(0,l.Lk)("span",X,(0,a.v_)(e?.label),1)])))),128))]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>o.searchQuery=e),onInput:s[9]||(s[9]=(...e)=>T.searchEmployees&&T.searchEmployees(...e)),placeholder:"ì§ì› ì´ë¦„ ë˜ëŠ” ë²ˆí˜¸ë¥¼ ê²€ìƒ‰í•´ì£¼ì„¸ìš”."},null,544),[[i.Jo,o.searchQuery]]),(0,l.Lk)("div",U,[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.searchResults,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.user_no,onClick:s=>T.addReceiver(e),class:(0,a.C4)({selected:T.isSelected(e)})},[(0,l.eW)((0,a.v_)(e?.user_no)+" - "+(0,a.v_)(e?.user_name)+" ",1),T.isSelected(e)?((0,l.uX)(),(0,l.CE)("span",P,"âœ“")):(0,l.Q3)("",!0)],10,q)))),128))])]),(0,l.Lk)("button",{onClick:s[10]||(s[10]=(...e)=>T.closeModal&&T.closeModal(...e)),class:"btn btn-primary mt-3"},"ì™„ë£Œ")])])):(0,l.Q3)("",!0)])}t(4114);var D=t(7682),K=t(6278),J={name:"AdminPromotion",data(){return{message:"",receivers:[],showModal:!1,searchQuery:"",searchResults:[],selectedFilter:null,filterOptions:[{label:"ì „ì²´",value:"all"},{label:"ì˜ì—…ì ",value:"branch"},{label:"ë³¸ë¶€",value:"headquarters"}],employees:[],sampleMessages:[{title:"ë§ˆì™• ì—…ë°ì´íŠ¸ ì•ˆë‚´",content:"ì €ë²ˆ ë‹¬ ë§ˆì™• ê²°ê³¼ê°€ ë“œë””ì–´ ë‚˜ì™”ìŠµë‹ˆë‹¤! ë‚´ê°€ ë§ˆì™•ì´ ëì„ìˆ˜ë„..?ğŸ¤© ì„œë‘˜ëŸ¬ í™•ì¸í•´ë³´ì„¸ìš”!"},{title:"M-Tip Best ì•ˆë‚´",content:"M-Tip ê²Œì‹œíŒì—ì„œ ì´ë¤„ì§€ëŠ” ğŸ”¥ğŸ”¥ì¹˜ì—´í•œ Best ê²½ìŸ! ì´ë²ˆ ë‹¬ì˜ Best M-Tipì€ ë°”ë¡œ ë‹¹ì‹ ì˜ ê²ƒ! ì§€ê¸ˆ ë°”ë¡œ ì‘ì„±í•´ë³´ì„¸ìš”!"},{title:"AI ë¦¬í¬íŠ¸ ì•ˆë‚´",content:"ë§¤ì¼ í•˜ë£¨ í•œë²ˆ, AI ë¦¬í¬íŠ¸ë¡œ ë‚˜ì˜ ë§ˆì¼ë¦¬ì§€ë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”! MileEasyê°€ ë‹¹ì‹ ì˜ ê¸¸ì¡ì´ê°€ ë˜ì–´ì¤„ ê²ƒì…ë‹ˆë‹¤.ğŸ¤—"}]}},methods:{checkLoginInfo(){this.getLoginInfo&&!1!==this.getIsChecked&&!1!==this.getLoginInfo.user_is_admin||(window.location.href="/noAccess")},selectSampleMessage(e){this.message=e.content},async generateAIContent(){console.log("AI ë‚´ìš© ìƒì„±"),this.AIAlret();try{const e=await D.A.post("bot/sms",null,{params:{prompt:"ìš°ë¦¬ íšŒì‚¬ ì¸ì‚¬ê³ ê³¼ì™€ ì—°ê²°ë˜ëŠ” ë§ˆì¼ë¦¬ì§€ ê´€ë¦¬ ì‚¬ì´íŠ¸ì¸ MileEasyë¥¼ í™ë³´í•˜ê³  ë°©ë¬¸ì„ ë…ë ¤í•˜ë ¤ê³  í™ë³´ì„± ë¬¸ìë©”ì‹œì§€ë¥¼ ë³´ë‚´ë ¤ê³ í•´.ê·¸ í™ë³´í•˜ëŠ” ë¬¸ì ë©”ì‹œì§€ ë¬¸êµ¬ë¥¼ ë§Œë“¤ì–´ì£¼ë©´ ë˜ëŠ”ë°, ì´ ì‚¬ì´íŠ¸ëŠ” ì „ì§ì›ì˜ ë§ˆì¼ë¦¬ì§€ ì ìˆ˜ë¥¼ ë¶„ì„í•˜ì—¬ ì§ì›ë³„ ë§ì¶¤í˜• AI ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•´ì„œ ì•ìœ¼ë¡œ ì–´ë–¤ì‹ìœ¼ë¡œ ë§ˆì¼ë¦¬ì§€ë¥¼ í–¥ìƒí•˜ëŠ”ê²Œ ìœ ë¦¬í•˜ê³  ì ì ˆí•œì§€ ë°©í–¥ì„±ì„ ì œê³µí•´ì¤˜.ë§ˆì¼ë¦¬ì§€ê°€ ì „ì›”ì—ë¹„í•´ í¬ê²Œ ì¦ê°€í–ˆê±°ë‚˜, ë§ˆì¼ë¦¬ì§€ë¶€ë¬¸ì—ì„œ 1ë“±ì„í•˜ë©´ ë§ˆì™•(ë§ˆì¼ë¦¬ì§€ì™•)ì´ë¼ëŠ” ë°°ì§€ë¥¼ íšë“í•˜ì—¬ ë¿Œë“¯í•¨ì„ ëŠë‚„ìˆ˜ ìˆê¸°ë„í•´. ì´ ì‚¬ì´íŠ¸ì˜ ì¶œì„ì²´í¬ ë˜ëŠ” ì§ì›ë“¤ê³¼ ë§ˆì¼ë¦¬ì§€ ê¿€íŒì„ ê³µìœ í•˜ëŠ” M-Tipê²Œì‹œíŒì˜ ë² ìŠ¤íŠ¸ ê¸€ë¡œ ì„ ì •ë˜ë©´ ë§ˆì™• ì„ ì •ì— ê°€ì ì´ ìˆì–´. í•˜ì§€ë§Œ ê°€ì¥ ì¤‘ìš”í•œê²ƒì€ ì¸ì‚¬ê³ ê³¼ì— ë°˜ì˜ëœë‹¤ëŠ”ê±°ì•¼.  ë‚´ê°€ ì˜ˆì‹œë¡œ ì§ì ‘ ë§Œë“  ë¬¸ìë¬¸êµ¬ë¥¼ ëª‡ê°œ ì¤„ê²Œ! ì €ë²ˆ ë‹¬ ë§ˆì™• ê²°ê³¼ê°€ ë“œë””ì–´ ë‚˜ì™”ìŠµë‹ˆë‹¤! ë‚´ê°€ ë§ˆì™•ì´ ëì„ìˆ˜ë„..? ì„œë‘˜ëŸ¬ í™•ì¸í•´ë³´ì„¸ìš”!, M-Tip ê²Œì‹œíŒì—ì„œ ì´ë¤„ì§€ëŠ” ì¹˜ì—´í•œ Best ê²½ìŸ! ì´ë²ˆ ë‹¬ì˜ Best M-Tipì€ ë°”ë¡œ ë‹¹ì‹ ì˜ ê²ƒ! ì§€ê¸ˆ ë°”ë¡œ ì‘ì„±í•´ë³´ì„¸ìš”! ,  ë§¤ì¼ í•˜ë£¨ í•œë²ˆ, AI ë¦¬í¬íŠ¸ë¡œ ë‚˜ì˜ ë§ˆì¼ë¦¬ì§€ë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”! MileEasyê°€ ë‹¹ì‹ ì˜ ê¸¸ì¡ì´ê°€ ë˜ì–´ì¤„ ê²ƒì…ë‹ˆë‹¤.ğŸ¤—ê¼­ ì´ëŸ° ë©˜íŠ¸ê°€ ë“¤ì–´ê°€ì§€ì•Šì•„ë„ ë§ˆì¼ë¦¬ì§€ì— ê´€ì‹¬ì´ ë‹ê±°ë‚˜ ë…ë ¤í•˜ëŠ” ë¬¸ì¥ìœ¼ë¡œë„ ì¶©ë¶„í•´. 100ìì´ë‚´ë¡œ í•˜ë‚˜ì˜ ë©”ì‹œì§€ë§Œ ìƒì„± ë¶€íƒí• ê²Œ. ë°”ë¡œ ë¬¸ìë©”ì‹œì§€ë¥¼ ë°œì†¡í• ê±°ë‹ˆê¹Œ  í•˜ë‚˜ì˜ ë¬¸ìë©”ì‹œì§€ë‚´ìš© ê·¸ëŒ€ë¡œë¥¼ ì¤˜."}});console.log(e.data),this.message=e.data}catch(e){console.error("Error during API request:",e)}},reset(){this.message="",this.receivers=[]},openModal(){this.showModal=!0,this.searchResults=this.employees,this.selectedFilter=null,this.searchQuery=""},closeModal(){this.showModal=!1,this.searchQuery="",this.searchResults=[]},searchEmployees(){this.filterEmployees()},addReceiver(e){const s=this.receivers.findIndex((s=>s.user_no===e.user_no));-1===s?this.receivers.push(e):this.receivers.splice(s,1)},isSelected(e){return this.receivers.some((s=>s.user_no===e.user_no))},handleFilterChange(e){this.selectedFilter===e?(this.selectedFilter=null,this.receivers=[]):(this.selectedFilter=e,this.addEmployeesByFilter(e)),this.filterEmployees()},addEmployeesByFilter(e){"all"===e?this.receivers=[...this.employees]:"branch"===e?this.receivers=this.employees.filter((e=>1==e.job_no||2==e.job_no)):"headquarters"===e&&(this.receivers=this.employees.filter((e=>3==e.job_no)))},removeEmployeesByFilter(e){"all"===e?this.receivers=[]:"branch"===e?this.receivers=this.receivers.filter((e=>1!==e.job_no&&2!==e.job_no)):"headquarters"===e&&(this.receivers=this.receivers.filter((e=>3!==e.job_no)))},filterEmployees(){let e=this.employees;if("branch"===this.selectedFilter?e=e.filter((e=>1==e.job_no||2==e.job_no)):"headquarters"===this.selectedFilter&&(e=e.filter((e=>3==e.job_no))),this.searchQuery){const s=this.searchQuery.toLowerCase();e=e.filter((e=>e.user_name.toLowerCase().includes(s)||e.user_no.toString().includes(this.searchQuery)))}this.searchResults=e},applySearch(){if(this.searchQuery){const e=this.searchQuery.toLowerCase();this.searchResults=this.searchResults.filter((s=>s.user_name.toLowerCase().includes(e)||s.user_no.toString().includes(this.searchQuery)))}},async getAllUsers(){try{const e=await D.A.get("/user/getAllUsers");this.employees=e.data,console.log("ëª¨ë“ ì§ì›ì •ë³´ :",e.data)}catch(e){console.error("Error getAllUsers")}},succesAlert(){this.$swal({title:"ì„±ê³µ",text:"ë©”ì‹œì§€ ë°œì†¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.",icon:"success",scrollbarPadding:!1})},async sendSms(){try{let e=this.receivers.map((e=>e.user_tel));const s=await D.A.post("/user/sendSms",{to:e,text:this.message,mile:"site"});console.log(s),this.succesAlert(),this.reset()}catch(e){console.error("Error sending SMS:",e),this.errorAlert(e.message||"ë©”ì‹œì§€ ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},AIAlret(){let e,s=10;this.$swal({title:"AI ë¬¸êµ¬ ìƒì„±",html:"<b>${timeLeft}</b>ì´ˆ í›„ì— ì™„ë£Œë©ë‹ˆë‹¤....",timer:1e4,timerProgressBar:!0,scrollbarPadding:!1,didOpen:()=>{const t=this.$swal.getPopup();t.style.height="200px",this.$swal.showLoading();const l=this.$swal.getHtmlContainer().querySelector("b");l.textContent=`${s}`,e=setInterval((()=>{s-=1,l.textContent=`${s}`,0===s&&clearInterval(e)}),1e3)},willClose:()=>{clearInterval(e)}}).then((e=>{e.dismiss===this.$swal.DismissReason.timer&&console.log("I was closed by the timer")}))}},computed:{...(0,K.L8)("login",["getLoginInfo","getIsChecked"]),receiverDisplay(){const e=this.receivers.length;if(0===e)return"";if(e<=3)return this.receivers.map((e=>e.user_name)).join(", ");{const s=this.receivers.slice(0,3).map((e=>e.user_name)).join(", ");return`${s} ì™¸ ${e-3}ëª…`}}},mounted(){this.getAllUsers()},created(){this.checkLoginInfo()}},O=t(6262);const V=(0,O.A)(J,[["render",T],["__scopeId","data-v-cf0bde56"]]);var W=V},2499:function(e,s,t){e.exports=t.p+"img/iphone.d3ce902e.png"}}]);
//# sourceMappingURL=6689.57160cc4.js.map