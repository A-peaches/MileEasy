{"version":3,"file":"js/6795.71b1af33.js","mappings":"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","sources":["webpack://mile/./src/views/user/documents/DocumentsView.vue","webpack://mile/./src/views/user/documents/DocumentsView.vue?fbce"],"sourcesContent":["<template>\r\n  <div class=\"cards page-back mx-auto\" :style=\"{ height: computedHeight }\">\r\n    <h2 class=\"bold-x-lg mt-5 mb-4\" style=\"font-family: KB_C3\">\r\n      문서모아\r\n      <hr\r\n        style=\"width: 13%; border: 0; height: 2px; background: black\"\r\n        class=\"mx-auto\"\r\n      />\r\n    </h2>\r\n  \r\n    <!-- 카테고리 목록 -->\r\n    <div @click.stop=\"toggleCategory\" class=\"QnA\" ref=\"categoryButton\">\r\n      <div class=\"category-button list-wrapper\" style=\"width: 10vw\">\r\n        {{ selectedCategory ? selectedCategory : '카테고리' }}\r\n      </div>\r\n      <div class=\"dropdown-menu\" v-if=\"showCategory\" ref=\"dropdownMenu\">\r\n        <div class=\"menu-items\">\r\n          <a class=\"dropdown-item\" @click=\"filterByCategory(null)\">전체</a>\r\n          <a\r\n            class=\"dropdown-item\"\r\n            v-for=\"mileage in mileages\"\r\n            :key=\"mileage.mile_no\"\r\n            @click=\"filterByCategory(mileage.mile_name)\"\r\n          >\r\n            {{ mileage.mile_name }} 마일리지\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"d-flex justify-content-between align-items-center\">\r\n    <div class=\"lg2\" style=\"padding: 3em\">총 {{ countList }}건</div>\r\n    <div\r\n      class=\"input-search input-base\"\r\n      style=\"margin-right: 2em; width: 17vw; height: 6vh\"\r\n    >\r\n      <div\r\n        class=\"d-flex justify-content-between align-items-center\"\r\n        style=\"font-size: 14pt; height: 100%; margin-left: 1em\"\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"searchQuery\"\r\n          @input=\"onSearch\"\r\n          placeholder=\"검색어를 입력하세요\"\r\n          class=\"w-100 h-100 d-inline-block\"\r\n          style=\"text-align: left\"\r\n        />\r\n        <button>\r\n          <i\r\n            class=\"bi bi-search mr-2\"\r\n            style=\"font-size: 25px; color: #4b4a4a\"\r\n          ></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 문서 리스트 불러오기 -->\r\n    <div\r\n      v-if=\"filteredDocuments.length > 0\"\r\n      class=\"pr-5 pl-5 pb-5 pt-2\"\r\n      style=\"margin-top: 8vh\"\r\n    >\r\n      <div\r\n        v-for=\"document in paginatedDocuments\"\r\n        :key=\"document.documnet_mile_no\"\r\n        class=\"mx-auto mb-4 border-bottom p-4 input-base input-white list-wrapper\"\r\n        style=\"\r\n          width: 95%;\r\n          height: 5em;\r\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n          background-color: #fbfbfb;\r\n        \"\r\n      >\r\n        <div class=\"d-flex align-items-center justify-content-between\">\r\n          <button style=\"width: 90%; text-align: left\">\r\n            <div class=\"d-flex align-items-center justify-content-start\">\r\n              <div\r\n                v-if=\"isNew(document.document_date)\"\r\n                style=\"width: 5%; padding-left: 3%\"\r\n              >\r\n                <span class=\"md\" style=\"color: #edbb00; font-family: 'KB_C2'\"\r\n                  >NEW</span\r\n                >\r\n              </div>\r\n              <div\r\n                class=\"d-flex align-items-center justify-content-between\"\r\n                style=\"width: 100%\"\r\n              >\r\n                <span\r\n                  class=\"pl-4\"\r\n                  style=\"\r\n                    width: 20%;\r\n                    margin-left: 3%;\r\n                    text-align: left;\r\n                    font-family: 'KB_C2';\r\n                    font-size: 14pt;\r\n                    color: #9c8480;\r\n                  \"\r\n                  >{{ document.mile_name }}</span\r\n                >\r\n                <span\r\n                  class=\"lg2\"\r\n                  style=\"\r\n                    width: 65%;\r\n                    margin-left: 3%;\r\n                    text-align: center;\r\n                    font-family: 'KB_C2';\r\n                  \"\r\n                  >{{ document.document_file }}</span\r\n                >\r\n                <span\r\n                  class=\"md pl-3\"\r\n                  style=\"\r\n                    width: 15%;\r\n                    margin-right: 3%;\r\n                    text-align: right;\r\n                    font-family: 'KB_C3';\r\n                  \"\r\n                  >{{ formatDate(document.document_date) }}</span\r\n                >\r\n              </div>\r\n            </div>\r\n          </button>\r\n          <button @click.stop=\"downloadDocu(document.document_file)\">\r\n            <span class=\"md\" style=\"text-align: right\">파일 다운로드 〉</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else style=\"padding-top: 10vh\">\r\n      <p\r\n        class=\"lg2\"\r\n        style=\"text-align: center; color: #aeaeb2; font-family: KB_C2\"\r\n      >\r\n        검색 결과가 없습니다.\r\n      </p>\r\n    </div>\r\n\r\n    <!-- 페이지네이션 -->\r\n    <div class=\"pagination\">\r\n      <button @click=\"prevPage\" :disabled=\"currentPage === 1\">〈</button>\r\n      <button\r\n        v-for=\"page in totalPages\"\r\n        :key=\"page\"\r\n        @click=\"goToPage(page)\"\r\n        :class=\"{ active: currentPage === page }\"\r\n      >\r\n        {{ page }}\r\n      </button>\r\n      <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\">\r\n        〉\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\n// import axios from 'axios';\r\nimport api from '@/api/axios';\r\nimport moment from 'moment';\r\nexport default {\r\n  name: 'DocumentsView',\r\n  data() {\r\n    return {\r\n      mileages: [],\r\n      baseHeight: 90,\r\n      increment: 10,\r\n      buttonHeight: 10,\r\n      searchQuery: '', // 검색어 추가\r\n      currentPage: 1, // 현재 페이지\r\n      itemsPerPage: 7, // 한 페이지에 보여줄 항목 수\r\n      allDocuments: [], // 모든 문서 데이터\r\n      countList: 0,\r\n      lastInputTime: 0, // 마지막 입력 시간\r\n      selectedCategory: '', // 선택된 카테고리\r\n      showCategory: false, // 카테고리: 전체\r\n      totalPages: 0, // 총 페이지 수\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('login', ['getLoginInfo']),\r\n    ...mapGetters('mileExcel', ['getArrayMileDocument', 'getDocumentSum']),\r\n\r\n    computedHeight() {\r\n      let height =\r\n        this.baseHeight + this.paginatedDocuments.length * this.increment;\r\n      if (\r\n        this.paginatedDocuments.length % this.itemsPerPage === 0 &&\r\n        this.paginatedDocuments.length > 0\r\n      ) {\r\n        height += this.buttonHeight / 2;\r\n      } else {\r\n        height += this.buttonHeight / 2;\r\n      }\r\n      return `${height}vh`;\r\n    },\r\n    documentSum() {\r\n      return this.getDocumentSum;\r\n    },\r\n    filteredDocuments() {\r\n      // 검색어에 따라 문서 필터링\r\n      let documents = this.allDocuments;\r\n      if (this.selectedCategory && this.selectedCategory !== 'null') {\r\n        documents = documents.filter(\r\n          (document) => document.mile_name === this.selectedCategory\r\n        );\r\n      }\r\n      return documents.filter((document) =>\r\n        document.document_file.includes(this.searchQuery)\r\n      );\r\n    },\r\n    paginatedDocuments() {\r\n      return this.filteredDocuments.slice(\r\n        (this.currentPage - 1) * this.itemsPerPage,\r\n        this.currentPage * this.itemsPerPage\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions('mile', ['fetchMileInfo', 'getMileDetail']),\r\n    ...mapActions('mileExcel', ['downloadDocument']),\r\n    ...mapActions('mileDocument', ['fetchMileDocument']),\r\n\r\n    formatDate(dateString) {\r\n      return moment(dateString).format('YYYY-MM-DD');\r\n    },\r\n    isNew(dateString) {\r\n      const date = moment(dateString);\r\n      const today = moment();\r\n      const oneWeekAgo = moment().subtract(7, 'days');\r\n\r\n      return date.isBetween(oneWeekAgo, today, null, '[]');\r\n    },\r\n    showAlert(t, i, r) {\r\n      this.$swal({\r\n        title: t,\r\n        icon: i,\r\n        scrollbarPadding: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          if (r == '#') {\r\n            location.reload(); // 현재 페이지 새로고침\r\n          } else {\r\n            this.$router.push(r);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    downloadDocu(document_file) {\r\n      this.downloadDocument({ document_file });\r\n    },\r\n    async loadDocuments() {\r\n      // 문서 리스트 가져오기(페이지네이션 처리)\r\n\r\n      const response = await this.fetchMileDocument();\r\n      this.allDocuments = response.data;\r\n\r\n      const countList = await api.get(\r\n        `http://localhost:8090/myMile/countListDocuments`\r\n      );\r\n      this.countList = countList.data;\r\n\r\n      this.totalPages = Math.ceil(this.countList / this.itemsPerPage);\r\n    },\r\n    onSearch() {\r\n      // 검색\r\n      const currentTime = Date.now();\r\n      const timeSinceLastInput = currentTime - this.lastInputTime;\r\n\r\n      if (timeSinceLastInput > 500) {\r\n        this.lastInputTime = currentTime;\r\n        this.loadDocuments();\r\n      }\r\n    },\r\n    async fetchMileages() {\r\n      // 마일리지 카테고리 가져오기\r\n      try {\r\n        const response = await api.get(\r\n          'http://localhost:8090/notice/mileage'\r\n        );\r\n        console.log('Fetched mileages:', response.data);\r\n        this.mileages = response.data;\r\n      } catch (error) {\r\n        console.error(\r\n          'Error fetching mileages:',\r\n          error.response ? error.response.data : error.message\r\n        );\r\n      }\r\n    },\r\n    toggleCategory() {\r\n      this.showCategory = !this.showCategory;\r\n    },\r\n    closeDropdown() {\r\n      this.showCategory = false;\r\n    },\r\n    handleClickOutside(event) {\r\n      if (\r\n        this.$refs.dropdownMenu &&\r\n        !this.$refs.dropdownMenu.contains(event.target) &&\r\n        this.$refs.categoryButton &&\r\n        !this.$refs.categoryButton.contains(event.target)\r\n      ) {\r\n        this.closeDropdown();\r\n      }\r\n    },\r\n    filterByCategory(category) {\r\n      this.selectedCategory = category !== null ? category : '';\r\n      this.currentPage = 1;\r\n      this.loadDocuments();\r\n    },\r\n    prevPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--;\r\n        this.loadDocuments();\r\n      }\r\n    },\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) {\r\n        this.currentPage++;\r\n        this.loadDocuments();\r\n      }\r\n    },\r\n    goToPage(page) {\r\n      this.currentPage = page;\r\n      this.loadDocuments();\r\n    },\r\n  },\r\n  created() {\r\n    const user_no = this.getLoginInfo ? this.getLoginInfo.user_no : null;\r\n    if (user_no) {\r\n      this.fetchMileInfo(user_no);\r\n    } else {\r\n      console.error('user_no이 유효하지 않습니다.');\r\n    }\r\n    this.loadDocuments(); // 첫 페이지 로드\r\n    this.fetchMileages();\r\n  },\r\n  watch: {\r\n    searchQuery() {\r\n      this.lastInputTime = Date.now();\r\n      this.onSearch();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/* 드롭다운 메뉴 스타일 */\r\n.QnA {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n.category-button {\r\n  background-color: #f9f9f9;\r\n  border-radius: 25px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  display: inline-block;\r\n  font-size: 17pt;\r\n  font-family: 'KB_S5', sans-serif;\r\n  opacity: 0.8; /* 투명도 설정, 1은 불투명, 0은 완전 투명 */\r\n}\r\n.category-button:hover {\r\n  cursor: pointer;\r\n  /* background-color: #E1E3E4 !important; */\r\n  transition: background-color 0.3s ease;\r\n}\r\n.menu-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.list-wrapper {\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n.list-wrapper:hover {\r\n  cursor: pointer;\r\n  background-color: #e1e3e4 !important;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.dropdown-menu {\r\n  display: none;\r\n  position: absolute;\r\n  top: 240%;\r\n  left: 50%;\r\n  z-index: 1;\r\n  border-color: #eeeeee;\r\n  background-color: rgba(255, 255, 255, 0.69);\r\n  border-radius: 15px;\r\n  cursor: pointer;\r\n  width: 230px; /* 드롭다운 메뉴의 너비를 픽셀 단위로 고정 */\r\n  transform: translate(\r\n    -50%,\r\n    -17%\r\n  ); /* 수평 위치 중앙 정렬, 수직 위치 위로 이동 */\r\n}\r\n\r\n.QnA:hover .dropdown-menu,\r\n.QnA .dropdown-menu {\r\n  display: block;\r\n}\r\n\r\n.menu-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.menu-items a {\r\n  display: block;\r\n  padding: 10px 20px; /* 상하 패딩과 좌우 패딩을 픽셀 단위로 설정 */\r\n  text-decoration: none;\r\n  color: #4b4a4a;\r\n  font-family: 'KB_S5', sans-serif;\r\n  font-size: 13pt; /* 텍스트 크기를 픽셀 단위로 설정 */\r\n}\r\n\r\n.menu-items a:hover {\r\n  background-color: #f5f5f5;\r\n  border: none; /* 테두리 제거 */\r\n  border-radius: 25px;\r\n  width: auto; /* 너비를 자동으로 설정 */\r\n}\r\n/* 페이지 네이션 및 글쓰기 버튼 스타일 */\r\n.pagination-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 10px;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 100px;\r\n  gap: 5px;\r\n}\r\n\r\n.pagination button {\r\n  background-color: #ffffff;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  margin: 0 5px;\r\n  border-radius: 5px;\r\n  font-size: 18px; /* 숫자의 폰트 크기 */\r\n  font-family: 'KB_s4', sans-serif; /* 숫자의 폰트 */\r\n}\r\n\r\n.pagination button:disabled {\r\n  background-color: #d5e9e3;\r\n  cursor: not-allowed;\r\n  color: white;\r\n}\r\n\r\n.pagination button.active {\r\n  background-color: #43c2a0;\r\n  color: white;\r\n}\r\n\r\n.pagination button.arrow-button {\r\n  font-size: 18px; /* 화살표의 폰트 크기 */\r\n}\r\n</style>\r\n","import { render } from \"./DocumentsView.vue?vue&type=template&id=0d7f8683&scoped=true\"\nimport script from \"./DocumentsView.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentsView.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentsView.vue?vue&type=style&index=0&id=0d7f8683&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0d7f8683\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","_createTextVNode","key","ref","_hoisted_16","_hoisted_23","_hoisted_26","_createElementBlock","_Fragment","_normalizeStyle","height","$options","computedHeight","_hoisted_1","onClick","_cache","_withModifiers","args","toggleCategory","_hoisted_2","_toDisplayString","$data","selectedCategory","showCategory","_hoisted_3","_hoisted_4","$event","filterByCategory","_renderList","mileages","mileage","mile_no","mile_name","_hoisted_5","_createCommentVNode","_hoisted_6","_hoisted_7","countList","_hoisted_8","_hoisted_9","type","searchQuery","onInput","onSearch","placeholder","_hoisted_10","filteredDocuments","length","_hoisted_11","paginatedDocuments","document","documnet_mile_no","_hoisted_12","_hoisted_13","_hoisted_14","isNew","document_date","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","document_file","_hoisted_21","formatDate","downloadDocu","_hoisted_24","_hoisted_22","_hoisted_25","_hoisted_27","_hoisted_28","prevPage","disabled","currentPage","_hoisted_29","totalPages","page","goToPage","_normalizeClass","active","_hoisted_30","nextPage","_hoisted_31","name","data","baseHeight","increment","buttonHeight","itemsPerPage","allDocuments","lastInputTime","computed","mapGetters","this","documentSum","getDocumentSum","documents","filter","includes","slice","methods","mapActions","dateString","moment","format","date","today","oneWeekAgo","subtract","isBetween","showAlert","t","i","r","$swal","title","icon","scrollbarPadding","then","result","isConfirmed","location","reload","$router","push","downloadDocument","loadDocuments","response","fetchMileDocument","api","get","Math","ceil","currentTime","Date","now","timeSinceLastInput","fetchMileages","console","log","error","message","closeDropdown","handleClickOutside","event","$refs","dropdownMenu","contains","target","categoryButton","category","created","user_no","getLoginInfo","fetchMileInfo","watch","__exports__","render"],"sourceRoot":""}