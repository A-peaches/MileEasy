{"version":3,"file":"js/4165.b864f96f.js","mappings":"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","sources":["webpack://mile/./src/views/user/documents/DocumentsView.vue","webpack://mile/./src/views/user/documents/DocumentsView.vue?fbce"],"sourcesContent":["<template>\r\n  <div class=\"cards page-back mx-auto\" :style=\"{ height: computedHeight }\">\r\n    <h2 class=\"bold-x-lg mt-5 mb-4\" style=\"font-family: KB_C3\">\r\n      문서모아\r\n      <hr\r\n        \r\n        class=\"mx-auto title-line\"\r\n      />\r\n    </h2>\r\n  \r\n    <!-- 카테고리 목록 -->\r\n    <div @click.stop=\"toggleCategory\" class=\"QnA\" ref=\"categoryButton\">\r\n      <div class=\"category-button list-wrapper-category\" >\r\n        {{ selectedCategory ? selectedCategory : '카테고리' }}\r\n      </div>\r\n      <div class=\"dropdown-menu\" v-if=\"showCategory\" ref=\"dropdownMenu\">\r\n        <div class=\"menu-items\">\r\n          <a class=\"dropdown-item\" @click=\"filterByCategory(null)\">전체</a>\r\n          <a\r\n            class=\"dropdown-item\"\r\n            v-for=\"mileage in mileages\"\r\n            :key=\"mileage.mile_no\"\r\n            @click=\"filterByCategory(mileage.mile_name)\"\r\n          >\r\n            {{ mileage.mile_name }} 마일리지\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n  <div class=\"d-flex justify-content-between align-items-center document-menu\">\r\n    <div class=\"lg2 document-count\" >총 {{ countList }}건</div>\r\n    <div\r\n      class=\"input-search input-base search-mobile\"\r\n    >\r\n      <div\r\n        class=\"d-flex justify-content-between align-items-center search-wrapper\"\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"searchQuery\"\r\n          @input=\"onSearch\"\r\n          placeholder=\"검색어를 입력하세요\"\r\n          class=\"w-100 h-100 d-inline-block\"\r\n          style=\"text-align: left\"\r\n        />\r\n        <button>\r\n          <i\r\n            class=\"bi bi-search mr-2\"\r\n          ></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    </div>\r\n\r\n    <!-- 문서 리스트 불러오기 -->\r\n    <div\r\n      v-if=\"filteredDocuments.length > 0\"\r\n      class=\"pr-5 pl-5 pb-5 pt-2 document-container\"\r\n    >\r\n      <div\r\n        v-for=\"document in paginatedDocuments\"\r\n        :key=\"document.documnet_mile_no\"\r\n        class=\"mx-auto mb-4 border-bottom p-4 input-base input-white list-wrapper\"\r\n      >\r\n        <div class=\"d-flex align-items-center justify-content-between list-container\">\r\n          <button style=\"width: 90%; text-align: left\">\r\n            <div class=\"d-flex align-items-center justify-content-start\">\r\n              <div\r\n                v-if=\"isNew(document.document_date) && !isMobile\"\r\n                style=\"width: 5%; padding-left: 3%\"\r\n              >\r\n                <span class=\"\" style=\"color: #edbb00; font-family: 'KB_C2'; font-size: 11pt;\"\r\n                  >NEW</span\r\n                >\r\n              </div>\r\n              <div\r\n                class=\"d-flex align-items-center justify-content-between\"\r\n                style=\"width: 100%\"\r\n              >\r\n                <span\r\n                  class=\"pl-1 document-category\"\r\n                  >{{ document.mile_name }}</span\r\n                >\r\n                <span\r\n                  class=\"lg2 document-title\"\r\n                  >{{ document.document_file }}</span\r\n                >\r\n                <div v-if=\"!isMobile\">\r\n                  <span\r\n                    class=\"md mr-5 document-date\"\r\n                    >{{ formatDate(document.document_date) }}</span\r\n                  >\r\n                </div>\r\n                \r\n              </div>\r\n            </div>\r\n          </button>\r\n          <button @click.stop=\"downloadDocu(document.document_file)\">\r\n            <div v-if=\"!isMobile\">\r\n              <span class=\"md download-font\" style=\"text-align: right\">파일 다운로드 〉</span>\r\n            </div>\r\n            <div v-else>\r\n              <span class=\"md download-font\" style=\"text-align: right\">\r\n                <i class=\"bi bi-download\"></i>\r\n              </span>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else style=\"padding-top: 10vh\">\r\n      <p\r\n        class=\"lg2\"\r\n        style=\"text-align: center; color: #aeaeb2; font-family: KB_C2\"\r\n      >\r\n        검색 결과가 없습니다.\r\n      </p>\r\n    </div>\r\n\r\n    <!-- 페이지네이션 -->\r\n    <div class=\"pagination\">\r\n      <button @click=\"prevPage\" :disabled=\"currentPage === 1\">〈</button>\r\n      <button\r\n        v-for=\"page in searchPages\"\r\n        :key=\"page\"\r\n        @click=\"goToPage(page)\"\r\n        :class=\"{ active: currentPage === page }\"\r\n      >\r\n        {{ page }}\r\n      </button>\r\n      <button @click=\"nextPage\" :disabled=\"currentPage === searchPages\">\r\n        〉\r\n      </button>\r\n    </div>\r\n  \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\nimport api from '@/api/axios';\r\nimport moment from 'moment';\r\nimport MobileDetect from \"mobile-detect\";\r\n\r\nexport default {\r\n  name: 'DocumentsView',\r\n  data() {\r\n    return {\r\n      mileages: [],\r\n      baseHeight: 90,\r\n      increment: 10,\r\n      buttonHeight: 10,\r\n      searchQuery: '', // 검색어 추가\r\n      currentPage: 1, // 현재 페이지\r\n      itemsPerPage: 7, // 한 페이지에 보여줄 항목 수\r\n      allDocuments: [], // 모든 문서 데이터\r\n      countList: 0,\r\n      lastInputTime: 0, // 마지막 입력 시간\r\n      selectedCategory: '', // 선택된 카테고리\r\n      showCategory: false, // 카테고리: 전체\r\n      totalPages: 0, // 총 페이지 수\r\n      isMobile: false,\r\n      searchPages: 0,\r\n      lastSearchQuery: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('login', ['getLoginInfo']),\r\n    ...mapGetters('mileExcel', ['getArrayMileDocument', 'getDocumentSum']),\r\n\r\n    computedHeight() {\r\n      if(this.isMobile){\r\n        return \"110vh\";\r\n      }else{\r\n        let height =\r\n          this.baseHeight + this.paginatedDocuments.length * this.increment;\r\n        if (\r\n          this.paginatedDocuments.length % this.itemsPerPage === 0 &&\r\n          this.paginatedDocuments.length > 0\r\n        ) {\r\n          height += this.buttonHeight / 2;\r\n        } else {\r\n          height += this.buttonHeight / 2;\r\n        }\r\n        return `${height}vh`;\r\n      }\r\n    },\r\n    documentSum() {\r\n      return this.getDocumentSum;\r\n    },\r\n    filteredDocuments() {\r\n      // 검색어에 따라 문서 필터링\r\n      let documents = this.allDocuments;\r\n      if (this.selectedCategory && this.selectedCategory !== 'null') {\r\n        documents = documents.filter(\r\n          (document) => document.mile_name === this.selectedCategory\r\n        );\r\n      }\r\n\r\n      // 검색어와 문서 파일명을 소문자로 변환하여 비교\r\n      const searchQueryLower = this.searchQuery.toLowerCase();\r\n      return documents.filter((document) =>\r\n        document.document_file.toLowerCase().includes(searchQueryLower)\r\n      );\r\n    },\r\n    paginatedDocuments() {\r\n      return this.filteredDocuments.slice(\r\n        (this.currentPage - 1) * this.itemsPerPage,\r\n        this.currentPage * this.itemsPerPage\r\n      );\r\n    },\r\n    totalFilteredPages() {\r\n      return Math.ceil(this.filteredDocuments.length/this.itemsPerPage);\r\n    }\r\n  },\r\n  watch: {\r\n    searchQuery() {\r\n      this.lastInputTime = Date.now();\r\n      this.onSearch();\r\n    },\r\n    filteredDocuments() {\r\n      this.updateSearchPages();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('mile', ['fetchMileInfo', 'getMileDetail']),\r\n    ...mapActions('mileExcel', ['downloadDocument']),\r\n    ...mapActions('mileDocument', ['fetchMileDocument']),\r\n\r\n    formatDate(dateString) {\r\n      return moment(dateString).format('YYYY-MM-DD');\r\n    },\r\n    isNew(dateString) {\r\n      const date = moment(dateString);\r\n      const today = moment();\r\n      const oneWeekAgo = moment().subtract(7, 'days');\r\n\r\n      return date.isBetween(oneWeekAgo, today, null, '[]');\r\n    },\r\n    showAlert(t, i, r) {\r\n      this.$swal({\r\n        title: t,\r\n        icon: i,\r\n        scrollbarPadding: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          if (r == '#') {\r\n            location.reload(); // 현재 페이지 새로고침\r\n          } else {\r\n            this.$router.push(r);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    downloadDocu(document_file) {\r\n      this.downloadDocument({ document_file });\r\n    },\r\n    async loadDocuments() {\r\n      // 문서 리스트 가져오기(페이지네이션 처리)\r\n\r\n      const response = await this.fetchMileDocument();\r\n      this.allDocuments = response.data;\r\n\r\n      const countList = await api.get(\r\n        `/myMile/countListDocuments`\r\n      );\r\n      this.countList = countList.data;\r\n\r\n      this.totalPages = Math.ceil(this.countList / this.itemsPerPage);\r\n      this.updateSearchPages();\r\n    },\r\n    updateSearchPages() {\r\n      this.searchPages = Math.ceil(this.filteredDocuments.length / this.itemsPerPage);\r\n    },\r\n    onSearch() {\r\n      // 검색\r\n      const currentTime = Date.now();\r\n      const timeSinceLastInput = currentTime - this.lastInputTime;\r\n\r\n      if (timeSinceLastInput > 500) {\r\n        this.lastInputTime = currentTime;\r\n        if(this.searchQuery !== this.lastSearchQuery){\r\n          this.currentPage = 1; //검색어가 변경되었을 때만 첫 페이지로 이동\r\n          this.lastSearchQuery = this.searchQuery;\r\n        }\r\n        this.updateSearchPages();\r\n      }\r\n    },\r\n    async fetchMileages() {\r\n      // 마일리지 카테고리 가져오기\r\n      try {\r\n        const response = await api.get(\r\n          '/notice/mileage'\r\n        );\r\n        console.log('Fetched mileages:', response.data);\r\n        this.mileages = response.data;\r\n      } catch (error) {\r\n        console.error(\r\n          'Error fetching mileages:',\r\n          error.response ? error.response.data : error.message\r\n        );\r\n      }\r\n    },\r\n    toggleCategory() {\r\n      this.showCategory = !this.showCategory;\r\n    },\r\n    closeDropdown() {\r\n      this.showCategory = false;\r\n    },\r\n    handleClickOutside(event) {\r\n      if (\r\n        this.$refs.dropdownMenu &&\r\n        !this.$refs.dropdownMenu.contains(event.target) &&\r\n        this.$refs.categoryButton &&\r\n        !this.$refs.categoryButton.contains(event.target)\r\n      ) {\r\n        this.closeDropdown();\r\n      }\r\n    },\r\n    filterByCategory(category) {\r\n      this.selectedCategory = category !== null ? category : '';\r\n      this.currentPage = 1;\r\n      this.loadDocuments();\r\n    },\r\n    prevPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--;\r\n        this.loadDocuments();\r\n      }\r\n    },\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) {\r\n        this.currentPage++;\r\n        this.loadDocuments();\r\n      }\r\n    },\r\n    goToPage(page) {\r\n      this.currentPage = page;\r\n      this.loadDocuments();\r\n    },\r\n  },\r\n  created() {\r\n    const user_no = this.getLoginInfo ? this.getLoginInfo.user_no : null;\r\n    if (user_no) {\r\n      this.fetchMileInfo(user_no);\r\n    } else {\r\n      console.error('user_no이 유효하지 않습니다.');\r\n    }\r\n    this.loadDocuments(); // 첫 페이지 로드\r\n    this.fetchMileages();\r\n  },\r\n  mounted() {\r\n    // 모바일 기기 판단 여부 \r\n    const md = new MobileDetect(window.navigator.userAgent);\r\n    this.isMobile = md.mobile() !== null;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@media (max-width: 768px) {\r\n  .page-back{\r\n    height: 120vh !important;\r\n  }\r\n  .title-line {\r\n    width: 30% !important;\r\n  }\r\n  .category-button {\r\n    width: 25vw !important;\r\n    font-size: 12pt !important;\r\n  }\r\n  .category-button:hover {\r\n    transition: background-color 0s ease !important;\r\n  }\r\n  .list-wrapper:hover {\r\n    background-color: #e1e3e4 !important;\r\n    transition: background-color 0s ease !important;\r\n  }\r\n  .document-count {\r\n    padding: 30px !important;\r\n    font-size: 11pt !important;\r\n  }\r\n  .dropdown-menu {\r\n    top: 260% !important;\r\n    background-color: rgba(255, 255, 255, 0.96) !important;\r\n  }\r\n  .document-menu {\r\n    margin-top: 30px !important;\r\n  }\r\n  .document-container {\r\n    margin-top: 4vh !important;\r\n    padding: 0 !important;\r\n  }\r\n  .list-wrapper {\r\n    width: 100% !important;\r\n    height: 3em !important;\r\n    padding: 3% !important;\r\n  }\r\n  .document-category {\r\n    margin-left: 0 !important;\r\n    font-size: 8pt !important;\r\n    width: 20% !important;\r\n    padding-left: 0 !important;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .document-title {\r\n    font-size: 11pt !important;\r\n    width: 80% !important;\r\n  }\r\n  .document-date {\r\n    font-size: 9pt !important;\r\n    padding: 0 !important;\r\n  }\r\n  .download-font {\r\n    font-size: 13pt !important;\r\n  }\r\n  .list-container {\r\n    padding: 0 !important;\r\n  }\r\n}\r\n\r\n.document-date {\r\n  width: 20%;\r\n  margin-right: 3%;\r\n  text-align: left;\r\n  font-family: 'KB_C3';\r\n}\r\n\r\n.document-title {\r\n  width: 65%;\r\n  text-align: center;\r\n  font-family: 'KB_C2';\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.document-category {\r\n  width: 15%;\r\n  margin-left: 3%;\r\n  text-align: left;\r\n  font-family: 'KB_C2';\r\n  font-size: 14pt;\r\n  color: #9c8480;\r\n}\r\n\r\n.document-container {\r\n  margin-top: 8vh;\r\n}\r\n\r\n.document-count {\r\n  padding: 3em;\r\n}\r\n\r\n.title-line {\r\n  width: 13%; \r\n  border: 0; \r\n  height: 2px; \r\n  background: black;\r\n}\r\n\r\n/* 드롭다운 메뉴 스타일 */\r\n.QnA {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.category-button {\r\n  background-color: #f9f9f9;\r\n  border-radius: 25px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  display: inline-block;\r\n  font-size: 17pt;\r\n  font-family: 'KB_S5', sans-serif;\r\n  opacity: 0.8; /* 투명도 설정, 1은 불투명, 0은 완전 투명 */\r\n  width: 10vw;\r\n}\r\n\r\n.category-button:hover {\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.menu-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.list-wrapper {\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  width: 95%;\r\n  height: 5em;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  background-color: #fbfbfb;\r\n}\r\n\r\n.list-wrapper:hover {\r\n  cursor: pointer;\r\n  background-color: #e1e3e4 !important;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.list-wrapper-category {\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n.list-wrapper-category:hover {\r\n  cursor: pointer;\r\n  background-color: #e1e3e4 !important;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.dropdown-menu {\r\n  display: none;\r\n  position: absolute;\r\n  top: 240%;\r\n  left: 50%;\r\n  z-index: 1;\r\n  border-color: #eeeeee;\r\n  background-color: rgba(255, 255, 255, 0.96) !important;\r\n  border-radius: 15px;\r\n  cursor: pointer;\r\n  width: 230px; /* 드롭다운 메뉴의 너비를 픽셀 단위로 고정 */\r\n  transform: translate(\r\n    -50%,\r\n    -17%\r\n  ); /* 수평 위치 중앙 정렬, 수직 위치 위로 이동 */\r\n}\r\n\r\n.QnA:hover .dropdown-menu,\r\n.QnA .dropdown-menu {\r\n  display: block;\r\n}\r\n\r\n.menu-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.menu-items a {\r\n  display: block;\r\n  padding: 10px 20px; /* 상하 패딩과 좌우 패딩을 픽셀 단위로 설정 */\r\n  text-decoration: none;\r\n  color: #4b4a4a;\r\n  font-family: 'KB_S5', sans-serif;\r\n  font-size: 13pt; /* 텍스트 크기를 픽셀 단위로 설정 */\r\n}\r\n\r\n.menu-items a:hover {\r\n  background-color: #f5f5f5;\r\n  border: none; /* 테두리 제거 */\r\n  border-radius: 25px;\r\n  width: auto; /* 너비를 자동으로 설정 */\r\n}\r\n/* 페이지 네이션 및 글쓰기 버튼 스타일 */\r\n.pagination-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 10px;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 100px;\r\n  gap: 5px;\r\n  object-fit:contain;\r\n}\r\n\r\n.pagination button {\r\n  background-color: #ffffff;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  margin: 0 5px;\r\n  border-radius: 5px;\r\n  font-size: 18px; /* 숫자의 폰트 크기 */\r\n  font-family: 'KB_s4', sans-serif; /* 숫자의 폰트 */\r\n}\r\n\r\n.pagination button:disabled {\r\n  background-color: #d5e9e3;\r\n  cursor: not-allowed;\r\n  color: white;\r\n}\r\n\r\n.pagination button.active {\r\n  background-color: #43c2a0;\r\n  color: white;\r\n}\r\n\r\n.pagination button.arrow-button {\r\n  font-size: 18px; /* 화살표의 폰트 크기 */\r\n}\r\n</style>\r\n","import { render } from \"./DocumentsView.vue?vue&type=template&id=a38cb73c&scoped=true\"\nimport script from \"./DocumentsView.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentsView.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentsView.vue?vue&type=style&index=0&id=a38cb73c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a38cb73c\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","_createTextVNode","key","ref","_hoisted_16","_hoisted_25","_hoisted_28","_hoisted_31","_createElementBlock","_normalizeStyle","height","$options","computedHeight","_hoisted_1","onClick","_cache","_withModifiers","args","toggleCategory","_hoisted_2","_toDisplayString","$data","selectedCategory","showCategory","_hoisted_3","_hoisted_4","$event","filterByCategory","_Fragment","_renderList","mileages","mileage","mile_no","mile_name","_hoisted_5","_createCommentVNode","_hoisted_6","_hoisted_7","countList","_hoisted_8","_hoisted_9","type","searchQuery","onInput","onSearch","placeholder","_hoisted_10","filteredDocuments","length","_hoisted_11","paginatedDocuments","document","documnet_mile_no","_hoisted_12","_hoisted_13","_hoisted_14","isNew","document_date","isMobile","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","document_file","_hoisted_21","_hoisted_22","formatDate","downloadDocu","_hoisted_27","_hoisted_29","_hoisted_24","_hoisted_26","_hoisted_23","_hoisted_30","_hoisted_32","_hoisted_33","prevPage","disabled","currentPage","_hoisted_34","searchPages","page","goToPage","_normalizeClass","active","_hoisted_35","nextPage","_hoisted_36","name","data","baseHeight","increment","buttonHeight","itemsPerPage","allDocuments","lastInputTime","totalPages","lastSearchQuery","computed","mapGetters","this","documentSum","getDocumentSum","documents","filter","searchQueryLower","toLowerCase","includes","slice","totalFilteredPages","Math","ceil","watch","Date","now","updateSearchPages","methods","mapActions","dateString","moment","format","date","today","oneWeekAgo","subtract","isBetween","showAlert","t","i","r","$swal","title","icon","scrollbarPadding","then","result","isConfirmed","location","reload","$router","push","downloadDocument","loadDocuments","response","fetchMileDocument","api","get","currentTime","timeSinceLastInput","fetchMileages","console","log","error","message","closeDropdown","handleClickOutside","event","$refs","dropdownMenu","contains","target","categoryButton","category","created","user_no","getLoginInfo","fetchMileInfo","mounted","md","MobileDetect","window","navigator","userAgent","mobile","__exports__","render"],"sourceRoot":""}