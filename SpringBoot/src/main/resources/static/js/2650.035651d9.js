"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[2650],{2650:function(e,t,o){o.r(t),o.d(t,{default:function(){return Q}});var i=o(641),n=o(33),c=o(3751);const a=e=>((0,i.Qi)("data-v-6839ba38"),e=e(),(0,i.jt)(),e),s={class:"app-container"},l={key:0,class:"content cards"},d={class:"header"},r={class:"button-container"},u=a((()=>(0,i.Lk)("span",{class:"arrow"},"❮",-1))),h={key:0},k={class:"actions"},b={class:"content"},f={key:0,class:"new-label"},m={class:"title"},w={class:"meta"},_={class:"author"},L={class:"date"},v={class:"main-content"},g={class:"body"},p={class:"file cards"},y=a((()=>(0,i.Lk)("h2",null,"첨부파일",-1))),C={key:0},E={key:1},N=a((()=>(0,i.Lk)("p",{style:{color:"#4b4a4a"}},"첨부된 파일이 없습니다. 필요시 관리자에게 문의하세요.",-1))),B=[N],D={class:"icon-container"},I=a((()=>(0,i.Lk)("div",{class:"views-icon"},[(0,i.Lk)("i",{class:"bi bi-eye"})],-1))),T={class:"views-text"},X={key:1},$=a((()=>(0,i.Lk)("p",null,"Loading...",-1))),A=[$];function M(e,t,o,a,N,$){return(0,i.uX)(),(0,i.CE)("div",s,[$.notice?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",d,[(0,i.Lk)("div",r,[(0,i.Lk)("button",{class:"back-button",onClick:t[0]||(t[0]=(...e)=>$.goBack&&$.goBack(...e))},[u,(0,i.eW)(" 이전 ")])]),$.isLoggedIn&&$.loginInfo.user_is_admin&&!$.loginInfo.user_is_manager&&$.isChecked?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("div",k,[(0,i.Lk)("button",{class:"edit-button",onClick:t[1]||(t[1]=(...e)=>$.goToModifyView&&$.goToModifyView(...e))},"수정"),(0,i.Lk)("button",{class:"delete-button",onClick:t[2]||(t[2]=(...e)=>$.deleteNotice&&$.deleteNotice(...e))},"삭제")])])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",b,[$.isNew($.notice.notice_board_date)?((0,i.uX)(),(0,i.CE)("span",f,"NEW")):(0,i.Q3)("",!0),(0,i.Lk)("h1",m,(0,n.v_)($.notice.notice_board_title),1),(0,i.Lk)("div",w,[(0,i.Lk)("span",_,(0,n.v_)($.notice.user_name),1),(0,i.Lk)("span",L,(0,n.v_)($.formatDate($.notice.notice_board_date)),1)]),(0,i.Lk)("div",v,[(0,i.Lk)("div",g,[(0,i.Lk)("p",null,(0,n.v_)($.notice.notice_board_content),1)]),(0,i.Lk)("div",p,[y,$.notice.notice_board_file?((0,i.uX)(),(0,i.CE)("div",C,[(0,i.Lk)("a",{onClick:t[3]||(t[3]=(0,c.D$)(((...e)=>$.downloadFile&&$.downloadFile(...e)),["prevent"])),href:"#",class:"file-download-link"},(0,n.v_)($.getDisplayFileName($.notice.notice_board_file))+" 다운로드 ",1)])):((0,i.uX)(),(0,i.CE)("div",E,B))])]),(0,i.Lk)("div",D,[I,(0,i.Lk)("div",T,(0,n.v_)($.notice.notice_board_hit),1)])])])):((0,i.uX)(),(0,i.CE)("div",X,A))])}o(4114),o(4603),o(7566),o(8721);var V=o(7682),x=o(6278),F=o(8465),K=o.n(F),R={props:["id"],methods:{...(0,x.i0)("notice",["fetchNoticeDetail","incrementViews"]),async deleteNotice(){K().fire({title:"정말로 삭제하시겠습니까?",text:"다시 되돌릴 수 없습니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#4b4a4a",cancelButtonColor:"#bd2c3a",confirmButtonText:"확인",cancelButtonText:"취소",reverseButtons:!1}).then((async e=>{if(e.isConfirmed)try{await V.A.delete(`/notice/delete/${this.notice.notice_board_no}`),K().fire("게시글이 성공적으로 삭제되었습니다.","좋은 하루 보내세요","success").then((()=>{this.$router.push("/noticeListView")}))}catch(t){console.error("게시글 삭제 중 오류가 발생했습니다.",t),K().fire("게시글 삭제 중 오류가 발생했습니다.","","error")}}))},showAlert(e,t){this.$swal({title:e,icon:t,confirmButtonText:"확인",confirmButtonColor:"#4b4a4a",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,stopKeydownPropagation:!1,scrollbarPadding:!1,backdrop:!0,didOpen:()=>{document.body.classList.add("no-scroll"),document.documentElement.style.overflow="hidden"},willClose:()=>{document.body.classList.remove("no-scroll"),document.documentElement.style.overflow=""}})},getDisplayFileName(e){if(e){const t=e.split("_");return t.length>1?t.slice(1).join("_"):e}return""},goBack(){this.$router.go(-1)},goToModifyView(){this.$router.push({name:"noticeModifyAdminView",params:{id:this.notice.notice_board_no}})},isNew(e){const t=new Date,o=new Date(e),i=Math.abs(t-o),n=Math.ceil(i/864e5);return n<=7},formatDate(e){const t={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(e).toLocaleDateString("ko-KR",t)},async downloadFile(){if(this.notice.notice_board_file)try{const e=encodeURIComponent(this.notice.notice_board_file),t=await(0,V.A)({url:`/notice/download/${e}`,method:"GET",responseType:"blob"}),o=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=o,i.setAttribute("download",this.notice.notice_board_file),document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(e){console.error("파일 다운로드 중 오류 발생:",e)}}},computed:{...(0,x.L8)("login",["getLoginInfo","getIsChecked"]),...(0,x.L8)("notice",["getNotice"]),notice(){return this.getNotice},loginInfo(){return this.getLoginInfo},isChecked(){return this.getIsChecked},isLoggedIn(){return!!this.loginInfo}},watch:{id:{immediate:!0,handler(e){this.fetchNoticeDetail(e)}}},mounted(){this.fetchNoticeDetail(this.id)}},j=o(6262);const O=(0,j.A)(R,[["render",M],["__scopeId","data-v-6839ba38"]]);var Q=O}}]);
//# sourceMappingURL=2650.035651d9.js.map