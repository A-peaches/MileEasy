"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[1397],{51397:function(a,e,t){t.r(e),t.d(e,{default:function(){return P}});var s=t(20641),i=t(90033);const n=a=>((0,s.Qi)("data-v-b1eac630"),a=a(),(0,s.jt)(),a),g={class:"cards page-back mx-auto",style:{color:"#4b4a4a","padding-bottom":"90px"}},o=n((()=>(0,s.Lk)("h2",{class:"main-title",style:{"margin-top":"70px"}},"배지 취득 현황",-1))),d={class:"badge-container"},r={class:"badge-image-container"},c=["src"],l={class:"badge-info"},m=n((()=>(0,s.Lk)("span",{class:"badge-title"},"마왕 배지",-1))),h=n((()=>(0,s.Lk)("p",{class:"badge-description"},"전월 기준 마일리지 취득 점수가 높은 상위 3명이 채택됩니다.",-1))),u={key:0,class:"badge-date"},b={key:1,class:"badge-date"},k={class:"badge-image-container"},p=["src"],L={class:"badge-info"},_=n((()=>(0,s.Lk)("span",{class:"badge-title"},"Jump UP 배지",-1))),I=n((()=>(0,s.Lk)("p",{class:"badge-description"},"최근 2개월간 마일리지 증가 폭이 큰 상위 3명이 채택됩니다.",-1))),v={key:0,class:"badge-date"},f={key:1,class:"badge-date"},D={class:"history-container"},y=n((()=>(0,s.Lk)("h3",{class:"sub-title"},"취득 이력",-1))),C=n((()=>(0,s.Lk)("hr",null,null,-1))),w={class:"history-date"},E={class:"history-badge"},j={class:"history-status"};function B(a,e,t,n,B,A){return(0,s.uX)(),(0,s.CE)("div",g,[o,(0,s.Lk)("div",d,[(0,s.Lk)("div",{class:(0,i.C4)(["badge-card",{"cards-active":B.badgeData[0]?.current_month&&B.badgeData[0]?.mile_is_king}])},[(0,s.Lk)("div",r,[(0,s.Lk)("img",{src:A.kingImage,class:(0,i.C4)({"darken-image":!B.badgeData[0]?.current_month||!B.badgeData[0]?.mile_is_king}),onError:e[0]||(e[0]=(...a)=>A.handleImageError&&A.handleImageError(...a)),alt:"마왕 배지"},null,42,c)]),(0,s.Lk)("div",l,[m,h,B.badgeData[0]?.mile_is_king?((0,s.uX)(),(0,s.CE)("p",u,"취득일 : "+(0,i.v_)(B.badgeData[0]?.start_date),1)):((0,s.uX)(),(0,s.CE)("p",b,"기준 미달성"))])],2),(0,s.Lk)("div",{class:(0,i.C4)(["badge-card",{"cards-active":B.badgeData[0]?.current_month&&B.badgeData[0]?.mile_is_jump}])},[(0,s.Lk)("div",k,[(0,s.Lk)("img",{src:A.jumpImage,class:(0,i.C4)({"darken-image":!B.badgeData[0]?.current_month||!B.badgeData[0]?.mile_is_jump}),onError:e[1]||(e[1]=(...a)=>A.handleImageError&&A.handleImageError(...a)),alt:"Jump UP 배지"},null,42,p)]),(0,s.Lk)("div",L,[_,I,B.badgeData[0]?.mile_is_jump?((0,s.uX)(),(0,s.CE)("p",v,"취득일 : "+(0,i.v_)(B.badgeData[0]?.start_date),1)):((0,s.uX)(),(0,s.CE)("p",f,"기준 미달성"))])],2)]),(0,s.Lk)("div",D,[y,C,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(B.badgeData,((a,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"history-item"},[(0,s.Lk)("div",w,(0,i.v_)(a.start_date)+" ~ "+(0,i.v_)(a.end_date),1),(0,s.Lk)("div",E,(0,i.v_)(a.mile_is_king?"마왕 배지":"Jump-Up 배지"),1),(0,s.Lk)("div",j,(0,i.v_)(a.current_month?"유효":"기간경과"),1)])))),128))])])}var A=t(66278),J=t(37682),X={name:"BadgeStatusView",data(){return{msg:"",badgeData:[],loginInfoLoaded:!1}},computed:{...(0,A.L8)("login",["getLoginInfo","getIsChecked"]),...(0,A.L8)("badge",["getKingBadge","getJumpBadge"]),kingImage(){return this.getKingBadge},jumpImage(){return this.getJumpBadge},loginInfo(){return this.getLoginInfo}},methods:{...(0,A.i0)("badge",["badgeKingImage","badgeJumpImage"]),handleImageError(){console.error("이미지 로드 실패")},checkLoginInfo(){(!this.getLoginInfo||this.getLoginInfo&&1==this.getIsChecked)&&(window.location.href="/noAccess")},async kingData(){try{const a=await J.A.get("/mileage/kingData");console.log("마왕 top3:",a.data),this.kingTop3=a.data.slice(0,5)}catch(a){console.error("마왕 top3:",a),this.kingTop3=[]}},async jumpData(){try{const a=await J.A.get("/mileage/jumpData");console.log("점프업 top3:",a.data),this.baseDate=a.data.length?a.data[0].base_date:"",this.jumpTop3=a.data.slice(0,5)}catch(a){console.error("점프업 top3:",a),this.jumpTop3=[]}},goBack(){this.$router.back(-1)},warningAlert(){this.$swal({title:"경고",text:this.msg,icon:"warning",scrollbarPadding:!1})},errorAlert(){this.$swal({title:"에러",text:this.msg,icon:"error",scrollbarPadding:!1})},successAlert(){this.$swal({title:"성공",text:this.msg,icon:"success",scrollbarPadding:!1})},async loadBadgeData(){if(this.getLoginInfo&&this.getLoginInfo.user_no)try{const a=await J.A.get(`/myMile/loadBadgeData/${this.getLoginInfo.user_no}`);this.badgeData=a.data,console.log(this.badgeData)}catch(a){console.error("배지 데이터 로드 실패:",a)}},watch:{getLoginInfo:{immediate:!0,handler(a){a&&a.user_no&&(this.loginInfoLoaded=!0,this.loadBadgeData())}}}},mounted(){this.badgeKingImage(),this.badgeJumpImage(),this.getLoginInfo&&this.getLoginInfo.user_no&&this.loadBadgeData()},created(){this.checkLoginInfo()}},x=t(66262);const K=(0,x.A)(X,[["render",B],["__scopeId","data-v-b1eac630"]]);var P=K}}]);
//# sourceMappingURL=1397.6c7c70c8.js.map