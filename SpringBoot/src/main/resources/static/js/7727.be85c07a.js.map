{"version":3,"file":"js/7727.be85c07a.js","mappings":"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","sources":["webpack://mile/./src/views/user/main/ManagerMainView.vue","webpack://mile/./src/components/manager/CardComponent.vue","webpack://mile/./src/components/manager/CardComponent.vue?5880","webpack://mile/./src/components/manager/CompareChart.vue","webpack://mile/./src/components/manager/CompareChart.vue?52b0","webpack://mile/./src/views/user/main/ManagerMainView.vue?fd48"],"sourcesContent":["<template>\r\n  <div ref=\"mainContainer\">\r\n    <div class=\"flex\" style=\"margin-left: 10%; margin-right: 10%\">\r\n      <div class=\"cards fade-up-item profile-card\">\r\n        <img\r\n          v-if=\"loginInfo && loginInfo.user_no\"\r\n    :src=\"profileImageUrl\"\r\n          class=\"profile-large my-3\"\r\n          alt=\"Profile Picture\"\r\n          @error=\"setDefaultImage\"\r\n        />\r\n        <h2 class=\"lg KB_S5 my-3\">\r\n          {{ loginInfo ? loginInfo.user_name : '' }}\r\n        </h2>\r\n        <p class=\"md\" style=\"margin-bottom: 0px\">\r\n          {{\r\n            loginInfo\r\n              ? `${loginInfo.level_no} ${loginInfo.position_no} | ${loginInfo.job_no} 직무`\r\n              : ''\r\n          }}\r\n        </p>\r\n        <p class=\"md\" style=\"margin-bottom: 10px\">\r\n          {{ loginInfo ? loginInfo.dp_no : '' }}\r\n        </p>\r\n        <button @click=\"goToMileagePromotion\" class=\"btn-yellow KB_C2 my-3\">{{ mile_name }}</button>\r\n\r\n      </div>\r\n      <CardComponent\r\n        title=\"기간별 페이지 방문자 수\"\r\n        class=\"fade-up-item\"\r\n        style=\"width: 70%; margin-left: 5.6%\"\r\n      />\r\n    </div>\r\n    <div class=\"flex\" style=\"margin-left: 10%; margin-right: 10%\">\r\n      <div\r\n        class=\"cards fade-up-item\"\r\n        style=\"width: 24%; height: 370px; padding: 3% 3% 4% 3%; margin-top: 3%\"\r\n      >\r\n        <div style=\"padding: 0% 0%\">\r\n          <a href=\"/introduceMileageAdminView\" class=\"mileage-link\">\r\n            <p class=\"lg2 link-text\" style=\"text-align: left\">\r\n              마일리지 소개\r\n              <i\r\n                class=\"bi bi-chevron-compact-right icon-right\"\r\n                style=\"margin-left: auto\"\r\n              ></i>\r\n            </p>\r\n          </a>\r\n          <a href=\"/commentMieageeAdminView\" class=\"mileage-link\">\r\n            <p class=\"lg2 link-text\" style=\"text-align: left\">\r\n              추천 멘트\r\n              <i\r\n                class=\"bi bi-chevron-compact-right icon-right\"\r\n                style=\"margin-left: auto\"\r\n              ></i>\r\n            </p>\r\n          </a>\r\n          <a href=\"/mileageTargetView\" class=\"mileage-link\">\r\n            <p class=\"lg2 link-text\" style=\"text-align: left\">\r\n              목표설정\r\n              <i\r\n                class=\"bi bi-chevron-compact-right icon-right\"\r\n                style=\"margin-left: auto\"\r\n              ></i>\r\n            </p>\r\n          </a>\r\n          <a href=\"/documentsMileageAdminView\" class=\"mileage-link\">\r\n            <p class=\"lg2 link-text\" style=\"text-align: left\">\r\n              마일리지 문서\r\n              <i\r\n                class=\"bi bi-chevron-compact-right icon-right\"\r\n                style=\"margin-left: auto\"\r\n              ></i>\r\n            </p>\r\n          </a>\r\n          <a href=\"/scoreMileageAdminView\" class=\"mileage-link\">\r\n            <p class=\"lg2 link-text\" style=\"text-align: left\">\r\n              마일리지 점수\r\n              <i\r\n                class=\"bi bi-chevron-compact-right icon-right\"\r\n                style=\"margin-left: auto\"\r\n              ></i>\r\n            </p>\r\n          </a>\r\n          <!-- <a href=\"/qnaListView\" class=\"mileage-link\">\r\n            <p class=\"lg2 link-text\" style=\"text-align: left\">\r\n              QnA\r\n              <i\r\n                class=\"bi bi-chevron-compact-right icon-right\"\r\n                style=\"margin-left: auto\"\r\n              ></i>\r\n            </p>\r\n          </a> -->\r\n          <a href=\"/mileEasyContactView\" class=\"mileage-link\">\r\n            <p class=\"lg2 link-text\" style=\"text-align: left\">\r\n              업무별 연락처\r\n              <i\r\n                class=\"bi bi-chevron-compact-right icon-right\"\r\n                style=\"margin-left: auto\"\r\n              ></i>\r\n            </p>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <CompareChart\r\n        title=\"전년도 비교\"\r\n        class=\"fade-up-item\"\r\n        style=\"width: 70%; margin-left: 6%; margin-top: 3%\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CardComponent from '@/components/manager/CardComponent.vue';\r\nimport CompareChart from '@/components/manager/CompareChart.vue';\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'ManagerMainView',\r\n  components: { CardComponent, CompareChart },\r\n  data(){\r\n    return{\r\n      mile_name: '',\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('mile', ['fetchMileInfo']),\r\n    setDefaultImage(event) {\r\n      event.target.src = require('@/assets/img/test.png');\r\n    },\r\n    \r\n    goToMileagePromotion() {\r\n      this.$router.push({ name: 'promotion', query: { mile_name: this.mile_name } });\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters('login', ['getLoginInfo']),\r\n    ...mapGetters('mile', ['getMileInfo']),\r\n    profileImageUrl() {\r\n  if (this.loginInfo && this.loginInfo.user_no) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      return `${process.env.VUE_APP_API_URL}/profile/${this.loginInfo.user_no}.jpg`;\r\n    } else {\r\n      return `/profile/${this.loginInfo.user_no}.jpg`;\r\n    }\r\n  }\r\n  return ''; // 또는 기본 이미지 URL\r\n},\r\n    loginInfo() {\r\n      return this.getLoginInfo;\r\n    },\r\n    mileInfo() {\r\n      return this.getMileInfo;\r\n    },\r\n  },\r\n  async created(){\r\n    const user_no = this.loginInfo ? this.loginInfo.user_no : null;\r\n    if(user_no){\r\n      await this.fetchMileInfo(user_no);\r\n      const mileInfo = this.getMileInfo;\r\n      if(mileInfo){\r\n        this.mile_name = mileInfo.mile_no;\r\n      }else{\r\n        console.error('마일리지 이름을 가져올 수 없습니다.');\r\n      }\r\n    }else{\r\n      console.error('user_no이 유효하지 않습니다.');\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      if (this.$refs.mainContainer) {\r\n        const items =\r\n          this.$refs.mainContainer.querySelectorAll('.fade-up-item');\r\n        items.forEach((item, index) => {\r\n          item.style.setProperty('--index', index);\r\n          item.style.setProperty('z-index', 10 - index);\r\n          setTimeout(() => {\r\n            item.classList.add('fade-up-active');\r\n          }, 100 * index);\r\n        });\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.mileage-link {\r\n  text-decoration: none;\r\n  color: #4b4a4a;\r\n}\r\n\r\n.mileage-link:hover > p {\r\n  color: #848282; /* 원하는 색상으로 변경 */\r\n}\r\n.link-text {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-top: 1%;\r\n  width: 100%;\r\n}\r\n.icon-right {\r\n  margin-left: auto; /* 아이콘을 오른쪽 끝으로 밀기 위해 추가 */\r\n}\r\n.fade-up-item {\r\n  opacity: 0;\r\n  transform: translateY(20px);\r\n  z-index: 1;\r\n  transition: all 0.5s ease-out;\r\n  transition-delay: calc(var(--index) * 100ms);\r\n  position: relative; /* z-index가 작동하도록 */\r\n}\r\n.fade-up-active {\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n.chart-display {\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n\r\n.profile-card {\r\n  height: 430px;\r\n  width: 370px;\r\n}\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"cards\" style=\"background-color: #f9f9f9; height: 430px; padding: 20px;\">\r\n    <p class=\"text-left lg2 KB_C2\">{{ title }} &nbsp;\r\n      <i class=\"bi bi-download\" @click=\"downloadChart\"></i>\r\n    </p>\r\n   \r\n    <div v-if=\"showHelpPopover\" class=\"help-popover\" ref=\"helpPopover\">\r\n      <div style=\"font-size: 12pt\">\r\n        <span\r\n          >직원들이 조회한 기간 동안 해당 마일리지 페이지에 방문한 횟수를 보여줍니다.<br>\r\n          마일리지에 대한 직원들의 관심도를 알 수 있습니다.</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <div class=\"cards\" style=\"height: 335px;\">\r\n      <div class=\"chart-container\" style=\"padding-top: 10px\">\r\n        <div class=\"chart-wrapper\">\r\n          <canvas :id=\"chartIds[0]\"></canvas>\r\n        </div>\r\n        <div class=\"date-selector\" style=\"width: 35%;\">\r\n          <div class=\"d-flex justify-content-between align-items-center\" style=\"width: 80%;\">\r\n            <span class=\"md  highlight fw-bold\">시작일자</span>\r\n            <span class=\"md highlight  fw-bold\">종료일자</span>\r\n          </div>\r\n          <div class=\"date-inputs\" style=\"width: 100%; margin-top: 5%;\">\r\n            <input\r\n              type=\"date\"\r\n              class=\"date\"\r\n              id=\"startDate\"\r\n              v-model=\"startDate\"\r\n              @change=\"updateCharts\"\r\n            />\r\n            <span class=\"date-separator\">-</span>\r\n            <input\r\n              type=\"date\"\r\n              class=\"date\"\r\n              id=\"endDate\"\r\n              v-model=\"endDate\"\r\n              @change=\"updateCharts\"\r\n            />\r\n          </div><br>\r\n          <div class=\"total-visitors mt-3\" style=\"text-align: center; font-family: 'KB_S5'; font-size:13pt\">\r\n            <!-- 조회 기간의 총 방문자 수는 {{ total }}명 입니다.<br><br> -->\r\n            조회 기간 중 직원들이 가장 많이 방문한 날짜는\r\n            <div class=\"mt-2\"></div>\r\n            <span class=\"date-text\">\r\n              <sup><img src=\"@/assets/img/left-quote.png\" class=\"quote\" style=\"width:6%;\" /></sup>\r\n              {{ maxcountDate }}\r\n              <sup><img src=\"@/assets/img/right-quote.png\" class=\"quote\" style=\"width:6%;\" /></sup>\r\n            </span> 입니다. \r\n          </div>\r\n  \r\n          <div  class=\"text-end w-100 mt-5\">\r\n          <span  style=\"\r\n                      position: absolute;\r\n                      top: 87%;\r\n                      right : -45px;\r\n                      transform: translateX(-50%);\r\n                      z-index: 0;\r\n                      \r\n                    font-size:10pt; color:gray;\">( 최대 조회 가능일 : 전영업일 )</span>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport Swal from 'sweetalert2';\r\nimport api from '@/api/axios';\r\nimport * as XLSX from 'xlsx';\r\n\r\nChart.register(...registerables);\r\n\r\nexport default {\r\n  name: 'CardComponent',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      startDate: '',\r\n      endDate: '',\r\n      managerChart1: {},\r\n      chartIds: ['managerChart1'],\r\n      mile_no: null,\r\n      total: 0,\r\n      maxcountDate: '',\r\n      mincountDate: '',\r\n      maxcount: 0,\r\n      mincount: 0,\r\n      dates: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.setDefaultDates();\r\n    this.updateCharts(); // Ensure chart rendering happens after setting dates\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters('login', ['getLoginInfo']),\r\n    ...mapActions('loginHistory', ['loginHistoryCountArray']),\r\n    loginInfo() {\r\n      return this.getLoginInfo;\r\n    },\r\n  },\r\n  methods: {\r\n    downloadChart() {\r\n      const wsData = [['날짜', '방문자 수']]; // 엑셀 파일의 첫번째 행에 컬럼명을 추가\r\n      this.dates.forEach((date, index) => {\r\n        wsData.push([this.formatted(new Date(date)), this.counts[index]]);\r\n      });\r\n\r\n      const worksheet = XLSX.utils.aoa_to_sheet(wsData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Data');\r\n\r\n      XLSX.writeFile(workbook, 'chart_data.xlsx'); // 엑셀 파일 다운로드 \r\n    },\r\n    setDefaultDates() {\r\n      const today = new Date();\r\n      const endDate = new Date(today);\r\n      endDate.setDate(today.getDate() - 1); // Set endDate to yesterday\r\n      const endDateFormatted = endDate.toISOString().split('T')[0]; // Format 'YYYY-MM-DD'\r\n\r\n      today.setDate(today.getDate() - 7);\r\n      const startDate = today.toISOString().split('T')[0]; // Format 'YYYY-MM-DD'\r\n\r\n      this.startDate = startDate;\r\n      this.endDate = endDateFormatted;\r\n\r\n      // Set the max attribute for endDate input to yesterday\r\n      const endDateInput = document.getElementById('endDate');\r\n      endDateInput.setAttribute('max', endDateFormatted);\r\n    },\r\n    async updateCharts() {\r\n      if (new Date(this.startDate) > new Date(this.endDate)) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: '시작 날짜는 종료 날짜보다 이전이어야 합니다.',\r\n        });\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const {counts, dates} = await this.chartDataCount();\r\n        this.dates = dates;\r\n        this.counts = counts;\r\n        this.total = counts.reduce((acc, cur) => acc + cur, 0);\r\n        this.maxcount = Math.max(...counts);\r\n        this.mincount = Math.min(...counts);\r\n        const maxIndex = counts.indexOf(this.maxcount);\r\n        const minIndex = counts.indexOf(this.mincount);\r\n        this.maxcountDate = this.formatted(new Date(dates[maxIndex]));\r\n        this.mincountDate = this.formatted(new Date(dates[minIndex]));\r\n        this.renderCharts(counts);\r\n      } catch (error) {\r\n        console.error('오잉:', error);\r\n      }\r\n    },\r\n    formatted(date){\r\n      // const year = date.getFullYear();\r\n      const month = String(date.getMonth()+1).padStart(2, '0'); // 01, 02... 형식\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n      return `${month}월 ${day}일`;\r\n      // return `${day}`;\r\n    },\r\n    async chartDataCount() {\r\n      const start = this.startDate.trim();\r\n      const end = this.endDate.trim();\r\n      const mile_no = this.getLoginInfo.mile_no;\r\n    \r\n      try {\r\n        const response = await api.post(\r\n          '/mana/mileCount',\r\n          null, // POST 요청의 본문을 비워둡니다.\r\n          {\r\n            params: {\r\n              startDate: start,\r\n              endDate: end,\r\n              mile_no: mile_no,\r\n            },\r\n          }\r\n        );\r\n        const counts = response.data.map((item) => item.hit_count);\r\n        const dates = response.data.map((item) => item.hit_date);\r\n        \r\n        return {counts, dates};\r\n      } catch (error) {\r\n        console.error('Error fetching login history:', error);\r\n        return {counts: [], dates: []};\r\n      }\r\n    },\r\n    renderCharts(counts) {\r\n      this.chartIds.forEach((chartId) => {\r\n        const ctx = document.getElementById(chartId)?.getContext('2d');\r\n\r\n        if (!ctx) {\r\n          console.error(`Canvas element with id '${chartId}' not found.`);\r\n          return;\r\n        }\r\n\r\n        if (this.managerChart1[chartId]) {\r\n          this.managerChart1[chartId].destroy();\r\n        }\r\n\r\n        const gradient = ctx.createLinearGradient(0, 0, 0, 400);\r\n        // gradient.addColorStop(0, 'rgba(255, 170, 231, 1)');  // 핑크색 \r\n        // gradient.addColorStop(1, 'rgba(255, 170, 231, 0.2)'); \r\n\r\n        // gradient.addColorStop(0, 'rgba(228, 228, 228, 1)');  // 회색\r\n        // gradient.addColorStop(1, 'rgba(228, 228, 228, 0.2)'); \r\n\r\n        gradient.addColorStop(0, 'rgba(255, 231, 143, 1)');  // 노란색\r\n        gradient.addColorStop(1, 'rgba(255, 231, 143, 1)'); \r\n\r\n        // gradient.addColorStop(0, 'rgba(159, 237, 209, 1)');  // 초록색\r\n        // gradient.addColorStop(1, 'rgba(159, 237, 209, 1)'); \r\n\r\n        // gradient.addColorStop(0, 'rgba(170, 204, 255, 1)');  // 파란색\r\n        // gradient.addColorStop(1, 'rgba(170, 204, 255, 1)'); \r\n\r\n        this.managerChart1[chartId] = new Chart(ctx, {\r\n          type: 'bar',\r\n          data: {\r\n            labels: this.weekDays(),\r\n            datasets: [\r\n              {\r\n                label: `방문자 수`,\r\n                backgroundColor: gradient,\r\n                data: counts,\r\n                // borderRadius: 5,\r\n                maxBarThickness: 30, // 막대의 너비를 설정합니다.\r\n                \r\n              },\r\n            ],\r\n          },\r\n          options: {\r\n            responsive: true,\r\n            maintainAspectRatio: false,\r\n            plugins: {\r\n              legend: {\r\n                display: true,\r\n                position: 'top',\r\n                // padding: 2,\r\n                labels: {\r\n                  font: {\r\n                    family: 'KB_C2',\r\n                    size: 14\r\n                  }\r\n                }\r\n              },\r\n              // title: {\r\n              //   display: false,\r\n                \r\n              // },\r\n              tooltip: {\r\n                backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n                titleFont: {\r\n                  family: 'KB_C2',\r\n                  size: 14,\r\n                },\r\n                bodyFont: {\r\n                  family: 'KB_C2',\r\n                  size: 12,\r\n                },\r\n                padding: 10,\r\n                // cornerRadius: 5,\r\n                displayColors: false,\r\n              },\r\n            },\r\n            scales: {\r\n              y: {\r\n                beginAtZero: true,\r\n                ticks: {\r\n                  // display: true,\r\n                  font: {\r\n                    family: 'KB_C2',\r\n                    size: 10,\r\n                  },\r\n                },\r\n                grid: {\r\n                  color: 'rgba(0, 0, 0, 0.1)',\r\n                  drawBorder: false,\r\n                },\r\n                // title: {\r\n                //   display: true,\r\n                //   text: '방문자 수',\r\n                //   font: {\r\n                //     family: 'KB_C2',\r\n                //     size: 14,\r\n                //     weight: 'bold',\r\n                //   },\r\n                // }\r\n              },\r\n              x: {\r\n                grid: {\r\n                  display: false,\r\n                },\r\n                ticks: {\r\n                  font: {\r\n                    family: 'KB_C2',\r\n                    size: 12,\r\n                  },\r\n                },\r\n              },\r\n            },\r\n            animation: {\r\n              duration: 1500,\r\n              easing: 'easeOutQuart',\r\n            },\r\n          },\r\n        });\r\n      });\r\n    },\r\n    weekDays() {\r\n      const daysArray = [];\r\n      const start = new Date(this.startDate);\r\n      const end = new Date(this.endDate);\r\n\r\n      for (\r\n        let date = new Date(start);\r\n        date <= end;\r\n        date.setDate(date.getDate() + 1)\r\n      ) {\r\n        const month = date.getMonth() + 1;\r\n        const day = date.getDate();\r\n        daysArray.push(`${month}.${day}`);\r\n      }\r\n\r\n      return daysArray;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cards {\r\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\r\n  border-radius: 8px;\r\n}\r\n\r\n.chart-container {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  height: 280px;\r\n  \r\n}\r\n\r\n.chart-wrapper {\r\n  width: 48%;\r\n  height: 110%;\r\n  padding-top: 10px;\r\n}\r\n\r\n.date-selector {\r\n  width: 20%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  align-self: flex-start;\r\n}\r\n\r\n.date-inputs {\r\n  display: flex;\r\n  justify-content:space-between;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n}\r\n\r\n.date {\r\n  padding: 8px;\r\n  border-bottom: 1px solid #ccc;\r\n  /* border-radius: 4px; */\r\n  font-family: 'KB_C2';\r\n  font-size: 14px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.date-separator {\r\n  margin: 5px 0;\r\n  font-weight: bold;\r\n}\r\n\r\n.total-visitors {\r\n  margin-top: 20px;\r\n  /* font-family: 'KB_C2';\r\n  font-size: 16px; */\r\n  /* font-weight: bold; */\r\n}\r\n\r\n.highlight {\r\n  background-color: #e1fcef;\r\n  border-radius: 30px; /* 둥근 모서리 */\r\n  padding: 3px 10px; /* 내부 여백을 추가하여 크기 조절 */\r\n  display: inline-block; /* 인라인 블록 요소로 설정하여 크기 조절 */\r\n}\r\n\r\n.help-icon {\r\n  cursor: pointer;\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.help-popover {\r\n  position: absolute;\r\n  left: 250px; /* 조정 가능 */\r\n  top: 50px; /* 조정 가능 */\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  z-index: 10000;\r\n  width: 600px;\r\n  margin-left: 10px; /* 아이콘과의 간격 */\r\n  display: block; /* 추가 */\r\n  background-color: white; /* 임시로 눈에 띄는 색상 사용 */\r\n  border: 2px solid #e4e4e4;\r\n}\r\n\r\n.date-text {\r\n  font-size : 18pt;\r\n  font-family: 'KB_C2'\r\n}\r\n\r\n.bi-question-circle:hover {\r\n  cursor: pointer;\r\n}\r\n\r\n.bi-download:hover {\r\n  cursor: pointer;\r\n}\r\n</style>","import { render } from \"./CardComponent.vue?vue&type=template&id=454a399c&scoped=true\"\nimport script from \"./CardComponent.vue?vue&type=script&lang=js\"\nexport * from \"./CardComponent.vue?vue&type=script&lang=js\"\n\nimport \"./CardComponent.vue?vue&type=style&index=0&id=454a399c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-454a399c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"cards\" style=\"background-color: #f9f9f9; height: 430px; padding: 20px;\">\r\n    <div class=\"d-flex justify-content-between align-items-center\">\r\n      <p class=\"text-left lg2 KB_C2\">\r\n        {{ title }} &nbsp;\r\n        <i class=\"bi bi-download\" @click=\"downloadChart\"></i>\r\n      </p>\r\n      <div class=\"tabs text-end lg2 mr-3\">\r\n        <span\r\n          @click=\"selectedTab = 'mileage'\"\r\n          :class=\"{ active: selectedTab === 'mileage', chartTab: true }\"\r\n          class=\"chartTab\"\r\n          >마일리지 총점</span\r\n        >&nbsp;|&nbsp;\r\n        <span\r\n          @click=\"selectedTab = 'visitor'\"\r\n          :class=\"{ active: selectedTab === 'visitor', chartTab: true }\"\r\n          class=\"chartTab\"\r\n          >방문자 수</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <!-- <div v-if=\"isLoading\" class=\"loading-indicator\">데이터 로딩 중...</div> -->\r\n    <div class=\"cards\" style=\"height: 335px;\">\r\n      <div class=\"chart-wrapper d-flex justify-content-evenly\">\r\n        <div v-if=\"selectedTab==='mileage'\" class=\"chart-container\" style=\"margin-right: 3%;\" >\r\n          <canvas id=\"mileageChart\"></canvas>\r\n        </div>\r\n        <div v-if=\"selectedTab==='visitor'\" class=\"chart-container\" style=\"margin-right: 3%;\">\r\n          <canvas id=\"visitsChart\"></canvas>\r\n        </div>\r\n        <div class=\"\" style=\"width: 35%; height: 80%;\">\r\n          <div class=\"stats-container\" style=\"height: 100%;\">\r\n            <table style=\"border: 1px solid #EBEBEB; background-color: #fff; width: 100%; height:100%;\">\r\n              <tr class=\"md\" style=\"border: 1px solid #EBEBEB;\">\r\n                <th>기준</th>\r\n                <th>{{ selectedTab === 'mileage' ? '마일리지 총점' : '방문자 수' }}</th>\r\n              </tr>\r\n              <tr >\r\n                <td class=\"md\" style=\"font-size: 15pt;\">전년도 대비</td>\r\n                <td class=\"lg2\" style=\"font-family: 'KB_S4';\">\r\n                  <i\r\n                    :class=\"yearOverYearChange >= 0 ? 'bi bi-caret-up-fill' : 'bi bi-caret-down-fill'\"\r\n                    :style=\"{ color: yearOverYearChange >= 0 ? '#F28080' : '#808BF2', fontSize: '20pt' }\"\r\n                  ></i>\r\n                  {{ Math.abs(yearOverYearChange) }}%\r\n                </td>\r\n              </tr>\r\n              <tr >\r\n                <td class=\"md\" style=\"font-size: 15pt;\">전월 대비</td>\r\n                <td class=\"lg2\" style=\"font-family: 'KB_S4';\">\r\n                  <i\r\n                    :class=\"monthOverMonthChange >= 0 ? 'bi bi-caret-up-fill' : 'bi bi-caret-down-fill'\"\r\n                    :style=\"{ color: monthOverMonthChange >= 0 ? '#F28080' : '#808BF2', fontSize: '20pt' }\"\r\n                  ></i>\r\n                  {{ Math.abs(monthOverMonthChange) }}%\r\n                </td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <div  class=\"text-end w-100 mt-5\">\r\n          <span  style=\"\r\n                      position: absolute;\r\n                      top: 89%;\r\n                      right : -40px;\r\n                      transform: translateX(-50%);\r\n                      z-index: 0;\r\n                      \r\n                    font-size:10pt; color:gray;\">( 기준일자 : {{ startDate}} )</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport api from '@/api/axios';\r\nimport * as XLSX from 'xlsx';\r\n\r\nChart.register(...registerables);\r\n\r\nexport default {\r\n  name: 'CardComponent',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      startDate: '',\r\n      managerChart2: {},\r\n      chartIds: ['mileageChart', 'visitsChart'],\r\n      thisYearData: [],\r\n      lastYearData: [],\r\n      selectedTab: 'mileage',\r\n      //isLoading: true,\r\n      mileageCountData: null,\r\n      visitCountData: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.setDefaultDates();\r\n    this.loadData();\r\n  },\r\n  mounted() {\r\n    //this.setDefaultDates();\r\n    this.updateCharts(); // Ensure chart rendering happens after setting dates\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters('login', ['getLoginInfo']),\r\n    loginInfo() {\r\n      return this.getLoginInfo;\r\n    },\r\n    lastMonthIndex() {\r\n      const currentMonth = new Date().getMonth();\r\n      return currentMonth === 0 ? 11 : currentMonth - 1;\r\n    },\r\n    currentYearTotal() {\r\n      const key = this.selectedTab === 'mileage' ? 'total_points' : 'visits';\r\n      return this.thisYearData.reduce((sum, item) => sum + (item[key] || 0), 0);\r\n    },\r\n    previousYearTotal() {\r\n      const key = this.selectedTab === 'mileage' ? 'total_points' : 'visits';\r\n      return this.lastYearData.reduce((sum, item) => sum + (item[key] || 0), 0);\r\n    },\r\n    yearOverYearChange() {\r\n      if (this.previousYearTotal === 0) return 0;\r\n      return ((this.currentYearTotal - this.previousYearTotal) / this.previousYearTotal * 100).toFixed(2);\r\n    },\r\n    monthOverMonthChange() {\r\n      const key = this.selectedTab === 'mileage' ? 'total_points' : 'visits';\r\n      const thisMonth = this.thisYearData[this.lastMonthIndex]?.[key] || 0;\r\n      const lastMonth = this.thisYearData[this.lastMonthIndex - 1]?.[key] || 0;\r\n      if (lastMonth === 0) return 0;\r\n      return ((thisMonth - lastMonth) / lastMonth * 100).toFixed(2);\r\n    }\r\n  },\r\n  watch: {\r\n    selectedTab(){\r\n      this.updateTotals();\r\n      this.$nextTick(() => {\r\n        this.renderCharts();\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    downloadChart() {\r\n      const months = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];\r\n      let wsData = [];\r\n\r\n      if(this.selectedTab === 'mileage'){\r\n        wsData = [['월별', '올해 마일리지 총점', '작년 마일리지 총점']]; // 엑셀 파일의 첫번째 행에 컬럼명을 추가\r\n        months.forEach((month, index) => {\r\n          wsData.push([\r\n            month,\r\n            this.thisYearData[index]?.total_points || 0,\r\n            this.lastYearData[index]?.total_points || 0,\r\n          ]);\r\n        });\r\n      }else {\r\n        wsData = [['월별', '올해 방문자 수', '작년 방문자 수']]; // 엑셀 파일의 첫번째 행에 컬럼명을 추가\r\n        months.forEach((month, index) => {\r\n          wsData.push([\r\n            month,\r\n            this.thisYearData[index]?.visits || 0,\r\n            this.lastYearData[index]?.visits || 0,\r\n          ]);\r\n        });\r\n      }\r\n\r\n      const worksheet = XLSX.utils.aoa_to_sheet(wsData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Data');\r\n\r\n      const fileName = this.selectedTab === 'mileage' ? 'mileage_data.xlsx' : 'visitor_data.xlsx';\r\n      XLSX.writeFile(workbook, fileName); // 엑셀 파일 다운로드 \r\n    },\r\n    async updateCharts() {\r\n      try {\r\n        const mileageCountData = await this.mileageCount();\r\n        const visitCountData = await this.visitCount();\r\n        this.processData(mileageCountData, visitCountData);\r\n        this.renderCharts();\r\n      } catch (error) {\r\n        console.error('updateCharts error:', error);\r\n      }\r\n    },\r\n    // 마일리지 총합 (작년, 올해) \r\n    async mileageCount() {\r\n      const mile_no = this.loginInfo.mile_no;\r\n      try {\r\n        const response = await api.post(\r\n          '/mana/mileageCount',\r\n          null,\r\n          {\r\n            params: {\r\n              mile_no: mile_no,\r\n            },\r\n          }\r\n        );\r\n        console.log('마일리지', response.data);\r\n        // 데이터가 없는 경우 기본값 반환\r\n        return {\r\n          thisYear: response.data.thisYear.length > 0 ? response.data.thisYear : this.getDefaultMonthlyData(),\r\n          lastYear: response.data.lastYear.length > 0 ? response.data.lastYear : this.getDefaultMonthlyData(),\r\n        };\r\n      } catch (error) {\r\n        console.error('Error fetching mileage count:', error);\r\n        return {\r\n          thisYear: this.getDefaultMonthlyData(),\r\n          lastYear: this.getDefaultMonthlyData(),\r\n        };\r\n      }\r\n    },\r\n    // 방문자 수 (작년, 올해)\r\n    async visitCount() {\r\n      const mile_no = this.loginInfo.mile_no;\r\n\r\n      try {\r\n        const response = await api.post(\r\n          '/mana/visitCount',\r\n          null,\r\n          {\r\n            params: {\r\n              mile_no: mile_no,\r\n            },\r\n          }\r\n        );\r\n        console.log('방문자수', response.data);\r\n        // 데이터가 없는 경우 기본값 반환\r\n        return {\r\n          thisYear: response.data.thisYear.length > 0 ? response.data.thisYear : this.getDefaultMonthlyData(),\r\n          lastYear: response.data.lastYear.length > 0 ? response.data.lastYear : this.getDefaultMonthlyData(),\r\n        };\r\n      } catch (error) {\r\n        console.error('Error fetching visit count:', error);\r\n        return {\r\n          thisYear: this.getDefaultMonthlyData(),\r\n          lastYear: this.getDefaultMonthlyData(),\r\n        };\r\n      }\r\n    },\r\n    getDefaultMonthlyData() {\r\n      return Array.from({ length: 12 }, (_, index) => ({\r\n        month: `${index + 1}`,\r\n        points: 0,\r\n        visits: 0,\r\n      }));\r\n    },\r\n    // 작년, 올해 월별로 데이터 가져오기 \r\n    processData(mileageCountData, visitCountData) {\r\n      // 기본 데이터 구조 설정\r\n      const defaultData = this.getDefaultMonthlyData();\r\n\r\n      // mileageCountData와 visitCountData가 올바른 구조인지 확인\r\n      const mileageThisYear = mileageCountData?.thisYear || defaultData;\r\n      const mileageLastYear = mileageCountData?.lastYear || defaultData;\r\n      const visitThisYear = visitCountData?.thisYear || defaultData;\r\n      const visitLastYear = visitCountData?.lastYear || defaultData;\r\n\r\n      this.thisYearData = mileageThisYear.map((data, index) => ({\r\n        month: data.month,\r\n        total_points: data.total_points || 0,\r\n        visits: visitThisYear[index]?.visits || 0,\r\n      }));\r\n\r\n      this.lastYearData = mileageLastYear.map((data, index) => ({\r\n        month: data.month,\r\n        total_points: data.total_points || 0,\r\n        visits: visitLastYear[index]?.visits || 0,\r\n      }));\r\n\r\n      this.updateTotals();\r\n      \r\n    },\r\n    updateTotals() {\r\n      const key = this.selectedTab === 'mileage' ? 'total_points' : 'visits';\r\n      this.thisYearTotal = this.thisYearData.reduce((sum, item) => sum + (item[key] || 0), 0);\r\n      this.lastYearTotal = this.lastYearData.reduce((sum, item) => sum + (item[key] || 0), 0);\r\n    },\r\n    async loadData() {\r\n      //this.isLoading = true;\r\n      try {\r\n        this.mileageCountData = await this.mileageCount();\r\n        this.visitCountData = await this.visitCount();\r\n        this.processData(this.mileageCountData, this.visitCountData);\r\n        // this.renderCharts();\r\n      } catch (error) {\r\n        console.error('loadData error:', error);\r\n      } finally {\r\n        //this.isLoading = false;\r\n      }\r\n    },\r\n    // 차트 렌더링 \r\n    renderCharts() {\r\n      const months = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];\r\n      const chartConfigs = [\r\n        {\r\n          id: 'mileageChart',\r\n          title: '마일리지',\r\n          dataKey: 'total_points',\r\n          yAxisLabel: '마일리지',\r\n          colors: ['rgba(255, 170, 231, 1)', 'rgba(192, 192, 192, 1)']\r\n        },\r\n        {\r\n          id: 'visitsChart',\r\n          title: '방문자 수',\r\n          dataKey: 'visits',\r\n          yAxisLabel: '방문자 수',\r\n          colors: ['rgba(170, 204, 255, 1)', 'rgba(192, 192, 192, 1)']\r\n        }\r\n      ]\r\n\r\n      chartConfigs.forEach((config) => {\r\n        const canvas = document.getElementById(config.id);\r\n        // 캔버스 요소가 존재하지 않으면 해당 차트를 건너뛴다.\r\n        if(!canvas){\r\n          return;\r\n        }\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        // 2D 컨텍스트를 얻지 못하면 에러를 로그로 남기고 다음 설정으로 넘어감.\r\n        if (!ctx) {\r\n          console.error(`Canvas element with id '${config.id}' not found.`);\r\n          return;\r\n        }\r\n\r\n        if (this.managerChart2[config.id]) {\r\n          this.managerChart2[config.id].destroy();\r\n        }\r\n\r\n        this.managerChart2[config.id] = new Chart(ctx, {\r\n          type: 'line',\r\n          data: {\r\n            labels: months,\r\n            datasets: [\r\n              {\r\n                label: `올해 ${config.title}`,\r\n                data: this.thisYearData.map(item => item[config.dataKey]),\r\n                borderColor: config.colors[0],\r\n                backgroundColor: config.colors[0].replace('1)', '0.2)'),\r\n                borderWidth: 2,\r\n                fill: false,\r\n                tension: 0.4\r\n              },\r\n              {\r\n                label: `작년 ${config.title}`,\r\n                data: this.lastYearData.map(item => item[config.dataKey]),\r\n                borderColor: config.colors[1],\r\n                backgroundColor: config.colors[1].replace('1)', '0.2)'),\r\n                borderWidth: 2,\r\n                fill: false,\r\n                tension: 0.4\r\n              }\r\n            ]\r\n          },              \r\n          options: {\r\n            responsive: true,\r\n            maintainAspectRatio: false,\r\n            plugins: {\r\n              legend: {\r\n                display: true,\r\n                position: 'top',\r\n                labels: {\r\n                  font: {\r\n                    family: 'KB_C2',\r\n                    size: 14\r\n                  }\r\n                }\r\n              },\r\n              tooltip: {\r\n                mode: 'index',\r\n                intersect: false,\r\n                backgroundColor: 'rgba(0,0,0,0.7)',\r\n                titleFont: {\r\n                  family: 'KB_C2',\r\n                  size: 14\r\n                },\r\n                bodyFont: {\r\n                  family: 'KB_C2',\r\n                  size: 12\r\n                }\r\n              },\r\n            },\r\n            scales: {\r\n              y: {\r\n                beginAtZero: true,\r\n                title: {\r\n                  // display: true,\r\n                  // text: config.yAxisLabel,\r\n                  // font: {\r\n                  //   family: 'KB_C2',\r\n                  //   size: 14\r\n                  // }\r\n                },\r\n                ticks: {\r\n                  font: {\r\n                    family: 'KB_C2',\r\n                    size: 12\r\n                  }\r\n                },\r\n                grid: {\r\n                  color: 'rgba(0, 0, 0, 0.1)'\r\n                }\r\n              },\r\n              x: {\r\n                grid: {\r\n                  display: false,\r\n                },\r\n                ticks: {\r\n                  font: {\r\n                    family: 'KB_C2',\r\n                    size: 12\r\n                  }\r\n                }\r\n              },\r\n            },\r\n            animation: {\r\n              duration: 1000,\r\n              easing: 'easeInOutQuart'\r\n            }\r\n          },\r\n        });\r\n      });\r\n    },\r\n    setDefaultDates() {\r\n      const today = new Date();\r\n      const yesterday = new Date(today);\r\n      yesterday.setDate(today.getDate() - 1);\r\n\r\n      // 주말인 경우 금요일로 설정\r\n      while (yesterday.getDay() === 0 || yesterday.getDay() === 6) {\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n      }\r\n\r\n      const year = yesterday.getFullYear();\r\n      const month = String(yesterday.getMonth() + 1).padStart(2, '0');\r\n      const date = String(yesterday.getDate()).padStart(2, '0');\r\n\r\n      this.startDate = `${year}-${month}-${date}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.flex-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  align-items:flex-start;\r\n  height: 400px;\r\n}\r\n.date-container {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  padding-left: 20px;\r\n}\r\n.chart-wrapper {\r\n  display: flex;\r\n  justify-content:flex-start;\r\n  align-items: center;\r\n  height: 275px;\r\n}\r\n.chart-container {\r\n  width: 48%;\r\n  height: 105%;\r\n  padding-top: 20px\r\n}\r\n.date {\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n.addImg {\r\n  width: 18%;\r\n}\r\n.chartTab {\r\n  cursor: pointer;\r\n  font-size: 16pt;\r\n  color: #4b4a4a;\r\n  font-family: \"KB_C3\";\r\n  transition: color 0.3s ease;\r\n}\r\n.chartTab.active {\r\n  font-family: \"KB_C2\";\r\n}\r\n.chart-display {\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n.tabs {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n.stats-container {\r\n  width: 100%; \r\n  height: 100%; \r\n  display: flex; \r\n  flex-direction: column; \r\n  justify-content: center; \r\n  align-items: center;\r\n  margin-right: 5%;\r\n}\r\n.stats-content {\r\n  width: 100%;\r\n  height: 70%;\r\n  padding: 15px; \r\n  background-color: #f5f6f5; \r\n  border-radius: 10px; \r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.bi-download:hover {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./CompareChart.vue?vue&type=template&id=3e04bb86&scoped=true\"\nimport script from \"./CompareChart.vue?vue&type=script&lang=js\"\nexport * from \"./CompareChart.vue?vue&type=script&lang=js\"\n\nimport \"./CompareChart.vue?vue&type=style&index=0&id=3e04bb86&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3e04bb86\"]])\n\nexport default __exports__","import { render } from \"./ManagerMainView.vue?vue&type=template&id=a621fc58&scoped=true\"\nimport script from \"./ManagerMainView.vue?vue&type=script&lang=js\"\nexport * from \"./ManagerMainView.vue?vue&type=script&lang=js\"\n\nimport \"./ManagerMainView.vue?vue&type=style&index=0&id=a621fc58&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a621fc58\"]])\n\nexport default __exports__"],"names":["ref","class","style","_createStaticVNode","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$options","loginInfo","user_no","key","src","profileImageUrl","alt","onError","_cache","args","setDefaultImage","_hoisted_4","_createCommentVNode","_hoisted_5","_toDisplayString","user_name","_hoisted_6","level_no","position_no","job_no","_hoisted_7","dp_no","onClick","goToMileagePromotion","$data","mile_name","_createVNode","_component_CardComponent","title","_hoisted_8","_hoisted_9","_component_CompareChart","_createTextVNode","_imports_0","_imports_1","$props","downloadChart","_ctx","showHelpPopover","id","chartIds","_hoisted_10","_hoisted_11","_hoisted_12","type","$event","startDate","onChange","updateCharts","_hoisted_13","endDate","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","maxcountDate","_hoisted_19","_hoisted_20","Chart","register","registerables","name","props","String","required","data","managerChart1","mile_no","total","mincountDate","maxcount","mincount","dates","mounted","this","setDefaultDates","computed","mapGetters","mapActions","getLoginInfo","methods","wsData","forEach","date","index","push","formatted","Date","counts","worksheet","XLSX","aoa_to_sheet","workbook","book_new","book_append_sheet","today","setDate","getDate","endDateFormatted","toISOString","split","endDateInput","document","getElementById","setAttribute","Swal","icon","text","chartDataCount","reduce","acc","cur","Math","max","min","maxIndex","indexOf","minIndex","renderCharts","error","console","month","getMonth","padStart","day","start","trim","end","response","api","post","params","map","item","hit_count","hit_date","chartId","ctx","getContext","destroy","gradient","createLinearGradient","addColorStop","labels","weekDays","datasets","label","backgroundColor","maxBarThickness","options","responsive","maintainAspectRatio","plugins","legend","display","position","font","family","size","tooltip","titleFont","bodyFont","padding","displayColors","scales","y","beginAtZero","ticks","grid","color","drawBorder","x","animation","duration","easing","daysArray","__exports__","selectedTab","_normalizeClass","active","chartTab","yearOverYearChange","_normalizeStyle","fontSize","abs","_hoisted_21","monthOverMonthChange","_hoisted_22","_hoisted_23","managerChart2","thisYearData","lastYearData","mileageCountData","visitCountData","created","loadData","lastMonthIndex","currentMonth","currentYearTotal","sum","previousYearTotal","toFixed","thisMonth","lastMonth","watch","updateTotals","$nextTick","months","total_points","visits","fileName","mileageCount","visitCount","processData","log","thisYear","length","getDefaultMonthlyData","lastYear","Array","from","_","points","defaultData","mileageThisYear","mileageLastYear","visitThisYear","visitLastYear","thisYearTotal","lastYearTotal","chartConfigs","dataKey","yAxisLabel","colors","config","canvas","borderColor","replace","borderWidth","fill","tension","mode","intersect","yesterday","getDay","year","getFullYear","components","CardComponent","CompareChart","event","target","require","$router","query","mileInfo","getMileInfo","fetchMileInfo","$refs","mainContainer","items","querySelectorAll","setProperty","setTimeout","classList","add","render"],"sourceRoot":""}