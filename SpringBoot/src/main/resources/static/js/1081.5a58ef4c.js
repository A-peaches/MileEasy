"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[1081],{1081:function(e,t,a){a.r(t),a.d(t,{default:function(){return Po}});var o=a(641);const s={key:0},i={class:"flex",style:{"margin-left":"10%","margin-right":"10%"}},n={class:"left-container",style:{width:"25%"}},l={class:"right-container",style:{width:"70%","margin-left":"5%",position:"sticky",top:"20px",height:"100vh"}},r={key:1},c={class:""};function d(e,t,a,d,g,u){const h=(0,o.g2)("profile"),m=(0,o.g2)("recommand"),p=(0,o.g2)("attendance"),v=(0,o.g2)("favorite"),k=(0,o.g2)("milageCharts");return g.isMobile?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",c,[(0,o.bF)(h,{class:"fade-up-item mx-auto"}),(0,o.bF)(v,{class:"fade-up-item favorite-cards mx-auto"}),(0,o.bF)(k,{class:"fade-up-item mileageCharts-cards mx-auto"}),(0,o.bF)(m,{class:"my-5 fade-up-item recommand-cards"}),(0,o.bF)(p,{class:"fade-up-item attendance-cards"})])])):((0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",i,[(0,o.Lk)("div",n,[(0,o.bF)(h,{class:"fade-up-item"}),(0,o.bF)(m,{class:"my-5 fade-up-item recommand-cards"}),(0,o.bF)(p,{class:"fade-up-item attendance-cards"})]),(0,o.Lk)("div",l,[(0,o.bF)(v,{class:"fade-up-item favorite-cards"}),(0,o.bF)(k,{class:"fade-up-item mileageCharts-cards"})])])]))}var g=a(3751),u=a(33),h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADSCAYAAAACC/8kAAAAAXNSR0IArs4c6QAABTlJREFUeAHt28FNW1EQhlFKoARKoAQ6hU6SDryynp83LoESiL1FkSXuL0bWzIn0FlFyc5kz74MgJU9PfhAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBCYKbBt28u2bW/JczweX2fqmXqswDWcj33fv8LnfSygwWcKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu7d1KGAcEJAx2cKCGfm3k0dCggnBHR8poBwZu69fOrL5fJ8Op3+dHnO5/Pnvu9f4XPp4nGb4/rJ5KX8xep+4Q01fMnSl9T5PPS7hsL5hYqFE391uvvSPsInJeEI5+Ff0kcI5fvHIBzhCGfhr3XCEY5whPMLFSz8kb7H8T3OwmvjiHCEo4IFAeEIZ+G1cUQ4wlHBgoBwhLPw2jgiHOGoYEFAOMJZeG0cEY5wVLAgIBzhLLw2jghHOCpYEBCOcBZeG0du4ZxOp79dnn3fL9//dfBPf377z3BdPG5zHA6HZ286gbsC108EHz8N5T+///3uJX6RQDcB4XTbqHlKBIRTwuySbgLC6bZR85QICKeE2SXdBITTbaPmKREQTgmzS7oJCKfbRs1TIiCcEmaXdBMQTreNmqdEQDglzC7pJiCcbhs1T4mAcEqYXdJNQDjdNmqeEgHhlDC7pJuAcLpt1DwlAsIpYXZJNwHhdNuoeUoEhFPC7JJuAsLptlHzlAgIp4TZJd0EhNNto+YpERBOCbNLugkIp9tGzVMiIJwSZpd0ExBOt42ap0RAOCXMLukmIJxuGzVPiYBwSphd0k1AON02ap4SAeGUMLukm4Bwum3UPCUCwilhdkk3AeF026h5SgSEU8Lskm4Cwum2UfOUCAinhNkl3QSE022j5ikREE4Js0u6CQin20bNUyIgnBJml3QTEE63jZqnREA4Jcwu6SYgnG4bNU+JgHBKmF3STUA43TZqnhIB4ZQwu6SbgHC6bdQ8JQLCKWF2STcB4XTbqHlKBIRTwuySbgLC6bZR85QInM/n123b3sLnpeSDdQkBAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgACBxxP4B0Wl/cXnXj4dAAAAAElFTkSuQmCC";const m=e=>((0,o.Qi)("data-v-e3fa688e"),e=e(),(0,o.jt)(),e),p={key:0},v={class:"cards favorite-container"},k={class:"text-left lg2 KB_C2"},f={class:"flex"},C=["onClick"],b={key:1,style:{"z-index":"10"}},L={class:"favorite-text KB_C2 mt-5"},A={class:"flex"},y={class:"KB_C1 mileage-score"},I={class:"chart-wrapper mx-auto"},_={key:0,class:"chart-container"},x=["id"],D={key:1,class:"no-data-message chart-container"},E=m((()=>(0,o.Lk)("div",{class:"mb-3",style:{position:"absolute","z-index":"0",top:"-10px"}},[(0,o.Lk)("span",null,[(0,o.Lk)("i",{class:"bi bi-exclamation-circle-fill",style:{color:"#FFCA05","font-size":"17pt"}})]),(0,o.Lk)("p",{class:"mt-2"},"마일리지 점수가 없습니다.")],-1))),B=[E],w={key:0,class:"modal-overlay"},M={class:"modals-content"},Q={class:"modal-body"},j=m((()=>(0,o.Lk)("p",{class:"text-left fw-bold mb-3",style:{"font-size":"19pt"}}," 즐겨찾기 추가하기 ",-1))),X={class:"favorite-options"},F=["onClick"],K={class:"mt-3 text-end"},S={key:1},T={class:"cards favorite-container"},P={class:"text-left lg2 KB_C2"},J={class:"flex"},W=["onClick"],z={key:1},H={class:"favorite-text KB_C2 pt-5"},R={class:"flex"},G={class:"KB_C1 mileage-score"},O={class:"chart-wrapper mx-auto"},$={key:0,class:"chart-container"},U=["id"],N={key:1,class:"no-data-message chart-container"},Z=m((()=>(0,o.Lk)("div",{class:"mb-3",style:{position:"absolute","z-index":"0",top:"-10px"}},[(0,o.Lk)("span",null,[(0,o.Lk)("i",{class:"bi bi-exclamation-circle-fill",style:{color:"#FFCA05","font-size":"17pt"}})]),(0,o.Lk)("p",{class:"mt-2"},"마일리지 점수가 없습니다.")],-1))),V=[Z],q={key:0,class:"modal-overlay"},Y={class:"modals-content"},ee={class:"modal-body"},te=m((()=>(0,o.Lk)("p",{class:"text-left fw-bold mb-3",style:{"font-size":"19pt"}}," 즐겨찾기 추가하기 ",-1))),ae={class:"favorite-options"},oe=["onClick"],se={class:"mt-3 text-end"};function ie(e,t,a,s,i,n){return i.isMobile?((0,o.uX)(),(0,o.CE)("div",S,[(0,o.Lk)("div",T,[(0,o.Lk)("p",P,[(0,o.eW)(" 즐겨찾기 마일리지  "),(0,o.Lk)("i",{class:"bi bi-plus-circle-fill icon-wrapper",onClick:t[4]||(t[4]=(...e)=>n.openModal&&n.openModal(...e)),style:{position:"absolute","z-index":"1000"}})]),(0,o.Lk)("div",J,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(4,((e,a)=>(0,o.Lk)("div",{key:a,class:"cards favorite-card",onClick:e=>n.favoriteList[a]&&n.navigateToLink(n.favoriteList[a].mile_no),style:{cursor:"pointer"}},[n.favoriteList[a]?((0,o.uX)(),(0,o.CE)("div",z,[(0,o.Lk)("p",H,(0,u.v_)(n.favoriteList[a].mile_no)+" 마일리지 ",1),(0,o.Lk)("div",R,[(0,o.Lk)("div",G,(0,u.v_)(n.getMileageScore(n.favoriteList[a]?.mile_no))+"pt ",1),(0,o.Lk)("div",O,[n.hasMileageData(n.favoriteList[a].mile_no)?((0,o.uX)(),(0,o.CE)("div",$,[(0,o.Lk)("canvas",{id:"chart"+a,ref_for:!0,ref:"chart"+a,style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)","z-index":"0",height:"190px"}},null,8,U)])):((0,o.uX)(),(0,o.CE)("div",N,V))])])])):((0,o.uX)(),(0,o.CE)("img",{key:0,src:h,class:"addImg mx-auto",onClick:t[5]||(t[5]=(0,g.D$)(((...e)=>n.openModal&&n.openModal(...e)),["stop"]))}))],8,W))),64))]),((0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[i.isModalOpen?((0,o.uX)(),(0,o.CE)("div",q,[(0,o.Lk)("div",Y,[(0,o.Lk)("span",{class:"close",onClick:t[6]||(t[6]=(...e)=>n.closeModal&&n.closeModal(...e))},"×"),(0,o.Lk)("div",ee,[te,(0,o.Lk)("div",ae,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredMileageInfo,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:(0,u.C4)(["btn-favorite favorite-item KB_C2",{selected:i.selectedFavorites.includes(e.mile_name)}]),onClick:t=>n.toggleFavorite(e.mile_name)},(0,u.v_)(e.mile_name),11,oe)))),128))])]),(0,o.Lk)("div",se,[(0,o.Lk)("button",{class:"btn-gray KB_C2 btn-submit",onClick:t[7]||(t[7]=(...e)=>n.updateFavorites&&n.updateFavorites(...e))}," 등록 ")])])])):(0,o.Q3)("",!0)]))])])):((0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("div",v,[(0,o.Lk)("p",k,[(0,o.eW)(" 즐겨찾기 마일리지  "),(0,o.Lk)("i",{class:"bi bi-plus-circle-fill icon-wrapper",onClick:t[0]||(t[0]=(...e)=>n.openModal&&n.openModal(...e))})]),(0,o.Lk)("div",f,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(4,((e,a)=>(0,o.Lk)("div",{key:a,class:"cards favorite-card",onClick:e=>n.favoriteList[a]&&n.navigateToLink(n.favoriteList[a].mile_no),style:{cursor:"pointer"}},[n.favoriteList[a]?((0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("p",L,(0,u.v_)(n.favoriteList[a].mile_no)+" 마일리지 ",1),(0,o.Lk)("div",A,[(0,o.Lk)("div",y,(0,u.v_)(n.getMileageScore(n.favoriteList[a]?.mile_no))+"pt ",1),(0,o.Lk)("div",I,[n.hasMileageData(n.favoriteList[a].mile_no)?((0,o.uX)(),(0,o.CE)("div",_,[(0,o.Lk)("canvas",{id:"chart"+a,ref_for:!0,ref:"chart"+a,style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)","z-index":"0",height:"190px"}},null,8,x)])):((0,o.uX)(),(0,o.CE)("div",D,B))])])])):((0,o.uX)(),(0,o.CE)("img",{key:0,src:h,class:"addImg mx-auto",onClick:t[1]||(t[1]=(0,g.D$)(((...e)=>n.openModal&&n.openModal(...e)),["stop"]))}))],8,C))),64))]),((0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[i.isModalOpen?((0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",M,[(0,o.Lk)("span",{class:"close",onClick:t[2]||(t[2]=(...e)=>n.closeModal&&n.closeModal(...e))},"×"),(0,o.Lk)("div",Q,[j,(0,o.Lk)("div",X,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredMileageInfo,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:(0,u.C4)(["btn-favorite favorite-item KB_C2",{selected:i.selectedFavorites.includes(e.mile_name)}]),onClick:t=>n.toggleFavorite(e.mile_name)},(0,u.v_)(e.mile_name),11,F)))),128))])]),(0,o.Lk)("div",K,[(0,o.Lk)("button",{class:"btn-gray KB_C2",onClick:t[3]||(t[3]=(...e)=>n.updateFavorites&&n.updateFavorites(...e)),style:{"font-size":"16pt",width:"20%","box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)"}}," 등록 ")])])])):(0,o.Q3)("",!0)]))])]))}a(4114);var ne=a(6278),le=a(7154),re=a(1179),ce=a.n(re),de={name:"FavoriteCom",data(){return{isModalOpen:!1,selectedFavorites:[],favCharts:{},isMobile:!1}},computed:{...(0,ne.L8)("mileage",["getArrayMileage"]),...(0,ne.L8)("favorite",["getArrayFavorite"]),...(0,ne.L8)("login",["getLoginInfo"]),...(0,ne.L8)("mileScore",["getArrayMileScore"]),filteredMileageInfo(){return"기획"==this.loginInfo.job_no?this.getArrayMileage.filter((e=>0==e.mile_is_branch)):this.getArrayMileage},favoriteList(){return this.getArrayFavorite},loginInfo(){return this.getLoginInfo},mileScores(){return this.getArrayMileScore}},methods:{...(0,ne.i0)("favorite",["changeFavorite"]),getMileageMax(e){const t=this.mileageInfo.find((t=>t.mile_name==e));return t?.mile_max??"a"},getMileageScore(e){const t=this.mileScores.find((t=>t.mile_no==e));return t?.mile_score_point??"0"},hasMileageData(e){const t=this.mileScores.find((t=>t.mile_no===e));return t&&(0!==t.mile_prev_score||0!==t.mile_score_point)},navigateToLink(e){const t=this.mileScores.find((t=>t.mile_no===e)),a=t?t.mile_link:null;a&&(window.location.href=a)},openModal(){document.body.style.overflow="hidden",this.isModalOpen=!0,this.selectedFavorites=this.favoriteList.map((e=>e.mile_no))},closeModal(){document.body.style.overflow="",this.isModalOpen=!1},toggleFavorite(e){this.selectedFavorites.includes(e)?this.selectedFavorites=this.selectedFavorites.filter((t=>t!==e)):this.selectedFavorites.length<4?this.selectedFavorites.push(e):this.showAlert()},showAlert(){this.$swal({title:"경고",text:"즐겨찾기는 최대 4개까지 선택할 수 있습니다.",icon:"warning",scrollbarPadding:!1})},updateFavorites(){this.$store.dispatch("favorite/changeFavorite",{user_no:this.loginInfo.user_no,favorites:this.selectedFavorites}).then((()=>{this.$store.dispatch("favorite/getFavorite",this.loginInfo.user_no),this.closeModal()})),this.closeModal()},async createChart(e,t,a){const o="chart"+e;await this.$nextTick();const s=this.$refs[o]?.[0];if(s&&s.getContext){this.favCharts[o]&&this.favCharts[o].destroy();const i=s.getContext("2d");this.favCharts[o]=new le.Ay(i,{type:"bar",data:{labels:["전월","당월"],datasets:[{label:`마일리지 ${t}`,data:[a.mile_prev_score,a.mile_score_point],backgroundColor:["#FF93E1","#64EDBC"],borderWidth:1}]},options:{animation:!1,scales:{y:{beginAtZero:!0,suggestedMin:0,suggestedMax:10}},plugins:{legend:{display:!1}}}}),console.log("Chart created for index:",e)}else console.warn(`Canvas element with id ${o} not found or does not support getContext.`)},async renderCharts(){console.log("Rendering charts...");for(let e=0;e<this.favoriteList.length;e++){const t=this.favoriteList[e],a=this.mileScores.find((e=>e.mile_no===t.mile_no));a&&await this.createChart(e,t.mile_no,a)}}},watch:{mileScores(e){console.log("mileScores updated:",e),this.renderCharts()},favoriteList(e){console.log("favoriteList updated:",e),this.renderCharts()}},async mounted(){console.log("FavoriteCom mounted");const e=new(ce())(window.navigator.userAgent);this.isMobile=null!==e.mobile(),this.loginInfo&&(await this.$store.dispatch("mileage/getMileage"),await this.$store.dispatch("favorite/getFavorite",this.loginInfo.user_no),await this.$store.dispatch("mileScore/getMileScore",this.loginInfo.user_no),console.log("mileScores after fetch:",this.mileScores),await this.renderCharts())},beforeUnmount(){for(let e in this.favCharts)this.favCharts[e]&&this.favCharts[e].destroy()},created(){console.log("FavoriteCom created")}},ge=a(6262);const ue=(0,ge.A)(de,[["render",ie],["__scopeId","data-v-e3fa688e"]]);var he=ue;const me=e=>((0,o.Qi)("data-v-0e4d3c48"),e=e(),(0,o.jt)(),e),pe={class:"cards card-white"},ve=me((()=>(0,o.Lk)("p",{class:"lg2 KB_S4 recommand-title"},[(0,o.Lk)("i",{class:"bi bi-award-fill",style:{color:"#ffca05"}}),(0,o.eW)(" 오늘의 추천 ")],-1))),ke={class:"flex",style:{"margin-left":"15px","margin-top":"30px",width:"65%"}},fe={key:0},Ce={class:"KB_S5 recommand-mention"},be=me((()=>(0,o.Lk)("br",null,null,-1))),Le={key:1},Ae=me((()=>(0,o.Lk)("div",{class:"KB_S5"}," 마일리지 점수가 하나 이상 있어야 멘트가 활성화됩니다. ",-1))),ye=[Ae],Ie=["src"];function _e(e,t,a,s,i,n){const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",pe,[ve,(0,o.Lk)("div",ke,[i.recommand&&i.recommand.mile_mention?((0,o.uX)(),(0,o.CE)("div",fe,[(0,o.Lk)("div",Ce,(0,u.v_)(i.recommand.mile_mention),1),be,(0,o.Lk)("div",null,[(0,o.bF)(l,{to:i.recommand.mile_link,style:{color:"#3C2511","text-decoration":"none"},class:"fw-bold"},{default:(0,o.k6)((()=>[(0,o.eW)("바로가기 >")])),_:1},8,["to"])])])):((0,o.uX)(),(0,o.CE)("div",Le,ye)),(0,o.Lk)("img",{src:i.randomImg,alt:"randomImg",class:"card-image"},null,8,Ie)])])}var xe=a(7682),De={name:"MileRecommand",data(){return{images:[a(3007),a(4708),a(7034),a(2146),a(11),a(8032),a(2857),a(3950),a(2263)],randomImg:null,recommand:null,dataLoaded:!1,checkLoginInfoInterval:null}},methods:{getRandomImg(){const e=Math.floor(Math.random()*this.images.length);return this.images[e]},async getRecommand(){console.log("Fetching recommand data...");try{const e=await xe.A.get(`/mileage/getRecommand/${this.loginInfo.user_no}`);this.recommand=e.data,console.log("Recommand data:",this.recommand),this.dataLoaded=!0}catch(e){console.error("Error fetching recommand data:",e),this.dataLoaded=!0}},checkLoginInfo(){console.log("Checking login info..."),this.loginInfo&&(clearInterval(this.checkLoginInfoInterval),console.log("Login info found:",this.loginInfo),this.getRecommand())}},mounted(){this.randomImg=this.getRandomImg(),console.log("Component mounted, random image set:",this.randomImg),this.checkLoginInfoInterval=setInterval((()=>{this.checkLoginInfo()}),1e3)},beforeUnmount(){this.checkLoginInfoInterval&&clearInterval(this.checkLoginInfoInterval)},computed:{...(0,ne.L8)("login",["getLoginInfo"]),loginInfo(){return this.getLoginInfo}}};const Ee=(0,ge.A)(De,[["render",_e],["__scopeId","data-v-0e4d3c48"]]);var Be=Ee;const we=e=>((0,o.Qi)("data-v-1cd7dad0"),e=e(),(0,o.jt)(),e),Me={class:"cards mileage-container"},Qe={class:"container d-flex justify-content-between"},je={class:"title lg2 KB_C2"},Xe=we((()=>(0,o.Lk)("i",{class:"bi bi-question-circle"},null,-1))),Fe=[Xe],Ke={key:0,class:"help-popover",ref:"helpPopover"},Se=we((()=>(0,o.Lk)("div",{style:{"font-size":"12pt"}},[(0,o.Lk)("span",null,[(0,o.eW)("최근 업데이트일자는 마일리지 정보가 가장 최근에 업데이트된 일자를 의미합니다. "),(0,o.Lk)("br"),(0,o.eW)(" 모든 마일리지가 이 날짜에 변경된 것은 아닐 수 있습니다.")])],-1))),Te=[Se],Pe={class:"tabs text-end lg2"},Je={class:"chart-display"};function We(e,t,a,s,i,n){const l=(0,o.g2)("AgeChart"),r=(0,o.g2)("PositionChart"),c=(0,o.g2)("JobChart");return(0,o.uX)(),(0,o.CE)("div",Me,[(0,o.Lk)("div",Qe,[(0,o.Lk)("div",je,[(0,o.eW)(" 별별 마일리지 "),(0,o.Lk)("span",{class:"mx-2 help-icon",onClick:t[0]||(t[0]=(...e)=>n.toggleHelpPopover&&n.toggleHelpPopover(...e)),ref:"helpIcon"},Fe,512),i.showHelpPopover?((0,o.uX)(),(0,o.CE)("div",Ke,Te,512)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Pe,[(0,o.Lk)("span",{onClick:t[1]||(t[1]=e=>i.selectedTab="age"),class:(0,u.C4)([{active:"age"===i.selectedTab,chartTab:!0},"chartTab"])},"연령별",2),(0,o.eW)(" |  "),(0,o.Lk)("span",{onClick:t[2]||(t[2]=e=>i.selectedTab="position"),class:(0,u.C4)([{active:"position"===i.selectedTab,chartTab:!0},"chartTab"])},"직급별",2),(0,o.eW)(" |  "),(0,o.Lk)("span",{onClick:t[3]||(t[3]=e=>i.selectedTab="job"),class:(0,u.C4)([{active:"job"===i.selectedTab,chartTab:!0},"chartTab"])},"직무별",2)])]),(0,o.Lk)("div",Je,["age"===i.selectedTab?((0,o.uX)(),(0,o.Wv)(l,{key:0})):(0,o.Q3)("",!0),"position"===i.selectedTab?((0,o.uX)(),(0,o.Wv)(r,{key:1})):(0,o.Q3)("",!0),"job"===i.selectedTab?((0,o.uX)(),(0,o.Wv)(c,{key:2})):(0,o.Q3)("",!0)])])}var ze=a(5584),He=a(3543);const Re=e=>((0,o.Qi)("data-v-0aa18339"),e=e(),(0,o.jt)(),e),Ge={key:0},Oe={class:"flex"},$e=Re((()=>(0,o.Lk)("div",{class:"chart-container mt-3"},[(0,o.Lk)("canvas",{id:"ageChart"})],-1))),Ue={class:"text-center w-60 mx-auto"},Ne=Re((()=>(0,o.Lk)("sup",null,[(0,o.Lk)("img",{src:ze,class:"quote mb-2"})],-1))),Ze={class:"KB_C2 ageSpan"},Ve={class:"KB_C2 ageSpan",style:{"font-size":"23px"}},qe={class:"KB_C2",ageSpan:""},Ye=Re((()=>(0,o.Lk)("sup",null,[(0,o.Lk)("img",{src:He,class:"quote mb-2"})],-1))),et={key:0,style:{"font-size":"13pt"}},tt={key:1,style:{"font-size":"13pt"}},at={key:2,style:{"font-size":"13pt"}},ot={class:"text-end w-100 mt-3"},st={class:"text-end",style:{"font-size":"10pt",color:"gray"}},it={key:1},nt={class:"flex"},lt=Re((()=>(0,o.Lk)("div",{class:"chart-container"},[(0,o.Lk)("canvas",{id:"ageChart"})],-1))),rt={class:"text-center w-60 mx-auto mt-5"},ct=Re((()=>(0,o.Lk)("sup",null,[(0,o.Lk)("img",{src:ze,class:"quote mb-2"})],-1))),dt={class:"KB_C2 ageSpan"},gt={class:"KB_C2 ageSpan"},ut={class:"KB_C2 ageSpan"},ht=Re((()=>(0,o.Lk)("sup",null,[(0,o.Lk)("img",{src:He,class:"quote mb-2"})],-1))),mt={key:0,style:{"font-size":"13pt"}},pt={key:1,style:{"font-size":"13pt"}},vt={key:2,style:{"font-size":"13pt"}},kt={class:"text-end w-100 mt-3"},ft={class:"text-end",style:{"font-size":"10pt",color:"gray"}};function Ct(e,t,a,s,i,n){return i.isMobile?((0,o.uX)(),(0,o.CE)("div",it,[(0,o.Lk)("div",nt,[lt,(0,o.Lk)("div",rt,[(0,o.Lk)("p",null,[ct,(0,o.eW)("   "),(0,o.Lk)("span",dt,(0,u.v_)(i.userData[0]+0+"대")+" 마일리지 총 평균 : ",1),(0,o.Lk)("span",gt,[(0,o.Lk)("mark",ut,(0,u.v_)(i.ageChartData[i.userData[0]-2])+"점",1)]),(0,o.eW)("  "),ht]),i.userData[1]>i.ageChartData[i.userData[0]-2]?((0,o.uX)(),(0,o.CE)("div",mt,' "대단해요! '+(0,u.v_)(i.userData[0]+0+"대")+' 평균보다 더 많은 점수를 획득하셨어요. 멋진 성과입니다!" ',1)):i.userData[1]==i.ageChartData[i.userData[0]-2]?((0,o.uX)(),(0,o.CE)("div",pt,' "정말 멋져요! '+(0,u.v_)(i.userData[0]+0+"대")+' 평균과 점수가 비슷해요. 계속해서 좋은 성과를 기대할게요!" ',1)):i.userData[1]<i.ageChartData[i.userData[0]-2]?((0,o.uX)(),(0,o.CE)("div",vt,' "지금도 충분히 잘하고 계세요. 조금만 더 노력하면 '+(0,u.v_)(i.userData[0]+0+"대")+' 평균을 넘을 수 있을 거예요!" ',1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",kt,[(0,o.Lk)("span",ft,"( 최근 업데이트 : "+(0,u.v_)(i.userData[2])+" )",1)])])])):((0,o.uX)(),(0,o.CE)("div",Ge,[(0,o.Lk)("div",Oe,[$e,(0,o.Lk)("div",Ue,[(0,o.Lk)("p",null,[Ne,(0,o.eW)("   "),(0,o.Lk)("span",Ze,(0,u.v_)(i.userData[0]?i.userData[0]+0+"대":"")+" 마일리지 총 평균 : ",1),(0,o.Lk)("span",Ve,[(0,o.Lk)("mark",qe,(0,u.v_)(i.ageChartData[i.userData[0]-2])+"점",1)]),(0,o.eW)("  "),Ye]),i.userData[1]>i.ageChartData[i.userData[0]-2]?((0,o.uX)(),(0,o.CE)("div",et,' "대단해요! '+(0,u.v_)(i.userData[0]?i.userData[0]+0+"대":"")+' 평균보다 더 많은 점수를 획득하셨어요. 멋진 성과입니다!" ',1)):i.userData[1]==i.ageChartData[i.userData[0]-2]?((0,o.uX)(),(0,o.CE)("div",tt,' "정말 멋져요! '+(0,u.v_)(i.userData[0]?i.userData[0]+0+"대":"")+' 평균과 점수가 비슷해요. 계속해서 좋은 성과를 기대할게요!" ',1)):i.userData[1]<i.ageChartData[i.userData[0]-2]?((0,o.uX)(),(0,o.CE)("div",at,' "지금도 충분히 잘하고 계세요. 조금만 더 노력하면 '+(0,u.v_)(i.userData[0]?i.userData[0]+0+"대":"")+' 평균을 넘을 수 있을 거예요!" ',1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ot,[(0,o.Lk)("span",st,"( 최근 업데이트 : "+(0,u.v_)(i.userData[2])+" )",1)])]))}var bt=a(6118),Lt={name:"AgeChart",data(){return{ageChartData:[],userData:[],isMobile:!1}},computed:{...(0,ne.L8)("mileScore",["getMileAges"]),...(0,ne.L8)("login",["getLoginInfo"]),mileAges(){return this.getMileAges}},methods:{...(0,ne.i0)("mileScore",["getMileAge"]),createChart(){bt.t1.getChart("ageChart")?.destroy();const e=document.getElementById("ageChart").getContext("2d");new bt.t1(e,{type:"doughnut",data:{labels:["20대","30대","40대","50대 이상"],datasets:[{data:this.ageChartData,backgroundColor:["#FFAAE7","#E4E4E4","#FFE78F","#9FEDD1"]}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{position:"right",padding:20}}},layout:{padding:{top:20,bottom:30}}})},async loadMileAgeData(){await this.getMileAge(this.getLoginInfo.user_no),this.mileAges?(this.ageChartData=[this.mileAges.mile20,this.mileAges.mile30,this.mileAges.mile40,this.mileAges.mile50],this.userData=[this.mileAges.user_age.toString().substring(0,1),this.mileAges.user_sum,this.mileAges.mile_date],this.$nextTick((()=>{this.createChart()}))):console.error("No data available for mileAges")}},mounted(){const e=new(ce())(window.navigator.userAgent);this.isMobile=null!==e.mobile()},async created(){await this.loadMileAgeData()},beforeUnmount(){bt.t1.getChart("ageChart")?.destroy()}};const At=(0,ge.A)(Lt,[["render",Ct],["__scopeId","data-v-0aa18339"]]);var yt=At;const It=e=>((0,o.Qi)("data-v-4faac1fb"),e=e(),(0,o.jt)(),e),_t={key:0,class:"flex"},xt=It((()=>(0,o.Lk)("div",{class:"chart-container mt-4"},[(0,o.Lk)("canvas",{id:"positionChart"})],-1))),Dt={class:"text-container mx-auto mt-3"},Et={key:0},Bt=It((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},[(0,o.Lk)("span",{class:"lg"},"🙌🏻"),(0,o.eW)(" 정말 대단하세요! ")],-1))),wt=It((()=>(0,o.Lk)("p",null,"당신의 마일리지 점수는 직급별 평균점수보다 높습니다. ",-1))),Mt=[Bt,wt],Qt={key:1},jt=It((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},[(0,o.Lk)("span",{class:"lg"},"🙌🏻"),(0,o.eW)(" 정말 대단하세요!")],-1))),Xt=It((()=>(0,o.Lk)("p",null,"당신의 마일리지 점수는 직급별 평균점수와 비슷합니다. ",-1))),Ft=[jt,Xt],Kt={key:2},St=It((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},[(0,o.Lk)("span",{class:"lg"},"💪🏻"),(0,o.eW)(" 아자아자 화이팅!")],-1))),Tt={class:"table table-bordered table-gray mt-3"},Pt={class:"text-end",style:{"font-size":"10pt",color:"gray"}},Jt={class:"KB_C2"},Wt=It((()=>(0,o.Lk)("td",{class:"KB_C2"},"나의 평균",-1))),zt={key:1},Ht=It((()=>(0,o.Lk)("div",{class:"chart-container mt-4"},[(0,o.Lk)("canvas",{id:"positionChart"})],-1))),Rt={class:"text-container mx-auto mt-3"},Gt={key:0},Ot=It((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},[(0,o.Lk)("span",{class:"lg"},"🙌🏻"),(0,o.eW)(" 정말 대단하세요! ")],-1))),$t=It((()=>(0,o.Lk)("p",null,"당신의 마일리지 점수는 직급별 평균점수보다 높습니다. ",-1))),Ut=[Ot,$t],Nt={key:1},Zt=It((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},[(0,o.Lk)("span",{class:"lg"},"🙌🏻"),(0,o.eW)(" 정말 대단하세요!")],-1))),Vt=It((()=>(0,o.Lk)("p",null,"당신의 마일리지 점수는 직급별 평균점수와 비슷합니다. ",-1))),qt=[Zt,Vt],Yt={key:2},ea=It((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},[(0,o.Lk)("span",{class:"lg"},"💪🏻"),(0,o.eW)(" 아자아자 화이팅!")],-1))),ta={class:"table table-bordered table-gray mt-3"},aa={class:"text-end",style:{"font-size":"10pt",color:"gray"}},oa={class:"KB_C2"},sa=It((()=>(0,o.Lk)("td",{class:"KB_C2"},"나의 평균",-1)));function ia(e,t,a,s,i,n){return i.isMobile?((0,o.uX)(),(0,o.CE)("div",zt,[Ht,(0,o.Lk)("div",Rt,[i.userData[1]>i.positionData[i.userData[0]-1]?((0,o.uX)(),(0,o.CE)("div",Gt,Ut)):i.userData[1]==i.positionData[i.userData[0]-1]?((0,o.uX)(),(0,o.CE)("div",Nt,qt)):i.userData[1]<i.positionData[i.userData[0]-1]?((0,o.uX)(),(0,o.CE)("div",Yt,[ea,(0,o.Lk)("p",null,'"'+(0,u.v_)(e.getLoginInfo.position_no)+'" 직급의 평균에 도달하는 날이 멀지 않았어요. ',1)])):(0,o.Q3)("",!0),(0,o.Lk)("table",ta,[(0,o.Lk)("caption",aa,"( 최근 업데이트 : "+(0,u.v_)(i.userData[2])+" )",1),(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",oa,(0,u.v_)(e.getLoginInfo.position_no)+" 직급 평균",1),sa])]),(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,(0,u.v_)(i.positionData[i.userData[0]-1]),1),(0,o.Lk)("td",null,(0,u.v_)(i.userData[1]),1)])])])])])):((0,o.uX)(),(0,o.CE)("div",_t,[xt,(0,o.Lk)("div",Dt,[i.userData[1]>i.positionData[i.userData[0]-1]?((0,o.uX)(),(0,o.CE)("div",Et,Mt)):i.userData[1]==i.positionData[i.userData[0]-1]?((0,o.uX)(),(0,o.CE)("div",Qt,Ft)):i.userData[1]<i.positionData[i.userData[0]-1]?((0,o.uX)(),(0,o.CE)("div",Kt,[St,(0,o.Lk)("p",null,'"'+(0,u.v_)(e.getLoginInfo.position_no)+'" 직급의 평균에 도달하는 날이 멀지 않았어요. ',1)])):(0,o.Q3)("",!0),(0,o.Lk)("table",Tt,[(0,o.Lk)("caption",Pt,"( 최근 업데이트 : "+(0,u.v_)(i.userData[2])+" )",1),(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",Jt,(0,u.v_)(e.getLoginInfo.position_no)+" 직급 평균",1),Wt])]),(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,(0,u.v_)(i.positionData[i.userData[0]-1]),1),(0,o.Lk)("td",null,(0,u.v_)(i.userData[1]),1)])])])])]))}var na={name:"PositionChart",data(){return{positionData:[],userData:[],positionChart:null,isMobile:!1}},computed:{...(0,ne.L8)("mileScore",["getMilePositions"]),...(0,ne.L8)("login",["getLoginInfo"])},methods:{...(0,ne.i0)("mileScore",["getMilePosition"]),createChart(){const e=document.getElementById("positionChart").getContext("2d");this.positionChart&&this.positionChart.destroy();const t=this.userData,a={id:"customPlugin",afterDatasetsDraw:e=>{const{ctx:a,data:o,chartArea:{top:s}}=e;a.save();const i=o.datasets[0];i.data.forEach(((o,i)=>{const n=e.getDatasetMeta(0),l=n.data[i],r=l.getCenterPoint(),c=10,d=60,g=30,u=10,h=10;a.textAlign="center",a.textBaseline="bottom",a.fillStyle="#000",i===t[0]-1&&(a.fillStyle="white",a.strokeStyle="#CBCBCB",a.lineWidth=1,a.beginPath(),a.moveTo(r.x-d/2+15,s+l.y-g-h-c+5),a.lineTo(r.x+d/2-15,s+l.y-g-h-c+5),a.lineTo(r.x+d/2-15,s+l.y-h-c-3),a.lineTo(r.x+u/2,s+l.y-h-c-3),a.lineTo(r.x,s+l.y-c-5),a.lineTo(r.x-u/2,s+l.y-h-c-3),a.lineTo(r.x-d/2+15,s+l.y-h-c-3),a.closePath(),a.fill(),a.stroke(),a.fillStyle="#000",a.fillText("My",r.x,s+l.y-g-c+13))})),a.restore()}};this.chart=new bt.t1(e,{type:"bar",data:{labels:["계장","대리","과장","차장","부장"],datasets:[{data:this.positionData,backgroundColor:["#FFD46A","#FFDA81","#FFE196","#FFE9B5","#FFEDC1"],barThickness:30,maxBarThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},plugins:[a]})},async loadMilePositionData(){if(await this.getMilePosition(this.getLoginInfo.user_no),await this.$nextTick(),this.getMilePositions){const e=this.getMilePositions;this.positionData=[e.mile_position1,e.mile_position2,e.mile_position3,e.mile_position4,e.mile_position5],this.userData=[e.user_position,e.user_sum,e.mile_date],this.createChart()}else console.error("No data available for milePosition")}},beforeUnmount(){this.positionChart&&this.positionChart.destroy()},async mounted(){const e=new(ce())(window.navigator.userAgent);this.isMobile=null!==e.mobile(),await this.loadMilePositionData()}};const la=(0,ge.A)(na,[["render",ia],["__scopeId","data-v-4faac1fb"]]);var ra=la;const ca=e=>((0,o.Qi)("data-v-4ba012f8"),e=e(),(0,o.jt)(),e),da={key:0,style:{width:"100%",height:"100%",margin:"0"}},ga={class:"flex"},ua=ca((()=>(0,o.Lk)("div",{class:"chart-container mt-3",style:{width:"45%","margin-left":"29px"}},[(0,o.Lk)("canvas",{id:"jobChart"})],-1))),ha={class:"text-center mx-auto",style:{width:"45%"}},ma=ca((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},"직무별 마일리지 인사이트",-1))),pa=ca((()=>(0,o.Lk)("hr",null,null,-1))),va={key:0},ka=ca((()=>(0,o.Lk)("br",null,null,-1))),fa={key:1},Ca=ca((()=>(0,o.Lk)("br",null,null,-1))),ba={key:2},La=ca((()=>(0,o.Lk)("br",null,null,-1))),Aa={class:"progress-container mx-auto",style:{"margin-top":"80px",width:"90%"}},ya=ca((()=>(0,o.Lk)("span",null,"나의 직급위치",-1))),Ia=ca((()=>(0,o.Lk)("div",{class:"progress-bar"},null,-1))),_a=ca((()=>(0,o.Lk)("span",null,"My",-1))),xa=[_a],Da={class:"indicator average",style:{left:"50%","margin-bottom":"12px"}},Ea={class:"text-end w-100 mt-3"},Ba={class:"text-end",style:{"font-size":"10pt",color:"gray"}},wa={key:1},Ma={class:"flex"},Qa=ca((()=>(0,o.Lk)("div",{class:"chart-container"},[(0,o.Lk)("canvas",{id:"jobChart"})],-1))),ja={class:"text-center mx-auto",style:{width:"90%"}},Xa=ca((()=>(0,o.Lk)("p",{class:"KB_C2 lg2"},"직무별 마일리지 인사이트",-1))),Fa=ca((()=>(0,o.Lk)("hr",null,null,-1))),Ka={key:0},Sa={key:1},Ta={key:2},Pa={class:"progress-container mx-auto",style:{"margin-top":"55px",width:"90%"}},Ja=ca((()=>(0,o.Lk)("span",null,null,-1))),Wa=ca((()=>(0,o.Lk)("div",{class:"progress-bar"},null,-1))),za=ca((()=>(0,o.Lk)("span",null,"My",-1))),Ha=[za],Ra={class:"indicator average",style:{left:"50%","margin-bottom":"12px"}},Ga={class:"text-start w-100 mt-2"},Oa={class:"text-end",style:{"font-size":"10pt",color:"gray"}};function $a(e,t,a,s,i,n){return i.isMobile?((0,o.uX)(),(0,o.CE)("div",wa,[(0,o.Lk)("div",Ma,[Qa,(0,o.Lk)("div",ja,[Xa,Fa,i.userData[0]>i.jobChartData[i.jobNo]?((0,o.uX)(),(0,o.CE)("div",Ka,[(0,o.Lk)("span",null,[(0,o.Lk)("strong",null,'"'+(0,u.v_)(i.userData[2])+'"',1),(0,o.eW)(" 직무의 평균 점수를 뛰어넘는 성과를 이루셨습니다. 뛰어난 성과에 박수를 보냅니다! 앞으로도 많은 발전을 기원합니다. ")])])):(0,o.Q3)("",!0),i.userData[0]==i.jobChartData[i.jobNo]?((0,o.uX)(),(0,o.CE)("div",Sa,[(0,o.Lk)("span",null,[(0,o.Lk)("strong",null,'"'+(0,u.v_)(i.userData[2])+'"',1),(0,o.eW)(" 직무의 평균 점수에 도달했습니다. 좋은 성과입니다! 앞으로 더 높은 목표를 향해 나아가세요.")])])):(0,o.Q3)("",!0),i.userData[0]<i.jobChartData[i.jobNo]?((0,o.uX)(),(0,o.CE)("div",Ta,[(0,o.Lk)("span",null,[(0,o.Lk)("strong",null,'"'+(0,u.v_)(i.userData[2])+'"',1),(0,o.eW)(" 직무의 평균 점수에 도달하지 못했습니다. 지금도 충분히 잘하고 계십니다. 앞으로 더 좋은 성과를 기대합니다! ")])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Pa,[Ja,Wa,(0,o.Lk)("div",{class:"indicator",style:(0,u.Tr)({left:n.relativeUserScorePercentage+"%"})},Ha,4),(0,o.Lk)("div",Ra,[(0,o.Lk)("span",null,(0,u.v_)(i.userData[2]),1)])])])]),(0,o.Lk)("div",Ga,[(0,o.Lk)("span",Oa,"( 최근 업데이트 : "+(0,u.v_)(i.userData[1])+" )",1)])])):((0,o.uX)(),(0,o.CE)("div",da,[(0,o.Lk)("div",ga,[ua,(0,o.Lk)("div",ha,[ma,pa,i.userData[0]>i.jobChartData[i.jobNo]?((0,o.uX)(),(0,o.CE)("div",va,[(0,o.Lk)("span",null,[(0,o.Lk)("strong",null,'"'+(0,u.v_)(i.userData[2])+'"',1),(0,o.eW)(" 직무의 평균 점수를 뛰어넘는 성과를 이루셨습니다. "),ka,(0,o.eW)(" 뛰어난 성과에 박수를 보냅니다! 앞으로도 많은 발전을 기원합니다. ")])])):(0,o.Q3)("",!0),i.userData[0]==i.jobChartData[i.jobNo]?((0,o.uX)(),(0,o.CE)("div",fa,[(0,o.Lk)("span",null,[(0,o.Lk)("strong",null,'"'+(0,u.v_)(i.userData[2])+'"',1),(0,o.eW)(" 직무의 평균 점수에 도달했습니다. "),Ca,(0,o.eW)(" 좋은 성과입니다! 앞으로 더 높은 목표를 향해 나아가세요.")])])):(0,o.Q3)("",!0),i.userData[0]<i.jobChartData[i.jobNo]?((0,o.uX)(),(0,o.CE)("div",ba,[(0,o.Lk)("span",null,[(0,o.Lk)("strong",null,'"'+(0,u.v_)(i.userData[2])+'"',1),(0,o.eW)(" 직무의 평균 점수에 도달하지 못했습니다. "),La,(0,o.eW)(" 지금도 충분히 잘하고 계십니다. 앞으로 더 좋은 성과를 기대합니다! ")])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Aa,[ya,Ia,(0,o.Lk)("div",{class:"indicator",style:(0,u.Tr)({left:n.relativeUserScorePercentage+"%"})},xa,4),(0,o.Lk)("div",Da,[(0,o.Lk)("span",null,(0,u.v_)(i.userData[2]),1)])])])]),(0,o.Lk)("div",Ea,[(0,o.Lk)("span",Ba,"( 최근 업데이트 : "+(0,u.v_)(i.userData[1])+" )",1)])]))}var Ua={name:"JobChart",data(){return{isMobile:!1,jobChart:null,jobChartData:[],userData:[],jobs:["개인","기업","기획"],maxValue:null,minValue:null,idxMax:null,jobNo:null,colors:["rgba(255,170,231,0.7)","rgba(111,191,244,0.7)","rgba(255,231,143,0.7)"]}},computed:{...(0,ne.L8)("mileScore",["getMileJobs"]),...(0,ne.L8)("login",["getLoginInfo"]),mileJobs(){return this.getMileJobs},relativeUserScorePercentage(){const e=this.jobChartData[this.jobNo],t=this.userData[0],a=t-e,o=Math.max(this.maxValue-e,e-this.minValue);return 50+a/o*50>=100?100:50+a/o*50}},methods:{...(0,ne.i0)("mileScore",["getMileJob"]),createChart(){var e=document.getElementById("jobChart").getContext("2d");new bt.t1(e,{type:"bubble",data:{datasets:[{label:this.jobs[0],data:[{x:this.jobChartData[0],y:this.jobChartData[0],r:this.jobChartData[0]/10}],backgroundColor:this.colors[0]},{label:this.jobs[1],data:[{x:this.jobChartData[1],y:this.jobChartData[1],r:this.jobChartData[1]/10}],backgroundColor:this.colors[1]},{label:this.jobs[2],data:[{x:this.jobChartData[2],y:this.jobChartData[2],r:this.jobChartData[2]/50}],backgroundColor:this.colors[2]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!1,min:100*Math.floor(this.minValue/100)-500,max:100*Math.ceil(this.maxValue/100)+500,ticks:{stepSize:100}},y:{min:100*Math.floor(this.minValue/100)-500,max:100*Math.ceil(this.maxValue/100)+500,ticks:{stepSize:100}}},plugins:{legend:{display:!0,position:"right"},tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"",a=e.parsed.x;return t+": "+a}}}}}})},createMobileChart(){var e=document.getElementById("jobChart").getContext("2d");new bt.t1(e,{type:"bubble",data:{datasets:[{label:this.jobs[0],data:[{x:this.jobChartData[0],y:this.jobChartData[0],r:this.jobChartData[0]/50}],backgroundColor:this.colors[0]},{label:this.jobs[1],data:[{x:this.jobChartData[1],y:this.jobChartData[1],r:this.jobChartData[1]/50}],backgroundColor:this.colors[1]},{label:this.jobs[2],data:[{x:this.jobChartData[2],y:this.jobChartData[2],r:this.jobChartData[2]/50}],backgroundColor:this.colors[2]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!1,min:100*Math.floor(this.minValue/100)-500,max:100*Math.ceil(this.maxValue/100)+500,ticks:{stepSize:100}},y:{min:100*Math.floor(this.minValue/100)-500,max:100*Math.ceil(this.maxValue/100)+500,ticks:{stepSize:100}}},plugins:{legend:{display:!0,position:"right"},tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"",a=e.parsed.x;return t+": "+a}}}}}})},async loadMileJobData(){try{await this.getMileJob(this.getLoginInfo.user_no),this.mileJobs?(console.log("Fetched mileJobs:",this.mileJobs),this.jobChartData=[this.mileJobs.job1,this.mileJobs.job2,this.mileJobs.job3],this.userData=[this.mileJobs.user_sum,this.mileJobs.mile_date,this.mileJobs.user_job],this.idxMax=this.jobChartData.indexOf(Math.max(...this.jobChartData)),this.maxValue=Math.max(...this.jobChartData),this.minValue=Math.min(...this.jobChartData),this.jobNo=this.jobs.indexOf(this.userData[2]),this.$nextTick((()=>{this.isMobile?this.createMobileChart():this.createChart()}))):console.error("No data available for mileJobs")}catch(e){console.error("Error loading mileJobs data:",e)}}},async mounted(){const e=new(ce())(window.navigator.userAgent);this.isMobile=null!==e.mobile(),await this.loadMileJobData()},beforeUnmount(){this.jobChart&&this.jobChart.destroy()}};const Na=(0,ge.A)(Ua,[["render",$a],["__scopeId","data-v-4ba012f8"]]);var Za=Na,Va={name:"AttendanceCom",components:{AgeChart:yt,PositionChart:ra,JobChart:Za},data(){return{selectedTab:"age",showHelpPopover:!1}},computed:{},methods:{toggleHelpPopover(e){e.stopPropagation(),console.log("toggleHelpPopover 클릭"),this.showHelpPopover=!this.showHelpPopover,console.log("showHelpPopover:",this.showHelpPopover),this.showHelpPopover?document.addEventListener("click",this.handleClickOutside):document.removeEventListener("click",this.handleClickOutside)},handleClickOutside(e){console.log("handleClickOutside 실행"),!this.$refs.helpPopover||this.$refs.helpPopover.contains(e.target)||this.$refs.helpIcon.contains(e.target)||(console.log("팝오버 닫기"),this.showHelpPopover=!1,document.removeEventListener("click",this.handleClickOutside))}},mounted(){},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}};const qa=(0,ge.A)(Va,[["render",We],["__scopeId","data-v-1cd7dad0"]]);var Ya=qa;const eo={class:"cards card-white attendance-component"},to={class:"lg2 KB_S4 text-center position-relative",style:{"margin-bottom":"0px"}},ao=(0,o.Lk)("i",{class:"bi bi-calendar-check",style:{color:"#42b983"}},null,-1),oo=(0,o.Lk)("i",{class:"bi bi-chevron-double-right",style:{color:"gray"}},null,-1),so=[oo],io={class:"calendar-container",style:{"margin-top":"13px"}},no=(0,o.Lk)("i",{class:"bi bi-chevron-left"},null,-1),lo=(0,o.Lk)("i",{class:"bi bi-chevron-right"},null,-1),ro={key:1,class:"loading-indicator"};function co(e,t,a,s,i,n){const l=(0,o.g2)("vue-cal"),r=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)("div",eo,[(0,o.Lk)("p",to,[ao,(0,o.eW)("   출석체크 "),(0,o.Lk)("span",{class:"expand-icon",onClick:t[0]||(t[0]=(0,g.D$)(((...e)=>n.openModal&&n.openModal(...e)),["stop"])),style:{cursor:"pointer"}},so)]),(0,o.Lk)("div",io,[i.dataLoaded?((0,o.uX)(),(0,o.Wv)(l,{key:0,class:"vuecal--custom-theme vuecal--rounded-theme vuecal--date-picker","hide-view-selector":"",time:!1,"active-view":"month",xsmall:"",style:{height:"300px"},"events-count-on-year-view":"",events:n.attendanceEvents,"time-from":600,"disable-views":["day"]},{"arrow-prev":(0,o.k6)((()=>[no])),"arrow-next":(0,o.k6)((()=>[lo])),_:1},8,["events"])):((0,o.uX)(),(0,o.CE)("div",ro,"데이터 로딩 중..."))]),((0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[i.isModalOpen?((0,o.uX)(),(0,o.Wv)(r,{key:0,onClose:n.closeModal},null,8,["onClose"])):(0,o.Q3)("",!0)]))])}var go=a(6150),uo=a(8870),ho={components:{VueCal:go.A,Modal:uo.A},name:"AttendanceCom",data(){return{dataLoaded:!1,isModalOpen:!1}},computed:{...(0,ne.L8)("attendance",["getArrayAttendance"]),...(0,ne.L8)("login",["getLoginInfo"]),attendanceEvents(){return this.getArrayAttendance}},methods:{...(0,ne.i0)("attendance",["getAttendance"]),openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},async loadAttendanceData(){try{await this.getAttendance(this.getLoginInfo.user_no),this.dataLoaded=!0}catch(e){console.error("출석 데이터 로딩 실패:",e)}}},mounted(){this.loadAttendanceData()}};const mo=(0,ge.A)(ho,[["render",co]]);var po=mo;const vo={key:0},ko={key:"profile",class:"cards fade-up-item profile-cards mx-auto"},fo={class:"profile-container"},Co=["src"],bo={class:"profile-header mt-3"},Lo={class:"lg KB_S4 my-1"},Ao={class:"md",style:{"margin-bottom":"0px"}},yo={class:"md mb-2",style:{"margin-bottom":"0px"}},Io={key:1},_o={key:"profile",class:"cards fade-up-item profile-cards mx-auto"},xo={class:"profile-container d-flex justify-content-between align-items-center"},Do=["src"],Eo={class:"mr-4 mt-2 pl-4"},Bo={class:"profile-header mt-3"},wo={class:"lg KB_S4 my-1"},Mo={class:"md",style:{"margin-bottom":"0px"}},Qo={class:"md mb-2",style:{"margin-bottom":"0px"}};function jo(e,t,a,s,i,n){return i.isMobile?((0,o.uX)(),(0,o.CE)("div",Io,[(0,o.Lk)("div",_o,[(0,o.Lk)("div",xo,[n.loginInfo&&n.loginInfo.user_no?((0,o.uX)(),(0,o.CE)("img",{key:0,src:n.profileImageUrl,class:"profile-large my-3",alt:"Profile Picture",onError:t[3]||(t[3]=(...e)=>n.setDefaultImage&&n.setDefaultImage(...e))},null,40,Do)):(0,o.Q3)("",!0),(0,o.Lk)("div",Eo,[(0,o.Lk)("div",Bo,[(0,o.Lk)("h2",wo,(0,u.v_)(n.loginInfo?n.loginInfo.user_name:""),1)]),(0,o.Lk)("p",Mo,(0,u.v_)(n.loginInfo?`${n.loginInfo.level_no||""} ${n.loginInfo.position_no||""} | ${n.loginInfo.job_no||""} 직무`:""),1),(0,o.Lk)("p",Qo,(0,u.v_)(n.loginInfo?`${n.loginInfo.dp_no}`:""),1),n.loginInfo&&"기획"===n.loginInfo.job_no?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn-yellow KB_C2 my-3",onClick:t[4]||(t[4]=(...e)=>n.goToMile&&n.goToMile(...e))}," 나의 마일리지 ")):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn-yellow KB_C2 my-3",onClick:t[5]||(t[5]=(...e)=>n.goToAIView&&n.goToAIView(...e))}," 나의 AI 리포트 "))])])])])):((0,o.uX)(),(0,o.CE)("div",vo,[(0,o.Lk)("div",ko,[(0,o.Lk)("div",fo,[n.loginInfo&&n.loginInfo.user_no?((0,o.uX)(),(0,o.CE)("img",{key:0,src:n.profileImageUrl,class:"profile-large my-3",alt:"Profile Picture",onError:t[0]||(t[0]=(...e)=>n.setDefaultImage&&n.setDefaultImage(...e))},null,40,Co)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",bo,[(0,o.Lk)("h2",Lo,(0,u.v_)(n.loginInfo?n.loginInfo.user_name:""),1)]),(0,o.Lk)("p",Ao,(0,u.v_)(n.loginInfo?`${n.loginInfo.level_no||""} ${n.loginInfo.position_no||""} | ${n.loginInfo.job_no||""} 직무`:""),1),(0,o.Lk)("p",yo,(0,u.v_)(n.loginInfo?`${n.loginInfo.dp_no}`:""),1),n.loginInfo&&"기획"===n.loginInfo.job_no?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn-yellow KB_C2 my-3",onClick:t[1]||(t[1]=(...e)=>n.goToMile&&n.goToMile(...e))}," 나의 마일리지 ")):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn-yellow KB_C2 my-3",onClick:t[2]||(t[2]=(...e)=>n.goToAIView&&n.goToAIView(...e))}," 나의 AI 리포트 "))])]))}var Xo={name:"ProfileCom",data(){return{badgeList:[],isMobile:!1}},computed:{...(0,ne.L8)("login",["getLoginInfo"]),profileImageUrl(){return this.loginInfo&&this.loginInfo.user_no?`/profile/${this.loginInfo.user_no}.jpg`:""},loginInfo(){const e=this.getLoginInfo;return e?{...e,position_no:e.position_no||"",level_no:e.level_no||"",job_no:e.job_no||"",dp_no:e.dp_no||""}:null},hasKingBadge(){return this.badgeList.some((e=>e.user_no===this.loginInfo.user_no&&!0===e._king))},hasJumpBadge(){return this.badgeList.some((e=>e.user_no===this.loginInfo.user_no&&!0===e._jump))}},methods:{setDefaultImage(e){e.target.src=a(6468)},goToAIView(){window.location.href="/AI_Report"},goToMile(){window.location.href="/myMileageView"},async badgeData(){try{const e=await xe.A.post("/user/badgeList",{user_no:this.loginInfo.user_no});this.badgeList=e.data,console.log("배지 서비스:",this.badgeList)}catch(e){console.error("배지 서비스 오류:",e)}}},mounted(){const e=new(ce())(window.navigator.userAgent);this.isMobile=null!==e.mobile(),this.loginInfo&&this.loginInfo.user_no&&this.badgeData()}};const Fo=(0,ge.A)(Xo,[["render",jo],["__scopeId","data-v-2150490e"]]);var Ko=Fo,So={name:"UserMainView",components:{favorite:he,recommand:Be,milageCharts:Ya,attendance:po,profile:Ko},data(){return{isMobile:!1}},created(){this.checkLoginInfo()},computed:{...(0,ne.L8)("login",["getLoginInfo","getIsChecked"]),loginInfo(){return this.getLoginInfo}},methods:{checkLoginInfo(){(!this.getLoginInfo||this.getLoginInfo&&1==this.getIsChecked)&&(window.location.href="/noAccess")},setTransitionDelay(e,t){e.style.setProperty("--index",t)}},mounted(){const e=new(ce())(window.navigator.userAgent);this.isMobile=null!==e.mobile(),this.$nextTick((()=>{const e=this.$el.querySelectorAll(".fade-up-item");e.forEach(((e,t)=>{e.style.setProperty("--index",t),e.style.setProperty("z-index",10-t),setTimeout((()=>{e.classList.add("fade-up-active")}),100*t)}))}))}};const To=(0,ge.A)(So,[["render",d],["__scopeId","data-v-6111657b"]]);var Po=To},5584:function(e,t,a){e.exports=a.p+"img/left-quote.79fcccda.png"},3543:function(e,t,a){e.exports=a.p+"img/right-quote.0262f354.png"},3007:function(e,t,a){e.exports=a.p+"img/1.c152b0f8.png"},4708:function(e,t,a){e.exports=a.p+"img/2.711a9678.png"},7034:function(e,t,a){e.exports=a.p+"img/3.bfa4b895.png"},2146:function(e,t,a){e.exports=a.p+"img/4.1cf87dd6.png"},11:function(e,t,a){e.exports=a.p+"img/5.5977a811.png"},8032:function(e,t,a){e.exports=a.p+"img/6.9269f398.png"},2857:function(e,t,a){e.exports=a.p+"img/7.ee3dd3db.png"},3950:function(e,t,a){e.exports=a.p+"img/8.49dcda10.png"},2263:function(e,t,a){e.exports=a.p+"img/9.36ff7324.png"},7154:function(e,t,a){var o=a(6118);o.t1.register(...o.$L),t.Ay=o.t1}}]);
//# sourceMappingURL=1081.5a58ef4c.js.map