"use strict";(self["webpackChunkmile"]=self["webpackChunkmile"]||[]).push([[5326],{5326:function(t,e,n){n.r(e),n.d(e,{default:function(){return Pt}});var i=n(641),o=n(33);const a=t=>((0,i.Qi)("data-v-537c5bfb"),t=t(),(0,i.jt)(),t),r={class:"cards page-back mx-auto",style:{color:"#4b4a4a"}},s={class:"d-flex p-4"},l=a((()=>(0,i.Lk)("p",{class:"lg2"},[(0,i.Lk)("i",{class:"bi bi-chevron-left lg2 border border-secondary p-2 rounded-2"}),(0,i.eW)("  이전 ")],-1))),c=[l],u={class:"input-base input-search d-flex justify-content-center mx-auto my-3",style:{width:"600px",background:"#ebebeb"}};function d(t,e,n,a,l,d){return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("div",s,[(0,i.Lk)("button",{type:"button",onClick:e[0]||(e[0]=(...t)=>d.goBack&&d.goBack(...t))},c)]),(0,i.Lk)("h2",{class:"bold-x-lg mb-5 ml-5 help-icon",ref:"helpIcon",style:{"font-family":"KB_C3"}},(0,o.v_)(l.mile_name)+" 마일리지 ",513),(0,i.Lk)("div",u,[(0,i.Lk)("button",{class:(0,o.C4)(["tab-container lg2 fw-bold",{active:"status"===l.activeTab}]),onClick:e[1]||(e[1]=t=>d.setActiveTab("status"))}," 취득현황 ",2),(0,i.Lk)("button",{class:(0,o.C4)(["tab-container lg2 fw-bold",{active:"intro"===l.activeTab}]),onClick:e[2]||(e[2]=t=>d.setActiveTab("intro"))}," 마일리지 소개 ",2),(0,i.Lk)("button",{class:(0,o.C4)(["tab-container lg2 fw-bold",{active:"documents"===l.activeTab}]),onClick:e[3]||(e[3]=t=>d.setActiveTab("documents"))}," 마일리지 문서 ",2)]),((0,i.uX)(),(0,i.Wv)((0,i.$y)(d.currentComponent),{mile_no:n.mile_no,onDataLoaded:d.handleDataLoaded,class:"my-5"},null,40,["mile_no","onDataLoaded"]))])}var m=n(6278),f=n(3751);const h={class:"d-flex justify-content-between align-items-center"},p={class:"lg2",style:{padding:"3em"}},g={class:"input-search input-base",style:{"margin-right":"2em",width:"17vw",height:"6vh"}},y={class:"d-flex justify-content-between align-items-center",style:{"font-size":"14pt",height:"100%","margin-left":"1em"}},v=(0,i.Lk)("button",null,[(0,i.Lk)("i",{class:"bi bi-search mr-2",style:{"font-size":"25px",color:"#4b4a4a"}})],-1),b={key:0,class:"pr-5 pl-5 pb-5 pt-4",style:{"margin-top":"10vh"}},_={class:"d-flex align-items-center justify-content-between"},k={style:{width:"80%","text-align":"left"}},L={class:"d-flex align-items-center justify-content-start"},w={key:0,style:{width:"5%","padding-left":"3%"}},x=(0,i.Lk)("span",{class:"md",style:{color:"#edbb00"}},"NEW",-1),D=[x],C={class:"d-flex align-items-center justify-content-between",style:{width:"100%"}},M={class:"lg2 pl-5",style:{"margin-left":"3%","text-align":"left","font-family":"KB_C2"}},E={class:"md pl-3",style:{width:"15%","margin-right":"2%","text-align":"right","font-family":"KB_C3"}},P=["onClick"],S=(0,i.Lk)("span",{class:"md",style:{"text-align":"right"}},"파일 다운로드 〉",-1),I=[S],j={key:1,style:{"padding-top":"10vh"}},A=(0,i.Lk)("p",{class:"lg2",style:{"text-align":"center",color:"#aeaeb2","font-family":"KB_C2"}},"검색 결과가 없습니다.",-1),T=[A],X={key:2,style:{"margin-bottom":"3%"}},O=(0,i.Lk)("i",{class:"bi bi-arrow-clockwise lg2"},null,-1);function B(t,e,n,a,r,s){return(0,i.uX)(),(0,i.CE)("div",{style:(0,o.Tr)({height:s.computedHeight})},[(0,i.Lk)("div",h,[(0,i.Lk)("div",p,"총 "+(0,o.v_)(s.documentSum)+"건",1),(0,i.Lk)("div",g,[(0,i.Lk)("div",y,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.searchQuery=t),onInput:e[1]||(e[1]=(...t)=>s.onSearch&&s.onSearch(...t)),placeholder:"검색어를 입력하세요",class:"w-100 h-100 d-inline-block",style:{"text-align":"left"}},null,544),[[f.Jo,r.searchQuery]]),v])])]),s.filteredDocuments.length>0?((0,i.uX)(),(0,i.CE)("div",b,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.paginatedDocuments,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.documnet_mile_no,class:"mx-auto mb-4 border-bottom p-4 input-base input-white list-wrapper",style:{width:"90%",height:"5em","box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)","background-color":"#FBFBFB"}},[(0,i.Lk)("div",_,[(0,i.Lk)("button",k,[(0,i.Lk)("div",L,[s.isNew(t.document_date)?((0,i.uX)(),(0,i.CE)("div",w,D)):(0,i.Q3)("",!0),(0,i.Lk)("div",C,[(0,i.Lk)("span",M,(0,o.v_)(t.document_file),1),(0,i.Lk)("span",E,(0,o.v_)(s.formatDate(t.document_date)),1)])])]),(0,i.Lk)("button",{onClick:(0,f.D$)((e=>s.downloadDocu(t.document_file)),["stop"])},I,8,P)])])))),128))])):((0,i.uX)(),(0,i.CE)("div",j,T)),s.showLoadButton?((0,i.uX)(),(0,i.CE)("div",X,[(0,i.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>s.loadDocuments&&s.loadDocuments(...t)),class:"lg2",style:{"font-family":"'KB_C1'"}},[O,(0,i.eW)(" 더보기 ")])])):(0,i.Q3)("",!0)],4)}n(4114);var F=n(7682),K=n(5093),z=n.n(K),Q={name:"AttendanceCom",props:["mile_no"],data(){return{file:null,baseHeight:60,increment:10,buttonHeight:10,searchQuery:"",currentPage:1,itemsPerPage:7,allDocuments:[],countList:0,lastInputTime:0}},methods:{...(0,m.i0)("mileExcel",["mileDocumentLists","getMileDocumentSum","downloadDocument"]),downloadDocu(t){this.downloadDocument({document_file:t})},formatDate(t){return z()(t).format("YYYY-MM-DD")},isNew(t){const e=z()(t),n=z()(),i=z()().subtract(7,"days");return e.isBetween(i,n,null,"[]")},async loadDocuments(){const t=await this.mileDocumentLists({mile_no:this.mile_no,page:this.currentPage,itemsPerPage:this.itemsPerPage});0!=t.data.length&&null!=t.data||console.error("불러올 문서가 존재하지 않습니다."),this.allDocuments.push(...t.data),this.currentPage++;const e=this.mile_no,n=await F.A.get(`/mileage/countListDocuments/${e}`);this.countList=n.data},onSearch(){const t=Date.now(),e=t-this.lastInputTime;e>500&&(this.lastInputTime=t,this.loadDocuments())}},created(){this.mile_no?(this.loadDocuments(),this.getMileDocumentSum(this.mile_no)):console.error("mile_no이 유효하지 않습니다.")},mounted(){console.log("Mile No:",this.mile_no)},computed:{...(0,m.L8)("login",["getLoginInfo"]),...(0,m.L8)("mileExcel",["getArrayMileDocument","getDocumentSum"]),arrayMileDocument(){return this.getArrayMileDocument},computedHeight(){let t=this.baseHeight+this.paginatedDocuments.length*this.increment;return this.paginatedDocuments.length%this.itemsPerPage===0&&this.paginatedDocuments.length,t+=this.buttonHeight/2,`${t}vh`},documentSum(){return this.getDocumentSum},filteredDocuments(){return this.allDocuments.filter((t=>t.document_file.includes(this.searchQuery)))},paginatedDocuments(){return this.filteredDocuments.slice(0,this.currentPage*this.itemsPerPage)},showLoadButton(){const t=this.filteredDocuments.length%this.itemsPerPage===0,e=this.filteredDocuments.length>0,n=this.filteredDocuments.length!==this.countList;return t&&e&&n}},watch:{searchQuery(){this.lastInputTime=Date.now(),this.onSearch()}}},$=n(6262);const N=(0,$.A)(Q,[["render",B]]);var H=N;const W={class:"border-bottom p-4"},Y={class:"d-flex align-items-center justify-content-between"},U={class:"lg p-3",style:{"text-align":"left","font-family":"KB_C2"}},V={class:"d-flex justify-content-between align-items-center input-gray p-4"},q={class:"lg2",style:{"text-align":"left","font-family":"KB_C3","font-size":"15pt"}},G=["onClick"],J={key:0,class:"md",style:{"text-align":"right"}};function R(t,e,n,a,r,s){return(0,i.uX)(),(0,i.CE)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.arrayMiles,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.mile_introduce_no,style:{padding:"0 5%"}},[(0,i.Lk)("div",W,[(0,i.Lk)("div",Y,[(0,i.Lk)("h3",U,(0,o.v_)(t.mile_title)+" 마일리지",1)]),(0,i.Lk)("div",V,[(0,i.Lk)("span",null,[(0,i.Lk)("pre",q,(0,o.v_)(t.mile_content),1)]),(0,i.Lk)("button",{onClick:e=>s.download(t.mile_route)},[t.mile_route?((0,i.uX)(),(0,i.CE)("p",J,"상세보기 〉")):(0,i.Q3)("",!0)],8,G)])])])))),128))])}var Z={name:"MileDocument",props:["mile_no"],data(){return{}},methods:{...(0,m.i0)("mile",["getMileDetail","downloadFile"]),showAlert(t,e,n){this.$swal({title:t,icon:e,scrollbarPadding:!1}).then((t=>{t.isConfirmed&&("#"==n?location.reload():this.$router.push(n))}))},download(t){this.downloadFile({mile_route:t})}},async created(){this.mile_no?(this.arrayMiles=await this.getMileDetail(this.mile_no),console.log("이건 가져온 마일리지 소개글",this.arrayMiles),0==this.arrayMiles.length&&this.showAlert("등록된 마일리지 소개 글이 없습니다","warning","/myMileageView")):console.error("mile_no이 유효하지 않습니다.")},mounted(){console.log("Mile No:",this.mile_no)},computed:{...(0,m.L8)("login",["getLoginInfo"]),...(0,m.L8)("mile",["getArrayMiles"]),arrayMiles(){return this.getArrayMiles}},watch:{}};const tt=(0,$.A)(Z,[["render",R]]);var et=tt;const nt=t=>((0,i.Qi)("data-v-1b3022c7"),t=t(),(0,i.jt)(),t),it={class:"mx-auto",style:{color:"#4b4a4a"}},ot={key:0,class:"row",style:{"margin-left":"7%","margin-right":"7%","margin-top":"7%"}},at={class:"cards fade-up-item mx-3",style:{"background-color":"#f9f9f9",height:"200px",position:"relative"}},rt={class:"flex-between"},st={class:"flex mb-2"},lt={class:"text-start KB_C3 fw-bolder",style:{"font-size":"16pt",margin:"0"}},ct={class:"justify-content-between align-items-center mt-3"},ut={class:"w-100"},dt={key:0,class:"mb-5"},mt=nt((()=>(0,i.Lk)("i",{class:"bi bi-caret-up-fill",style:{color:"#ff5c5c","font-size":"25pt"}},null,-1))),ft=[mt],ht={key:1},pt=nt((()=>(0,i.Lk)("span",{class:"fw-bold",style:{color:"#ffa15c","font-size":"25pt"}}," - ",-1))),gt=[pt],yt={key:2},vt=nt((()=>(0,i.Lk)("i",{class:"bi bi-caret-down-fill",style:{color:"#4d7eff","font-size":"25pt"}},null,-1))),bt=[vt],_t={class:"KB_C2",style:{"font-size":"32pt"}},kt={class:"",style:{color:"gray"}},Lt={class:"text-star",style:{"font-size":"10pt",color:"gray","margin-top":"35px"}};function wt(t,e,n,a,r,s){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",it,[r.dataLoaded&&s.filteredMileStatus.length>0?((0,i.uX)(),(0,i.CE)("div",ot,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.filteredMileStatus,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{key:e,class:"col-6 mb-3"},[(0,i.Lk)("div",at,[(0,i.Lk)("div",rt,[(0,i.Lk)("div",st,[(0,i.Lk)("div",lt,(0,o.v_)(t.score_name),1)])]),(0,i.Lk)("div",ct,[(0,i.Lk)("div",ut,[t.user_point-t.prev_point>0?((0,i.uX)(),(0,i.CE)("span",dt,ft)):t.user_point-t.prev_point==0?((0,i.uX)(),(0,i.CE)("span",ht,gt)):t.user_point-t.prev_point<0?((0,i.uX)(),(0,i.CE)("span",yt,bt)):(0,i.Q3)("",!0),(0,i.Lk)("span",_t,(0,o.v_)(t.user_point)+"pt",1),(0,i.eW)("   "),(0,i.Lk)("span",kt,"("+(0,o.v_)(t.user_point-t.prev_point)+"pt 증가)",1)])]),(0,i.Lk)("div",Lt," ( 과거 업데이트 일자 : "+(0,o.v_)(t.prev_date)+" / 최신 업데이트 일자 : "+(0,o.v_)(t.mile_date)+" ) ",1)])])))),128))])):(0,i.Q3)("",!0)])])}var xt={name:"AttendanceCom",props:["mile_no"],data(){return{dataLoaded:!1}},methods:{...(0,m.i0)("mileScore",["getMyMileStatus"]),setTransitionDelay(t,e){t.style.setProperty("--index",e)},applyFadeUpEffect(){console.log("Applying fade-up effect");const t=this.$el.querySelectorAll(".fade-up-item");console.log(`Found ${t.length} items to animate`),t.forEach(((e,n)=>{e.style.setProperty("--index",n),e.style.setProperty("z-index",t.length-n);const i=50,o=i+50*n;setTimeout((()=>{e.classList.add("fade-up-active")}),o)}))},async loadData(){try{const t=this.getLoginInfo;t&&t.user_no&&(await this.getMyMileStatus({user_no:t.user_no,mile_no:this.mile_no}),console.log("상속:",this.getMileStatus[0].mile_name),this.$emit("data-loaded",this.getMileStatus[0].mile_name),this.dataLoaded=!0,this.$nextTick((()=>{this.applyFadeUpEffect()})))}catch(t){console.error("Error loading data:",t)}}},mounted(){this.loadData().then((()=>{this.$nextTick((()=>{this.applyFadeUpEffect()}))}))},computed:{...(0,m.L8)("login",["getLoginInfo"]),...(0,m.L8)("mileScore",["getMileStatus"]),filteredMileStatus(){const t=this.getLoginInfo?this.getLoginInfo.job_no:null;return t?this.getMileStatus.filter((e=>"개인"===t?"공통"===e.job_name||"개인"===e.job_name:"기업"!==t||("공통"===e.job_name||"기업"===e.job_name))):[]}}};const Dt=(0,$.A)(xt,[["render",wt],["__scopeId","data-v-1b3022c7"]]);var Ct=Dt,Mt={name:"MileageDetailView",components:{MileDocument:H,MileIntro:et,MileStatusCom:Ct},props:["mile_no"],data(){return{activeTab:"status",mile_name:null}},methods:{...(0,m.i0)("hitMile",["hit_mile"]),setActiveTab(t){this.activeTab=t},goBack(){this.$router.go(-1)},handleDataLoaded(t){this.mile_name=t,console.log("Loaded data from child:",t)}},mounted(){console.log("Mile No:",this.mile_no)},computed:{...(0,m.L8)("login",["getLoginInfo"]),currentComponent(){switch(this.activeTab){case"status":return"MileStatusCom";case"intro":return"MileIntro";case"documents":return"MileDocument";default:return"MileStatusCom"}},watch:{}},created(){this.hit_mile(this.mile_no)}};const Et=(0,$.A)(Mt,[["render",d],["__scopeId","data-v-537c5bfb"]]);var Pt=Et},9617:function(t,e,n){var i=n(5397),o=n(5610),a=n(6198),r=function(t){return function(e,n,r){var s=i(e),l=a(s);if(0===l)return!t&&-1;var c,u=o(r,l);if(t&&n!==n){while(l>u)if(c=s[u++],c!==c)return!0}else for(;l>u;u++)if((t||u in s)&&s[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:r(!0),indexOf:r(!1)}},4527:function(t,e,n){var i=n(3724),o=n(4376),a=TypeError,r=Object.getOwnPropertyDescriptor,s=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(o(t)&&!r(t,"length").writable)throw new a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7740:function(t,e,n){var i=n(9297),o=n(5031),a=n(7347),r=n(4913);t.exports=function(t,e,n){for(var s=o(e),l=r.f,c=a.f,u=0;u<s.length;u++){var d=s[u];i(t,d)||n&&i(n,d)||l(t,d,c(e,d))}}},6837:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(t,e,n){var i=n(4475),o=n(7347).f,a=n(6699),r=n(6840),s=n(9433),l=n(7740),c=n(2796);t.exports=function(t,e){var n,u,d,m,f,h,p=t.target,g=t.global,y=t.stat;if(u=g?i:y?i[p]||s(p,{}):i[p]&&i[p].prototype,u)for(d in e){if(f=e[d],t.dontCallGetSet?(h=o(u,d),m=h&&h.value):m=u[d],n=c(g?d:p+(y?".":"#")+d,t.forced),!n&&void 0!==m){if(typeof f==typeof m)continue;l(f,m)}(t.sham||m&&m.sham)&&a(f,"sham",!0),r(u,d,f,t)}}},7055:function(t,e,n){var i=n(9504),o=n(9039),a=n(4576),r=Object,s=i("".split);t.exports=o((function(){return!r("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?s(t,""):r(t)}:r},4376:function(t,e,n){var i=n(4576);t.exports=Array.isArray||function(t){return"Array"===i(t)}},2796:function(t,e,n){var i=n(9039),o=n(4901),a=/#|\.prototype\./,r=function(t,e){var n=l[s(t)];return n===u||n!==c&&(o(e)?i(e):!!e)},s=r.normalize=function(t){return String(t).replace(a,".").toLowerCase()},l=r.data={},c=r.NATIVE="N",u=r.POLYFILL="P";t.exports=r},6198:function(t,e,n){var i=n(8014);t.exports=function(t){return i(t.length)}},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},7347:function(t,e,n){var i=n(3724),o=n(9565),a=n(8773),r=n(6980),s=n(5397),l=n(6969),c=n(9297),u=n(5917),d=Object.getOwnPropertyDescriptor;e.f=i?d:function(t,e){if(t=s(t),e=l(e),u)try{return d(t,e)}catch(n){}if(c(t,e))return r(!o(a.f,t,e),t[e])}},8480:function(t,e,n){var i=n(1828),o=n(8727),a=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},3717:function(t,e){e.f=Object.getOwnPropertySymbols},1828:function(t,e,n){var i=n(9504),o=n(9297),a=n(5397),r=n(9617).indexOf,s=n(421),l=i([].push);t.exports=function(t,e){var n,i=a(t),c=0,u=[];for(n in i)!o(s,n)&&o(i,n)&&l(u,n);while(e.length>c)o(i,n=e[c++])&&(~r(u,n)||l(u,n));return u}},8773:function(t,e){var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},5031:function(t,e,n){var i=n(7751),o=n(9504),a=n(8480),r=n(3717),s=n(8551),l=o([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=a.f(s(t)),n=r.f;return n?l(e,n(t)):e}},5610:function(t,e,n){var i=n(1291),o=Math.max,a=Math.min;t.exports=function(t,e){var n=i(t);return n<0?o(n+e,0):a(n,e)}},5397:function(t,e,n){var i=n(7055),o=n(7750);t.exports=function(t){return i(o(t))}},1291:function(t,e,n){var i=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},8014:function(t,e,n){var i=n(1291),o=Math.min;t.exports=function(t){var e=i(t);return e>0?o(e,9007199254740991):0}},4114:function(t,e,n){var i=n(6518),o=n(8981),a=n(6198),r=n(4527),s=n(6837),l=n(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=c||!u();i({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=o(this),n=a(e),i=arguments.length;s(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return r(e,n),n}})}}]);
//# sourceMappingURL=5326.d94f6e0c.js.map